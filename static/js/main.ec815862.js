/*! For license information please see main.ec815862.js.LICENSE.txt */
!function(){var e={5174:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=c(n(3395)),a=c(n(2791)),o=n(763),u=c(n(2007)),s=n(4046);function c(e){return e&&e.__esModule?e:{default:e}}var l=new(c(n(3666)).default),f=[0,30,60,90,120,150,180,210,240,270,300,330],h=[0,1.1,1,.9,.8,.7,.6,.5,.4,.3,.2,.1],d=function(e){return l.prefix({transform:"rotate("+f[e]+"deg)"})},p={height:"100%",left:0,position:"absolute",top:0,width:"100%"},v=function(e,t){var n=t.betterReactSpinkit,u=void 0===n?{}:n,c=e.color,l=e.defaultSize,f=e.name,v=e.size,m=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["color","defaultSize","name","size"]),y=(0,s.preside)(v,u.size,l),g={height:y,position:"relative",width:y},k=r({},(0,s.animate)({name:f,fillMode:"both"}),{borderRadius:"100%",height:"20%",margin:"0 auto",width:"20%"});return a.default.createElement(i.default,m,a.default.createElement("div",{style:g},(0,o.range)(12).map((function(e){return a.default.createElement("div",{key:e,style:r({},p,d(e))},a.default.createElement("div",{style:r({},k,(0,s.animate)({delay:"-"+h[e]+"s"}),{backgroundColor:(0,s.preside)(c,u.color,s.defaults.color)})}))}))))};v.contextTypes=s.defaults.contextTypes,v.propTypes={color:u.default.string,css:u.default.string.isRequired,defaultSize:u.default.number.isRequired,name:u.default.string.isRequired,size:u.default.number},t.default=v},3395:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(2791)),i=o(n(2007)),a=o(n(2756));function o(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.css,n=e.children,i=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["css","children"]);return r.default.createElement("span",i,r.default.createElement("style",{children:(0,a.default)(t)}),n)};u.propTypes={children:i.default.node,css:i.default.string.isRequired},t.default=u},7773:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=s(n(2791)),a=s(n(3395)),o=s(n(2007)),u=n(4046);function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e,t){var n=t.betterReactSpinkit,o=void 0===n?{}:n,s=e.color,c=e.dotSize,l=e.scaleEnd,f=e.scaleStart,h=e.size,d=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["color","dotSize","scaleEnd","scaleStart","size"]),p=(0,u.animationName)("chasing-dots"),v=(0,u.preside)(h,o.size,18),m=r({},(0,u.animate)({name:p+"-rotate"}),{height:v,position:"relative",width:v}),y=r({},(0,u.animate)({name:p+"-bounce"}),{backgroundColor:s||o.color||u.defaults.color,borderRadius:"100%",display:"inline-block",height:c,position:"absolute",top:0,width:c}),g=r({},y,(0,u.animate)({delay:"-1.0s"}),{bottom:0,top:"auto"});return i.default.createElement(a.default,r({css:"\n        @-webkit-keyframes "+p+"-rotate {\n          100% {\n            -webkit-transform: rotate(360deg);\n                    transform: rotate(360deg);\n          }\n        }\n        @keyframes "+p+"-rotate {\n          100% {\n            -webkit-transform: rotate(360deg);\n                    transform: rotate(360deg);\n          }\n        }\n        @-webkit-keyframes "+p+"-bounce {\n          0%, 100% {\n            -webkit-transform: scale("+f+");\n                    transform: scale("+f+");\n          }\n          50% {\n            -webkit-transform: scale("+l+");\n                    transform: scale("+l+");\n          }\n        }\n        @keyframes "+p+"-bounce {\n          0%, 100% {\n            -webkit-transform: scale("+f+");\n                    transform: scale("+f+");\n          }\n          50% {\n            -webkit-transform: scale("+l+");\n                    transform: scale("+l+");\n          }\n        }\n      "},d),i.default.createElement("div",{style:m},i.default.createElement("div",{style:y}),i.default.createElement("div",{style:g})))};c.contextTypes=u.defaults.contextTypes,c.defaultProps={dotSize:"45%",scaleEnd:1,scaleStart:0,size:18},c.propTypes={color:o.default.string,dotSize:o.default.oneOfType([o.default.number,o.default.string]),scaleEnd:o.default.number,scaleStart:o.default.number,size:o.default.number},t.default=c},3177:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=s(n(2791)),a=s(n(2007)),o=s(n(5174)),u=n(4046);function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t=e.scaleEnd,n=e.scaleStart,a=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["scaleEnd","scaleStart"]),s=(0,u.animationName)("circle");return i.default.createElement(o.default,r({css:"\n        @-webkit-keyframes "+s+" {\n          0%, 80%, 100% {\n            -webkit-transform: scale("+n+");\n                    transform: scale("+n+");\n          }\n          40% {\n            -webkit-transform: scale("+t+");\n                    transform: scale("+t+");\n          }\n        }\n\n        @keyframes "+s+" {\n          0%, 80%, 100% {\n            -webkit-transform: scale("+n+");\n                    transform: scale("+n+");\n          } 40% {\n            -webkit-transform: scale("+t+");\n                    transform: scale("+t+");\n          }\n        }\n      ",defaultSize:22,name:s},a))};c.defaultProps={scaleEnd:.7,scaleStart:.4,size:22},c.propTypes={color:a.default.string,scaleEnd:a.default.number,scaleStart:a.default.number,size:a.default.number},t.default=c},7491:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=l(n(2791)),a=l(n(3395)),o=l(n(2007)),u=n(763),s=l(n(2933)),c=n(4046);function l(e){return e&&e.__esModule?e:{default:e}}var f=(0,u.memoize)(s.default),h=function(e,t){var n=t.betterReactSpinkit,o=void 0===n?{}:n,s=e.color,l=e.col,h=e.size,d=e.row,p=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["color","col","size","row"]),v=(0,c.animationName)("cube-grid"),m=(0,c.preside)(h,o.size,18),y={display:"flex",flexFlow:"row wrap",height:m,width:m},g=r({},(0,c.animate)({name:v}),{backgroundColor:(0,c.preside)(s,o.color,c.defaults.color),height:100/d+"%",width:100/l+"%"}),k=d*l;if(k>1e3)return null;var b=f(k);return i.default.createElement(a.default,r({css:"\n        @-webkit-keyframes "+v+" {\n          0%, 70%, 100% {\n            -webkit-transform: scale3D(1, 1, 1);\n                    transform: scale3D(1, 1, 1);\n          }\n          35% {\n            -webkit-transform: scale3D(0, 0, 1);\n                    transform: scale3D(0, 0, 1);\n          }\n        }\n        @keyframes "+v+" {\n          0%, 70%, 100% {\n            -webkit-transform: scale3D(1, 1, 1);\n                    transform: scale3D(1, 1, 1);\n          }\n          35% {\n            -webkit-transform: scale3D(0, 0, 1);\n                    transform: scale3D(0, 0, 1);\n          }\n        }\n      "},p),i.default.createElement("div",{style:y},(0,u.range)(k).map((function(e){return i.default.createElement("div",{key:e,style:r({},g,(0,c.animate)({delay:b[e]+"s"}))})}))))};h.contextTypes=c.defaults.contextTypes,h.defaultProps={col:3,row:3,size:18},h.propTypes={color:o.default.string,col:o.default.number,row:o.default.number,size:o.default.number},t.default=h},2933:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=[],n=0;n<e;n++)t.push((.9*Math.random()+.1).toFixed(2));return t}},2193:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=s(n(2791)),a=s(n(3395)),o=s(n(2007)),u=n(4046);function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e,t){var n=t.betterReactSpinkit,o=void 0===n?{}:n,s=e.color,c=e.duration,l=e.scaleEnd,f=e.scaleStart,h=e.size,d=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["color","duration","scaleEnd","scaleStart","size"]),p=(0,u.animationName)("double-bounce"),v=(0,u.preside)(h,o.size,18),m={height:v,position:"relative",width:v},y=r({},(0,u.animate)({name:p,duration:c}),{backgroundColor:(0,u.preside)(s,o.color,u.defaults.color),borderRadius:"100%",height:"100%",opacity:.6,position:"absolute",top:0,left:0,width:"100%"});return i.default.createElement(a.default,r({css:"\n        @-webkit-keyframes "+p+" {\n          0%, 100% {\n            -webkit-transform: scale("+f+");\n                    transform: scale("+f+");\n          }\n          50% {\n            -webkit-transform: scale("+l+");\n                    transform: scale("+l+");\n          }\n        }\n        @keyframes "+p+" {\n          0%, 100% {\n            -webkit-transform: scale("+f+");\n                    transform: scale("+f+");\n          }\n          50% {\n            -webkit-transform: scale("+l+");\n                    transform: scale("+l+");\n          }\n        }\n      "},d),i.default.createElement("div",{style:m},i.default.createElement("div",{style:y}),i.default.createElement("div",{style:r({},y,(0,u.animate)({delay:"-1s"}))})))};c.contextTypes=u.defaults.contextTypes,c.defaultProps={duration:"2s",scaleEnd:1,scaleStart:0,size:18},c.propTypes={color:o.default.string,duration:o.default.string,scaleEnd:o.default.number,scaleStart:o.default.number,size:o.default.number},t.default=c},7399:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=s(n(2791)),a=s(n(2007)),o=s(n(5174)),u=n(4046);function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t=e.startOpacity,n=e.endOpacity,a=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["startOpacity","endOpacity"]),s=(0,u.animationName)("fading-circle");return i.default.createElement(o.default,r({css:"\n        @-webkit-keyframes "+s+" {\n          0%, 39%, 100% {\n            opacity: "+t+";\n          }\n          40% {\n            opacity: "+n+";\n          }\n        }\n        @keyframes "+s+" {\n          0%, 39%, 100% {\n            opacity: "+t+";\n          }\n          40% {\n            opacity: "+n+";\n          }\n        }\n      ",defaultSize:22,name:s},a))};c.defaultProps={endOpacity:1,size:22,startOpacity:0},c.propTypes={color:a.default.string,endOpacity:a.default.number,startOpacity:a.default.number,size:a.default.number},t.default=c},8435:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){switch(e){case 1:return"0.3s";case 3:return"0.6s";case 2:return"0.9s";default:return!1}}},9712:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){switch(e){case 1:return"90deg";case 3:return"180deg";case 2:return"270deg";default:return!1}}},2231:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=f(n(2791)),a=f(n(3395)),o=n(763),u=f(n(2007)),s=f(n(8435)),c=f(n(9712)),l=n(4046);function f(e){return e&&e.__esModule?e:{default:e}}var h=function(e,t){var n=t.betterReactSpinkit,u=void 0===n?{}:n,f=e.color,h=e.duration,d=(e.secondBounceDelay,e.size),p=e.timingFunction,v=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["color","duration","secondBounceDelay","size","timingFunction"]),m=(0,l.animationName)("folding-cube"),y=(0,l.preside)(d,u.size,18),g={height:y,padding:y/4,position:"relative",transform:"rotateZ(45deg)",width:y,WebkitTransform:"rotateZ(45deg)"},k={float:"left",height:"50%",position:"relative",width:"50%",WebkitTransform:"scale(1.1)",MsTransform:"scale(1.1)",transform:"scale(1.1)"},b=r({},(0,l.animate)({name:m,duration:h,timingFunction:p}),{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:(0,l.preside)(f,u.color,l.defaults.color),WebkitTransformOrigin:"100% 100%",MsTransformOrigin:"100% 100%",TransformOrigin:"100% 100%"});return i.default.createElement(a.default,r({css:"\n        @-webkit-keyframes "+m+" {\n          0%, 10% {\n            -webkit-transform: perspective(140px) rotateX(-180deg);\n                    transform: perspective(140px) rotateX(-180deg);\n                    opacity: 0;\n          }\n          25%, 75% {\n            -webkit-transform: perspective(140px) rotateX(0deg);\n                    transform: perspective(140px) rotateX(0deg);\n                    opacity: 1;\n          }\n          90%, 100% {\n            -webkit-transform: perspective(140px) rotateY(180deg);\n                    transform: perspective(140px) rotateY(180deg);\n                    opacity: 0;\n          }\n        }\n        @keyframes "+m+" {\n          0%, 10% {\n            -webkit-transform: perspective(140px) rotateX(-180deg);\n                    transform: perspective(140px) rotateX(-180deg);\n                    opacity: 0;\n          }\n          25%, 75% {\n            -webkit-transform: perspective(140px) rotateX(0deg);\n                    transform: perspective(140px) rotateX(0deg);\n                    opacity: 1;\n          }\n          90%, 100% {\n            -webkit-transform: perspective(140px) rotateY(180deg);\n                    transform: perspective(140px) rotateY(180deg);\n                    opacity: 0;\n          }\n        }\n      "},v),i.default.createElement("div",{style:g},(0,o.range)(4).map((function(e){var t=(0,c.default)(e),n="scale(1.1) rotateZ("+t+")",a=(0,s.default)(e);return i.default.createElement("div",{key:e,style:r({},k,t?{transform:n,WebkitTransform:n}:{})},i.default.createElement("div",{style:r({},b,a?(0,l.animate)({delay:a}):{})}))}))))};h.contextTypes=l.defaults.contextTypes,h.defaultProps={duration:"2.4s",size:18,timingFunction:"linear"},h.propTypes={color:u.default.string,duration:u.default.string,size:u.default.number,timingFunction:u.default.oneOf(["linear","ease","ease-in","ease-out","ease-in-out"])},t.default=h},6740:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=s(n(2791)),a=s(n(3395)),o=s(n(2007)),u=n(4046);function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e,t){var n=t.betterReactSpinkit,o=void 0===n?{}:n,s=e.color,c=e.duration,l=e.scaleEnd,f=e.scaleStart,h=e.size,d=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["color","duration","scaleEnd","scaleStart","size"]),p=(0,u.animationName)("pulse"),v=(0,u.preside)(h,o.size,20);return i.default.createElement(a.default,r({css:"\n        @-webkit-keyframes "+p+" {\n          0% {\n            -webkit-transform: scale("+f+");\n          }\n          100% {\n            -webkit-transform: scale("+l+");\n            opacity: 0;\n          }\n        }\n        @keyframes "+p+" {\n          0% {\n            -webkit-transform: scale("+f+");\n                    transform: scale("+f+");\n          }\n          100% {\n            -webkit-transform: scale("+l+");\n                    transform: scale("+l+");\n            opacity: 0;\n          }\n        }\n      "},d),i.default.createElement("div",{style:r({},(0,u.animate)({name:p,duration:c}),{backgroundColor:(0,u.preside)(s,o.color,u.defaults.color),borderRadius:"100%",height:v,width:v})}))};c.contextTypes=u.defaults.contextTypes,c.defaultProps={duration:"1s",scaleEnd:1,scaleStart:0,size:20},c.propTypes={color:o.default.string,duration:o.default.string,scaleEnd:o.default.number,scaleStart:o.default.number,size:o.default.number},t.default=c},9178:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=s(n(2791)),a=s(n(3395)),o=s(n(2007)),u=n(4046);function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e,t){var n=t.betterReactSpinkit,o=void 0===n?{}:n,s=e.color,c=e.duration,l=e.size,f=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["color","duration","size"]),h=(0,u.animationName)("rotating-plane"),d=(0,u.preside)(l,o.size,18);return i.default.createElement(a.default,r({css:"\n        @-webkit-keyframes "+h+" {\n          0% {\n            -webkit-transform: perspective(120px) rotateX(0deg) rotateY(0deg);\n                    transform: perspective(120px) rotateX(0deg) rotateY(0deg);\n          }\n          50% {\n            -webkit-transform: perspective(120px) rotateX(-180.1deg) rotateY(0deg);\n                    transform: perspective(120px) rotateX(-180.1deg) rotateY(0deg);\n          }\n          100% {\n            -webkit-transform: perspective(120px) rotateX(-180deg) rotateY(-179.9deg);\n                    transform: perspective(120px) rotateX(-180deg) rotateY(-179.9deg);\n          }\n        }\n        @keyframes "+h+" {\n          0% {\n            -webkit-transform: perspective(120px) rotateX(0deg) rotateY(0deg);\n                    transform: perspective(120px) rotateX(0deg) rotateY(0deg);\n          }\n          50% {\n            -webkit-transform: perspective(120px) rotateX(-180.1deg) rotateY(0deg);\n                    transform: perspective(120px) rotateX(-180.1deg) rotateY(0deg);\n          }\n          100% {\n            -webkit-transform: perspective(120px) rotateX(-180deg) rotateY(-179.9deg);\n                    transform: perspective(120px) rotateX(-180deg) rotateY(-179.9deg);\n          }\n        }\n      "},f),i.default.createElement("div",{style:r({},(0,u.animate)({name:h,duration:c}),{backgroundColor:(0,u.preside)(s,o.color,u.defaults.color),height:d,width:d})}))};c.contextTypes=u.defaults.contextTypes,c.propTypes={color:o.default.string,duration:o.default.string,size:o.default.number},c.defaultProps={duration:"1.2s",size:18},t.default=c},5299:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=s(n(2791)),a=s(n(3395)),o=s(n(2007)),u=n(4046);function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e,t){var n=t.betterReactSpinkit,o=void 0===n?{}:n,s=e.color,c=e.duration,l=e.gutter,f=e.scaleEnd,h=e.scaleStart,d=e.size,p=e.timingFunction,v=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["color","duration","gutter","scaleEnd","scaleStart","size","timingFunction"]),m=(0,u.animationName)("three-bounce"),y=(0,u.preside)(d,o.size,10),g=r({},(0,u.animate)({duration:c,name:m,timingFunction:p}),{backgroundColor:(0,u.preside)(s,o.color,u.defaults.color),borderRadius:"100%",display:"inline-block",height:y,width:y});return i.default.createElement(a.default,r({css:"\n        @-webkit-keyframes "+m+" {\n          0%, 80%, 100% {\n            -webkit-transform: scale("+h+");\n          }\n          40% {\n            -webkit-transform: scale("+f+");\n          }\n        }\n\n        @keyframes "+m+" {\n          0%, 80%, 100% {\n            transform: scale("+h+");\n            -webkit-transform: scale("+h+");\n          }\n          40% {\n            transform: scale("+f+");\n            -webkit-transform: scale("+f+");\n          }\n        }\n      "},v),i.default.createElement("div",{style:r({},g,(0,u.animate)({delay:"-0.32s"}),{marginRight:l})}),i.default.createElement("div",{style:r({},g,(0,u.animate)({delay:"-0.16s"}),{marginRight:l})}),i.default.createElement("div",{style:r({},g)}))};c.contextTypes=u.defaults.contextTypes,c.defaultProps={duration:"1.5s",size:10,scaleEnd:1,scaleStart:0,gutter:2,timingFunction:"ease-in-out"},c.propTypes={color:o.default.string,duration:o.default.string,gutter:o.default.number,scaleEnd:o.default.number,scaleStart:o.default.number,size:o.default.number,timingFunction:o.default.oneOf(["linear","ease","ease-in","ease-out","ease-in-out"])},t.default=c},5219:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=s(n(2791)),a=s(n(3395)),o=s(n(2007)),u=n(4046);function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e,t){var n=t.betterReactSpinkit,o=void 0===n?{}:n,s=e.color,c=e.cubeSize,l=e.duration,f=e.size,h=e.timingFunction,d=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["color","cubeSize","duration","size","timingFunction"]),p=(0,u.animationName)("wandering-cubes"),v=(0,u.preside)(f,o.size,16),m={height:v,paddingBottom:c,paddingRight:c,position:"relative",width:v},y=r({},(0,u.animate)({name:p,duration:l,timingFunction:h}),{backgroundColor:(0,u.preside)(s,o.color,u.defaults.color),height:c,left:0,position:"absolute",top:0,width:c});return i.default.createElement(a.default,r({css:"\n        @-webkit-keyframes "+p+" {\n          25% { -webkit-transform: translateX("+v+"px) rotate(-90deg) scale(0.5) }\n          50% { -webkit-transform: translateX("+v+"px) translateY("+v+"px) rotate(-180deg) }\n          75% { -webkit-transform: translateX(0px) translateY("+v+"px) rotate(-270deg) scale(0.5) }\n          100% { -webkit-transform: rotate(-360deg) }\n        }\n        @keyframes "+p+" {\n          25% { \n            -webkit-transform: translateX("+v+"px) rotate(-90deg) scale(0.5);\n                    transform: translateX("+v+"px) rotate(-90deg) scale(0.5);\n          } 50% { \n            -webkit-transform: translateX("+v+"px) translateY("+v+"px) rotate(-179deg);\n                    transform: translateX("+v+"px) translateY("+v+"px) rotate(-179deg);\n          } 50.1% { \n            -webkit-transform: translateX("+v+"px) translateY("+v+"px) rotate(-180deg);\n                    transform: translateX("+v+"px) translateY("+v+"px) rotate(-180deg);\n          } 75% { \n            -webkit-transform: translateX(0px) translateY("+v+"px) rotate(-270deg) scale(0.5);\n                    transform: translateX(0px) translateY("+v+"px) rotate(-270deg) scale(0.5);\n          } 100% { \n            -webkit-transform: rotate(-360deg);\n                    transform: rotate(-360deg);\n          }\n        }\n      "},d),i.default.createElement("div",{style:m},i.default.createElement("div",{style:r({},y)}),i.default.createElement("div",{style:r({},y,(0,u.animate)({delay:"-0.9s"}))})))};c.propTypes={color:o.default.string,cubeSize:o.default.number,duration:o.default.string,size:o.default.number,timingFunction:o.default.oneOf(["linear","ease","ease-in","ease-out","ease-in-out"])},c.defaultProps={cubeSize:7,duration:"2s",size:16,timingFunction:"ease-in-out"},c.contextTypes=u.defaults.contextTypes,t.default=c},6819:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=c(n(2791)),a=c(n(3395)),o=n(763),u=c(n(2007)),s=n(4046);function c(e){return e&&e.__esModule?e:{default:e}}var l=function(e,t){var n=t.betterReactSpinkit,u=void 0===n?{}:n,c=e.color,l=e.columns,f=e.columnWidth,h=e.gutterWidth,d=e.reverse,p=e.scaleYEnd,v=e.scaleYStart,m=e.size,y=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["color","columns","columnWidth","gutterWidth","reverse","scaleYEnd","scaleYStart","size"]),g=(0,s.animationName)("wave"),k=(0,s.preside)(m,u.size,22),b={display:"flex",justifyContent:"space-between",height:k-.2*k,width:k},w=r({},(0,s.animate)({name:g}),{backgroundColor:c||u.color||s.defaults.color,height:"100%",width:f}),x=d?(0,o.range)(l).reverse():(0,o.range)(l);return i.default.createElement(a.default,r({css:"\n        @-webkit-keyframes "+g+" {\n          0%, 40%, 100% {\n            -webkit-transform: scaleY("+v+")\n          }\n          20% {\n            -webkit-transform: scaleY("+p+")\n          }\n        }\n        @keyframes "+g+" {\n          0%, 40%, 100% {\n            transform: scaleY("+v+");\n            -webkit-transform: scaleY("+v+");\n          }\n          20% {\n            transform: scaleY("+p+");\n            -webkit-transform: scaleY("+p+");\n          }\n        }\n      "},y),i.default.createElement("div",{style:b},x.map((function(e){return i.default.createElement("div",{key:e,style:r({},w,(0,s.animate)({delay:"-"+e/10+"s"}),{marginRight:e!==l?h:0})})}))))};l.propTypes={color:u.default.string,columns:u.default.number,columnWidth:u.default.oneOfType([u.default.string,u.default.number]),gutterWidth:u.default.number,reverse:u.default.bool,scaleYEnd:u.default.number,scaleYStart:u.default.number,size:u.default.number},l.defaultProps={columns:5,columnWidth:"20%",gutterWidth:1,reverse:!1,scaleYEnd:1,scaleYStart:.4,size:22},l.contextTypes=s.defaults.contextTypes,t.default=l},4998:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=s(n(2791)),a=s(n(3395)),o=s(n(2007)),u=n(4046);function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e,t){var n=t.betterReactSpinkit,o=void 0===n?{}:n,s=e.color,c=e.duration,l=e.innerColor,f=e.innerSize,h=e.size,d=e.timingFunction,p=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["color","duration","innerColor","innerSize","size","timingFunction"]),v=(0,u.animationName)("wordpress"),m=(0,u.preside)(h,o.size,18),y=(0,u.preside)(f,null,m/4);return i.default.createElement(a.default,r({css:"\n        @-webkit-keyframes "+v+" {\n          0% {\n            -webkit-transform: rotate(0);\n                    transform: rotate(0);\n          }\n          100% {\n            -webkit-transform: rotate(360deg);\n                    transform: rotate(360deg);\n          }\n        }\n        @keyframes "+v+" {\n          0% {\n            -webkit-transform: rotate(0);\n                    transform: rotate(0);\n          }\n          100% {\n            -webkit-transform: rotate(360deg);\n                    transform: rotate(360deg);\n          }\n        }\n      "},p),i.default.createElement("div",{style:r({},(0,u.animate)({name:v,timingFunction:d,duration:c}),{backgroundColor:(0,u.preside)(s,o.color,u.defaults.color),borderRadius:m,display:"inline-block",height:m,position:"relative",width:m})},i.default.createElement("div",{style:{backgroundColor:l,borderRadius:y,display:"block",height:y,left:"18%",position:"absolute",top:"18%",width:y}})))};c.propTypes={color:o.default.string,duration:o.default.string,innerColor:o.default.string,innerSize:o.default.number,size:o.default.number,timingFunction:o.default.oneOf(["linear","ease","ease-in","ease-out","ease-in-out"])},c.defaultProps={duration:"2s",innerColor:"#fff",size:18,timingFunction:"linear"},c.contextTypes=u.defaults.contextTypes,t.default=c},8646:function(e,t,n){"use strict";var r=n(7773);var i=n(3177);Object.defineProperty(t,"Cd",{enumerable:!0,get:function(){return v(i).default}});var a=n(7491);var o=n(2193);var u=n(7399);var s=n(2231);var c=n(6740);var l=n(9178);var f=n(5299);var h=n(5219);var d=n(6819);var p=n(4998);function v(e){return e&&e.__esModule?e:{default:e}}},6883:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(763),a=n(892),o=(r=a)&&r.__esModule?r:{default:r};t.default=function(e){var t=e.delay,n=e.duration,r=e.fillMode,a=e.iterationCount,u=e.name,s=e.timingFunction;return u&&(n=n||"1.2s",a=a||"infinite",s=s||"ease-in-out"),(0,o.default)((0,i.omitBy)({animationDelay:t,animationDuration:n,animationFillMode:r,animationIterationCount:a,animationTimingFunction:s,animationName:u},(function(e){return!e})))}},7667:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"spinner";return"brsk-"+e}},1854:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.color=t.propTypes=t.contextTypes=void 0;var r,i=n(2007),a=(r=i)&&r.__esModule?r:{default:r};t.contextTypes={betterReactSpinkit:a.default.shape({color:a.default.string,size:a.default.number})},t.propTypes={color:a.default.string,size:a.default.number},t.color="#333"},4046:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.preside=t.defaults=t.animationName=t.animate=void 0;var r=n(6883);Object.defineProperty(t,"animate",{enumerable:!0,get:function(){return u(r).default}});var i=n(7667);Object.defineProperty(t,"animationName",{enumerable:!0,get:function(){return u(i).default}});var a=n(740);Object.defineProperty(t,"preside",{enumerable:!0,get:function(){return u(a).default}});var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1854));function u(e){return e&&e.__esModule?e:{default:e}}t.defaults=o},740:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){return e&&e!==n?e:t||n}},4180:function(e,t,n){var r;r=function(){var e=!0;function t(t){function n(e){var n=t.match(e);return n&&n.length>1&&n[1]||""}function r(e){var n=t.match(e);return n&&n.length>1&&n[2]||""}var i,o=n(/(ipod|iphone|ipad)/i).toLowerCase(),u=!/like android/i.test(t)&&/android/i.test(t),s=/nexus\s*[0-6]\s*/i.test(t),c=!s&&/nexus\s*[0-9]+/i.test(t),l=/CrOS/.test(t),f=/silk/i.test(t),h=/sailfish/i.test(t),d=/tizen/i.test(t),p=/(web|hpw)(o|0)s/i.test(t),v=/windows phone/i.test(t),m=(/SamsungBrowser/i.test(t),!v&&/windows/i.test(t)),y=!o&&!f&&/macintosh/i.test(t),g=!u&&!h&&!d&&!p&&/linux/i.test(t),k=r(/edg([ea]|ios)\/(\d+(\.\d+)?)/i),b=n(/version\/(\d+(\.\d+)?)/i),w=/tablet/i.test(t)&&!/tablet pc/i.test(t),x=!w&&/[^-]mobi/i.test(t),_=/xbox/i.test(t);/opera/i.test(t)?i={name:"Opera",opera:e,version:b||n(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/opr\/|opios/i.test(t)?i={name:"Opera",opera:e,version:n(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||b}:/SamsungBrowser/i.test(t)?i={name:"Samsung Internet for Android",samsungBrowser:e,version:b||n(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}:/Whale/i.test(t)?i={name:"NAVER Whale browser",whale:e,version:n(/(?:whale)[\s\/](\d+(?:\.\d+)+)/i)}:/MZBrowser/i.test(t)?i={name:"MZ Browser",mzbrowser:e,version:n(/(?:MZBrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/coast/i.test(t)?i={name:"Opera Coast",coast:e,version:b||n(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:/focus/i.test(t)?i={name:"Focus",focus:e,version:n(/(?:focus)[\s\/](\d+(?:\.\d+)+)/i)}:/yabrowser/i.test(t)?i={name:"Yandex Browser",yandexbrowser:e,version:b||n(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(t)?i={name:"UC Browser",ucbrowser:e,version:n(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(t)?i={name:"Maxthon",maxthon:e,version:n(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(t)?i={name:"Epiphany",epiphany:e,version:n(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(t)?i={name:"Puffin",puffin:e,version:n(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:/sleipnir/i.test(t)?i={name:"Sleipnir",sleipnir:e,version:n(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(t)?i={name:"K-Meleon",kMeleon:e,version:n(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:v?(i={name:"Windows Phone",osname:"Windows Phone",windowsphone:e},k?(i.msedge=e,i.version=k):(i.msie=e,i.version=n(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(t)?i={name:"Internet Explorer",msie:e,version:n(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:l?i={name:"Chrome",osname:"Chrome OS",chromeos:e,chromeBook:e,chrome:e,version:n(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/edg([ea]|ios)/i.test(t)?i={name:"Microsoft Edge",msedge:e,version:k}:/vivaldi/i.test(t)?i={name:"Vivaldi",vivaldi:e,version:n(/vivaldi\/(\d+(\.\d+)?)/i)||b}:h?i={name:"Sailfish",osname:"Sailfish OS",sailfish:e,version:n(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(t)?i={name:"SeaMonkey",seamonkey:e,version:n(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(t)?(i={name:"Firefox",firefox:e,version:n(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(t)&&(i.firefoxos=e,i.osname="Firefox OS")):f?i={name:"Amazon Silk",silk:e,version:n(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(t)?i={name:"PhantomJS",phantom:e,version:n(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(t)?i={name:"SlimerJS",slimer:e,version:n(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(t)||/rim\stablet/i.test(t)?i={name:"BlackBerry",osname:"BlackBerry OS",blackberry:e,version:b||n(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:p?(i={name:"WebOS",osname:"WebOS",webos:e,version:b||n(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(t)&&(i.touchpad=e)):/bada/i.test(t)?i={name:"Bada",osname:"Bada",bada:e,version:n(/dolfin\/(\d+(\.\d+)?)/i)}:d?i={name:"Tizen",osname:"Tizen",tizen:e,version:n(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||b}:/qupzilla/i.test(t)?i={name:"QupZilla",qupzilla:e,version:n(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||b}:/chromium/i.test(t)?i={name:"Chromium",chromium:e,version:n(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||b}:/chrome|crios|crmo/i.test(t)?i={name:"Chrome",chrome:e,version:n(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:u?i={name:"Android",version:b}:/safari|applewebkit/i.test(t)?(i={name:"Safari",safari:e},b&&(i.version=b)):o?(i={name:"iphone"==o?"iPhone":"ipad"==o?"iPad":"iPod"},b&&(i.version=b)):i=/googlebot/i.test(t)?{name:"Googlebot",googlebot:e,version:n(/googlebot\/(\d+(\.\d+))/i)||b}:{name:n(/^(.*)\/(.*) /),version:r(/^(.*)\/(.*) /)},!i.msedge&&/(apple)?webkit/i.test(t)?(/(apple)?webkit\/537\.36/i.test(t)?(i.name=i.name||"Blink",i.blink=e):(i.name=i.name||"Webkit",i.webkit=e),!i.version&&b&&(i.version=b)):!i.opera&&/gecko\//i.test(t)&&(i.name=i.name||"Gecko",i.gecko=e,i.version=i.version||n(/gecko\/(\d+(\.\d+)?)/i)),i.windowsphone||!u&&!i.silk?!i.windowsphone&&o?(i[o]=e,i.ios=e,i.osname="iOS"):y?(i.mac=e,i.osname="macOS"):_?(i.xbox=e,i.osname="Xbox"):m?(i.windows=e,i.osname="Windows"):g&&(i.linux=e,i.osname="Linux"):(i.android=e,i.osname="Android");var S="";i.windows?S=function(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}(n(/Windows ((NT|XP)( \d\d?.\d)?)/i)):i.windowsphone?S=n(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):i.mac?S=(S=n(/Mac OS X (\d+([_\.\s]\d+)*)/i)).replace(/[_\s]/g,"."):o?S=(S=n(/os (\d+([_\s]\d+)*) like mac os x/i)).replace(/[_\s]/g,"."):u?S=n(/android[ \/-](\d+(\.\d+)*)/i):i.webos?S=n(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):i.blackberry?S=n(/rim\stablet\sos\s(\d+(\.\d+)*)/i):i.bada?S=n(/bada\/(\d+(\.\d+)*)/i):i.tizen&&(S=n(/tizen[\/\s](\d+(\.\d+)*)/i)),S&&(i.osversion=S);var I=!i.windows&&S.split(".")[0];return w||c||"ipad"==o||u&&(3==I||I>=4&&!x)||i.silk?i.tablet=e:(x||"iphone"==o||"ipod"==o||u||s||i.blackberry||i.webos||i.bada)&&(i.mobile=e),i.msedge||i.msie&&i.version>=10||i.yandexbrowser&&i.version>=15||i.vivaldi&&i.version>=1||i.chrome&&i.version>=20||i.samsungBrowser&&i.version>=4||i.whale&&1===a([i.version,"1.0"])||i.mzbrowser&&1===a([i.version,"6.0"])||i.focus&&1===a([i.version,"1.0"])||i.firefox&&i.version>=20||i.safari&&i.version>=6||i.opera&&i.version>=10||i.ios&&i.osversion&&i.osversion.split(".")[0]>=6||i.blackberry&&i.version>=10.1||i.chromium&&i.version>=20?i.a=e:i.msie&&i.version<10||i.chrome&&i.version<20||i.firefox&&i.version<20||i.safari&&i.version<6||i.opera&&i.version<10||i.ios&&i.osversion&&i.osversion.split(".")[0]<6||i.chromium&&i.version<20?i.c=e:i.x=e,i}var n=t("undefined"!==typeof navigator&&navigator.userAgent||"");function r(e){return e.split(".").length}function i(e,t){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n++)r.push(t(e[n]));return r}function a(e){for(var t=Math.max(r(e[0]),r(e[1])),n=i(e,(function(e){var n=t-r(e);return i((e+=new Array(n+1).join(".0")).split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));--t>=0;){if(n[0][t]>n[1][t])return 1;if(n[0][t]!==n[1][t])return-1;if(0===t)return 0}}function o(e,r,i){var o=n;"string"===typeof r&&(i=r,r=void 0),void 0===r&&(r=!1),i&&(o=t(i));var u=""+o.version;for(var s in e)if(e.hasOwnProperty(s)&&o[s]){if("string"!==typeof e[s])throw new Error("Browser version in the minVersion map should be a string: "+s+": "+String(e));return a([u,e[s]])<0}return r}return n.test=function(e){for(var t=0;t<e.length;++t){var r=e[t];if("string"===typeof r&&r in n)return!0}return!1},n.isUnsupportedBrowser=o,n.compareVersions=a,n.check=function(e,t,n){return!o(e,t,n)},n._detect=t,n.detect=t,n},e.exports?e.exports=r():n.amdD("bowser",r)},8546:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,a.default)(e)};var r,i=n(7630),a=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},5216:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"string"===typeof e&&n.test(e)};var n=/-webkit-|-moz-|-ms-/;e.exports=t.default},9635:function(e,t){"use strict";var n=/^[-!#$%&'*+\/0-9=?A-Z^_a-z{|}~](\.?[-!#$%&'*+\/0-9=?A-Z^_a-z`{|}~])*@[a-zA-Z0-9](-*\.?[a-zA-Z0-9])*\.[a-zA-Z](-?[a-zA-Z0-9])+$/;t.G=function(e){if(!e)return!1;if(e.length>254)return!1;if(!n.test(e))return!1;var t=e.split("@");return!(t[0].length>64)&&!t[1].split(".").some((function(e){return e.length>63}))}},2110:function(e,t,n){"use strict";var r=n(8309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!u||!u[y])){var g=h(n,y);try{c(t,y,g)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===y)},t.typeOf=w},8309:function(e,t,n){"use strict";e.exports=n(746)},7630:function(e,t,n){"use strict";n.r(t);var r=/[A-Z]/g,i=/^ms-/,a={};function o(e){return"-"+e.toLowerCase()}t.default=function(e){if(a.hasOwnProperty(e))return a[e];var t=e.replace(r,o);return a[e]=i.test(t)?"-"+t:t}},1674:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){var t=e.prefixMap,n=e.plugins,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};return function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};f(this,e);var r="undefined"!==typeof navigator?navigator.userAgent:void 0;if(this._userAgent=n.userAgent||r,this._keepUnprefixed=n.keepUnprefixed||!1,this._userAgent&&(this._browserInfo=(0,i.default)(this._userAgent)),!this._browserInfo||!this._browserInfo.cssPrefix)return this._useFallback=!0,!1;this.prefixedKeyframes=(0,a.default)(this._browserInfo.browserName,this._browserInfo.browserVersion,this._browserInfo.cssPrefix);var o=this._browserInfo.browserName&&t[this._browserInfo.browserName];if(o){for(var u in this._requiresPrefix={},o)o[u]>=this._browserInfo.browserVersion&&(this._requiresPrefix[u]=!0);this._hasPropsRequiringPrefix=Object.keys(this._requiresPrefix).length>0}else this._useFallback=!0;this._metaData={browserVersion:this._browserInfo.browserVersion,browserName:this._browserInfo.browserName,cssPrefix:this._browserInfo.cssPrefix,jsPrefix:this._browserInfo.jsPrefix,keepUnprefixed:this._keepUnprefixed,requiresPrefix:this._requiresPrefix}}return r(e,[{key:"prefix",value:function(e){return this._useFallback?l(e):this._hasPropsRequiringPrefix?this._prefixStyle(e):e}},{key:"_prefixStyle",value:function(e){for(var t in e){var r=e[t];if((0,s.default)(r))e[t]=this.prefix(r);else if(Array.isArray(r)){for(var i=[],a=0,l=r.length;a<l;++a){var f=(0,c.default)(n,t,r[a],e,this._metaData);(0,u.default)(i,f||r[a])}i.length>0&&(e[t]=i)}else{var h=(0,c.default)(n,t,r,e,this._metaData);h&&(e[t]=h),this._requiresPrefix.hasOwnProperty(t)&&(e[this._browserInfo.jsPrefix+(0,o.default)(t)]=r,this._keepUnprefixed||delete e[t])}}return e}}],[{key:"prefixAll",value:function(e){return l(e)}}]),e}()};var i=l(n(7882)),a=l(n(9222)),o=l(n(7255)),u=l(n(8516)),s=l(n(1614)),c=l(n(4715));function l(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}e.exports=t.default},3095:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={plugins:[],prefixMap:{chrome:{appearance:64,userSelect:53,textEmphasisPosition:64,textEmphasis:64,textEmphasisStyle:64,textEmphasisColor:64,boxDecorationBreak:64,clipPath:54,maskImage:64,maskMode:64,maskRepeat:64,maskPosition:64,maskClip:64,maskOrigin:64,maskSize:64,maskComposite:64,mask:64,maskBorderSource:64,maskBorderMode:64,maskBorderSlice:64,maskBorderWidth:64,maskBorderOutset:64,maskBorderRepeat:64,maskBorder:64,maskType:64,textDecorationStyle:56,textDecorationSkip:56,textDecorationLine:56,textDecorationColor:56,filter:52,fontFeatureSettings:47,breakAfter:49,breakBefore:49,breakInside:49,columnCount:49,columnFill:49,columnGap:49,columnRule:49,columnRuleColor:49,columnRuleStyle:49,columnRuleWidth:49,columns:49,columnSpan:49,columnWidth:49,writingMode:47},safari:{flex:8,flexBasis:8,flexDirection:8,flexGrow:8,flexFlow:8,flexShrink:8,flexWrap:8,alignContent:8,alignItems:8,alignSelf:8,justifyContent:8,order:8,transform:8,transformOrigin:8,transformOriginX:8,transformOriginY:8,backfaceVisibility:8,perspective:8,perspectiveOrigin:8,transformStyle:8,transformOriginZ:8,animation:8,animationDelay:8,animationDirection:8,animationFillMode:8,animationDuration:8,animationIterationCount:8,animationName:8,animationPlayState:8,animationTimingFunction:8,appearance:11,userSelect:11,backdropFilter:11,fontKerning:9,scrollSnapType:10.1,scrollSnapPointsX:10.1,scrollSnapPointsY:10.1,scrollSnapDestination:10.1,scrollSnapCoordinate:10.1,boxDecorationBreak:11,clipPath:11,maskImage:11,maskMode:11,maskRepeat:11,maskPosition:11,maskClip:11,maskOrigin:11,maskSize:11,maskComposite:11,mask:11,maskBorderSource:11,maskBorderMode:11,maskBorderSlice:11,maskBorderWidth:11,maskBorderOutset:11,maskBorderRepeat:11,maskBorder:11,maskType:11,textDecorationStyle:11,textDecorationSkip:11,textDecorationLine:11,textDecorationColor:11,shapeImageThreshold:10,shapeImageMargin:10,shapeImageOutside:10,filter:9,hyphens:11,flowInto:11,flowFrom:11,breakBefore:8,breakAfter:8,breakInside:8,regionFragment:11,columnCount:8,columnFill:8,columnGap:8,columnRule:8,columnRuleColor:8,columnRuleStyle:8,columnRuleWidth:8,columns:8,columnSpan:8,columnWidth:8,writingMode:11},firefox:{appearance:58,userSelect:58,textAlignLast:48,tabSize:58,hyphens:42,breakAfter:51,breakBefore:51,breakInside:51,columnCount:51,columnFill:51,columnGap:51,columnRule:51,columnRuleColor:51,columnRuleStyle:51,columnRuleWidth:51,columns:51,columnSpan:51,columnWidth:51},opera:{flex:16,flexBasis:16,flexDirection:16,flexGrow:16,flexFlow:16,flexShrink:16,flexWrap:16,alignContent:16,alignItems:16,alignSelf:16,justifyContent:16,order:16,transform:22,transformOrigin:22,transformOriginX:22,transformOriginY:22,backfaceVisibility:22,perspective:22,perspectiveOrigin:22,transformStyle:22,transformOriginZ:22,animation:29,animationDelay:29,animationDirection:29,animationFillMode:29,animationDuration:29,animationIterationCount:29,animationName:29,animationPlayState:29,animationTimingFunction:29,appearance:49,userSelect:40,fontKerning:19,textEmphasisPosition:49,textEmphasis:49,textEmphasisStyle:49,textEmphasisColor:49,boxDecorationBreak:49,clipPath:41,maskImage:49,maskMode:49,maskRepeat:49,maskPosition:49,maskClip:49,maskOrigin:49,maskSize:49,maskComposite:49,mask:49,maskBorderSource:49,maskBorderMode:49,maskBorderSlice:49,maskBorderWidth:49,maskBorderOutset:49,maskBorderRepeat:49,maskBorder:49,maskType:49,textDecorationStyle:43,textDecorationSkip:43,textDecorationLine:43,textDecorationColor:43,filter:39,fontFeatureSettings:34,breakAfter:36,breakBefore:36,breakInside:36,columnCount:36,columnFill:36,columnGap:36,columnRule:36,columnRuleColor:36,columnRuleStyle:36,columnRuleWidth:36,columns:36,columnSpan:36,columnWidth:36,writingMode:34},ie:{userSelect:11,wrapFlow:11,wrapThrough:11,wrapMargin:11,scrollSnapType:11,scrollSnapPointsX:11,scrollSnapPointsY:11,scrollSnapDestination:11,scrollSnapCoordinate:11,hyphens:11,flowInto:11,flowFrom:11,breakBefore:11,breakAfter:11,breakInside:11,regionFragment:11,gridTemplateColumns:11,gridTemplateRows:11,gridTemplateAreas:11,gridTemplate:11,gridAutoColumns:11,gridAutoRows:11,gridAutoFlow:11,grid:11,gridRowStart:11,gridColumnStart:11,gridRowEnd:11,gridRow:11,gridColumn:11,gridColumnEnd:11,gridColumnGap:11,gridRowGap:11,gridArea:11,gridGap:11,textSizeAdjust:11,writingMode:11},edge:{userSelect:16,wrapFlow:16,wrapThrough:16,wrapMargin:16,scrollSnapType:16,scrollSnapPointsX:16,scrollSnapPointsY:16,scrollSnapDestination:16,scrollSnapCoordinate:16,hyphens:16,flowInto:16,flowFrom:16,breakBefore:16,breakAfter:16,breakInside:16,regionFragment:16,gridTemplateColumns:15,gridTemplateRows:15,gridTemplateAreas:15,gridTemplate:15,gridAutoColumns:15,gridAutoRows:15,gridAutoFlow:15,grid:15,gridRowStart:15,gridColumnStart:15,gridRowEnd:15,gridRow:15,gridColumn:15,gridColumnEnd:15,gridColumnGap:15,gridRowGap:15,gridArea:15,gridGap:15},ios_saf:{flex:8.1,flexBasis:8.1,flexDirection:8.1,flexGrow:8.1,flexFlow:8.1,flexShrink:8.1,flexWrap:8.1,alignContent:8.1,alignItems:8.1,alignSelf:8.1,justifyContent:8.1,order:8.1,transform:8.1,transformOrigin:8.1,transformOriginX:8.1,transformOriginY:8.1,backfaceVisibility:8.1,perspective:8.1,perspectiveOrigin:8.1,transformStyle:8.1,transformOriginZ:8.1,animation:8.1,animationDelay:8.1,animationDirection:8.1,animationFillMode:8.1,animationDuration:8.1,animationIterationCount:8.1,animationName:8.1,animationPlayState:8.1,animationTimingFunction:8.1,appearance:11,userSelect:11,backdropFilter:11,fontKerning:11,scrollSnapType:11,scrollSnapPointsX:11,scrollSnapPointsY:11,scrollSnapDestination:11,scrollSnapCoordinate:11,boxDecorationBreak:11,clipPath:11,maskImage:11,maskMode:11,maskRepeat:11,maskPosition:11,maskClip:11,maskOrigin:11,maskSize:11,maskComposite:11,mask:11,maskBorderSource:11,maskBorderMode:11,maskBorderSlice:11,maskBorderWidth:11,maskBorderOutset:11,maskBorderRepeat:11,maskBorder:11,maskType:11,textSizeAdjust:11,textDecorationStyle:11,textDecorationSkip:11,textDecorationLine:11,textDecorationColor:11,shapeImageThreshold:10,shapeImageMargin:10,shapeImageOutside:10,filter:9,hyphens:11,flowInto:11,flowFrom:11,breakBefore:8.1,breakAfter:8.1,breakInside:8.1,regionFragment:11,columnCount:8.1,columnFill:8.1,columnGap:8.1,columnRule:8.1,columnRuleColor:8.1,columnRuleStyle:8.1,columnRuleWidth:8.1,columns:8.1,columnSpan:8.1,columnWidth:8.1,writingMode:11},android:{borderImage:4.2,borderImageOutset:4.2,borderImageRepeat:4.2,borderImageSlice:4.2,borderImageSource:4.2,borderImageWidth:4.2,flex:4.2,flexBasis:4.2,flexDirection:4.2,flexGrow:4.2,flexFlow:4.2,flexShrink:4.2,flexWrap:4.2,alignContent:4.2,alignItems:4.2,alignSelf:4.2,justifyContent:4.2,order:4.2,transition:4.2,transitionDelay:4.2,transitionDuration:4.2,transitionProperty:4.2,transitionTimingFunction:4.2,transform:4.4,transformOrigin:4.4,transformOriginX:4.4,transformOriginY:4.4,backfaceVisibility:4.4,perspective:4.4,perspectiveOrigin:4.4,transformStyle:4.4,transformOriginZ:4.4,animation:4.4,animationDelay:4.4,animationDirection:4.4,animationFillMode:4.4,animationDuration:4.4,animationIterationCount:4.4,animationName:4.4,animationPlayState:4.4,animationTimingFunction:4.4,appearance:56,userSelect:4.4,fontKerning:4.4,textEmphasisPosition:56,textEmphasis:56,textEmphasisStyle:56,textEmphasisColor:56,boxDecorationBreak:56,clipPath:4.4,maskImage:56,maskMode:56,maskRepeat:56,maskPosition:56,maskClip:56,maskOrigin:56,maskSize:56,maskComposite:56,mask:56,maskBorderSource:56,maskBorderMode:56,maskBorderSlice:56,maskBorderWidth:56,maskBorderOutset:56,maskBorderRepeat:56,maskBorder:56,maskType:56,filter:4.4,fontFeatureSettings:4.4,breakAfter:4.4,breakBefore:4.4,breakInside:4.4,columnCount:4.4,columnFill:4.4,columnGap:4.4,columnRule:4.4,columnRuleColor:4.4,columnRuleStyle:4.4,columnRuleWidth:4.4,columns:4.4,columnSpan:4.4,columnWidth:4.4,writingMode:4.4},and_chr:{appearance:61,textEmphasisPosition:61,textEmphasis:61,textEmphasisStyle:61,textEmphasisColor:61,boxDecorationBreak:61,maskImage:61,maskMode:61,maskRepeat:61,maskPosition:61,maskClip:61,maskOrigin:61,maskSize:61,maskComposite:61,mask:61,maskBorderSource:61,maskBorderMode:61,maskBorderSlice:61,maskBorderWidth:61,maskBorderOutset:61,maskBorderRepeat:61,maskBorder:61,maskType:61},and_uc:{flex:11.4,flexBasis:11.4,flexDirection:11.4,flexGrow:11.4,flexFlow:11.4,flexShrink:11.4,flexWrap:11.4,alignContent:11.4,alignItems:11.4,alignSelf:11.4,justifyContent:11.4,order:11.4,transform:11.4,transformOrigin:11.4,transformOriginX:11.4,transformOriginY:11.4,backfaceVisibility:11.4,perspective:11.4,perspectiveOrigin:11.4,transformStyle:11.4,transformOriginZ:11.4,animation:11.4,animationDelay:11.4,animationDirection:11.4,animationFillMode:11.4,animationDuration:11.4,animationIterationCount:11.4,animationName:11.4,animationPlayState:11.4,animationTimingFunction:11.4,appearance:11.4,userSelect:11.4,textEmphasisPosition:11.4,textEmphasis:11.4,textEmphasisStyle:11.4,textEmphasisColor:11.4,clipPath:11.4,maskImage:11.4,maskMode:11.4,maskRepeat:11.4,maskPosition:11.4,maskClip:11.4,maskOrigin:11.4,maskSize:11.4,maskComposite:11.4,mask:11.4,maskBorderSource:11.4,maskBorderMode:11.4,maskBorderSlice:11.4,maskBorderWidth:11.4,maskBorderOutset:11.4,maskBorderRepeat:11.4,maskBorder:11.4,maskType:11.4,textSizeAdjust:11.4,filter:11.4,hyphens:11.4,fontFeatureSettings:11.4,breakAfter:11.4,breakBefore:11.4,breakInside:11.4,columnCount:11.4,columnFill:11.4,columnGap:11.4,columnRule:11.4,columnRuleColor:11.4,columnRuleStyle:11.4,columnRuleWidth:11.4,columns:11.4,columnSpan:11.4,columnWidth:11.4,writingMode:11.4},op_mini:{}}},e.exports=t.default},3666:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=m(n(1674)),i=m(n(2830)),a=m(n(6028)),o=m(n(1680)),u=m(n(504)),s=m(n(8517)),c=m(n(2970)),l=m(n(1976)),f=m(n(4560)),h=m(n(7242)),d=m(n(6701)),p=m(n(892)),v=m(n(3095));function m(e){return e&&e.__esModule?e:{default:e}}var y=[a.default,i.default,o.default,s.default,c.default,l.default,f.default,h.default,d.default,u.default],g=(0,r.default)({prefixMap:v.default.prefixMap,plugins:y},p.default);t.default=g,e.exports=t.default},6028:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){var i=r.browserName,o=r.browserVersion,u=r.cssPrefix,s=r.keepUnprefixed;if("string"===typeof t&&t.indexOf("cross-fade(")>-1&&("chrome"===i||"opera"===i||"and_chr"===i||("ios_saf"===i||"safari"===i)&&o<10))return(0,a.default)(t.replace(/cross-fade\(/g,u+"cross-fade("),t,s)};var r,i=n(3946),a=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},2830:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){var i=r.browserName,s=r.browserVersion,c=r.cssPrefix,l=r.keepUnprefixed;if("cursor"===e&&o[t]&&("firefox"===i||"chrome"===i||"safari"===i||"opera"===i))return(0,a.default)(c+t,t,l);if("cursor"===e&&u[t]&&("firefox"===i&&s<24||"chrome"===i&&s<37||"safari"===i&&s<9||"opera"===i&&s<24))return(0,a.default)(c+t,t,l)};var r,i=n(3946),a=(r=i)&&r.__esModule?r:{default:r};var o={grab:!0,grabbing:!0},u={"zoom-in":!0,"zoom-out":!0};e.exports=t.default},1680:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){var i=r.browserName,o=r.browserVersion,u=r.cssPrefix,s=r.keepUnprefixed;if("string"===typeof t&&t.indexOf("filter(")>-1&&("ios_saf"===i||"safari"===i&&o<9.1))return(0,a.default)(t.replace(/filter\(/g,u+"filter("),t,s)};var r,i=n(3946),a=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},504:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){var i=r.browserName,u=r.browserVersion,s=r.cssPrefix,c=r.keepUnprefixed;if("display"===e&&o[t]&&("chrome"===i&&u<29&&u>20||("safari"===i||"ios_saf"===i)&&u<9&&u>6||"opera"===i&&(15===u||16===u)))return(0,a.default)(s+t,t,c)};var r,i=n(3946),a=(r=i)&&r.__esModule?r:{default:r};var o={flex:!0,"inline-flex":!0};e.exports=t.default},8517:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){var i=r.browserName,c=r.browserVersion,l=r.cssPrefix,f=r.keepUnprefixed,h=r.requiresPrefix;if((s.indexOf(e)>-1||"display"===e&&"string"===typeof t&&t.indexOf("flex")>-1)&&("firefox"===i&&c<22||"chrome"===i&&c<21||("safari"===i||"ios_saf"===i)&&c<=6.1||"android"===i&&c<4.4||"and_uc"===i)){if(delete h[e],f||Array.isArray(n[e])||delete n[e],"flexDirection"===e&&"string"===typeof t&&(t.indexOf("column")>-1?n.WebkitBoxOrient="vertical":n.WebkitBoxOrient="horizontal",t.indexOf("reverse")>-1?n.WebkitBoxDirection="reverse":n.WebkitBoxDirection="normal"),"display"===e&&o.hasOwnProperty(t))return(0,a.default)(l+o[t],t,f);u.hasOwnProperty(e)&&(n[u[e]]=o[t]||t)}};var r,i=n(3946),a=(r=i)&&r.__esModule?r:{default:r};var o={"space-around":"justify","space-between":"justify","flex-start":"start","flex-end":"end","wrap-reverse":"multiple",wrap:"multiple",flex:"box","inline-flex":"inline-box"},u={alignItems:"WebkitBoxAlign",justifyContent:"WebkitBoxPack",flexWrap:"WebkitBoxLines"},s=Object.keys(u).concat(["alignContent","alignSelf","order","flexGrow","flexShrink","flexBasis","flexDirection"]);e.exports=t.default},2970:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){var i=r.browserName,u=r.browserVersion,s=r.cssPrefix,c=r.keepUnprefixed;if("string"===typeof t&&o.test(t)&&("firefox"===i&&u<16||"chrome"===i&&u<26||("safari"===i||"ios_saf"===i)&&u<7||("opera"===i||"op_mini"===i)&&u<12.1||"android"===i&&u<4.4||"and_uc"===i))return(0,a.default)(s+t,t,c)};var r,i=n(3946),a=(r=i)&&r.__esModule?r:{default:r};var o=/linear-gradient|radial-gradient|repeating-linear-gradient|repeating-radial-gradient/;e.exports=t.default},1976:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){var i=r.browserName,o=r.cssPrefix,u=r.keepUnprefixed;if("string"===typeof t&&t.indexOf("image-set(")>-1&&("chrome"===i||"opera"===i||"and_chr"===i||"and_uc"===i||"ios_saf"===i||"safari"===i))return(0,a.default)(t.replace(/image-set\(/g,o+"image-set("),t,u)};var r,i=n(3946),a=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},4560:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){var i=r.browserName,o=r.cssPrefix,u=r.keepUnprefixed;if("position"===e&&"sticky"===t&&("safari"===i||"ios_saf"===i))return(0,a.default)(o+t,t,u)};var r,i=n(3946),a=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},7242:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){var i=r.cssPrefix,s=r.keepUnprefixed;if(o.hasOwnProperty(e)&&u.hasOwnProperty(t))return(0,a.default)(i+t,t,s)};var r,i=n(3946),a=(r=i)&&r.__esModule?r:{default:r};var o={maxHeight:!0,maxWidth:!0,width:!0,height:!0,columnWidth:!0,minWidth:!0,minHeight:!0},u={"min-content":!0,"max-content":!0,"fill-available":!0,"fit-content":!0,"contain-floats":!0};e.exports=t.default},6701:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){var i=r.cssPrefix,s=r.keepUnprefixed,c=r.requiresPrefix;if("string"===typeof t&&o.hasOwnProperty(e)){u||(u=Object.keys(c).map((function(e){return(0,a.default)(e)})));var l=t.split(/,(?![^()]*(?:\([^()]*\))?\))/g);return u.forEach((function(e){l.forEach((function(t,n){t.indexOf(e)>-1&&"order"!==e&&(l[n]=t.replace(e,i+e)+(s?","+t:""))}))})),l.join(",")}};var r,i=n(8546),a=(r=i)&&r.__esModule?r:{default:r};var o={transition:!0,transitionProperty:!0,WebkitTransition:!0,WebkitTransitionProperty:!0,MozTransition:!0,MozTransitionProperty:!0},u=void 0;e.exports=t.default},5193:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.prefixMap,n=e.plugins;return function e(u){for(var s in u){var c=u[s];if((0,o.default)(c))u[s]=e(c);else if(Array.isArray(c)){for(var l=[],f=0,h=c.length;f<h;++f){var d=(0,i.default)(n,s,c[f],u,t);(0,a.default)(l,d||c[f])}l.length>0&&(u[s]=l)}else{var p=(0,i.default)(n,s,c,u,t);p&&(u[s]=p),(0,r.default)(t,s,u)}}return u}};var r=u(n(8183)),i=u(n(4715)),a=u(n(8516)),o=u(n(1614));function u(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},892:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=v(n(5193)),i=v(n(9169)),a=v(n(4053)),o=v(n(4370)),u=v(n(6840)),s=v(n(4751)),c=v(n(48)),l=v(n(4810)),f=v(n(8574)),h=v(n(9091)),d=v(n(6312)),p=v(n(4500));function v(e){return e&&e.__esModule?e:{default:e}}var m=[o.default,a.default,u.default,c.default,l.default,f.default,h.default,d.default,p.default,s.default];t.default=(0,r.default)({prefixMap:i.default.prefixMap,plugins:m}),e.exports=t.default},4370:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"===typeof t&&!(0,a.default)(t)&&t.indexOf("cross-fade(")>-1)return o.map((function(e){return t.replace(/cross-fade\(/g,e+"cross-fade(")}))};var r,i=n(5216),a=(r=i)&&r.__esModule?r:{default:r};var o=["-webkit-",""];e.exports=t.default},4053:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("cursor"===e&&r.hasOwnProperty(t))return n.map((function(e){return e+t}))};var n=["-webkit-","-moz-",""],r={"zoom-in":!0,"zoom-out":!0,grab:!0,grabbing:!0};e.exports=t.default},6840:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"===typeof t&&!(0,a.default)(t)&&t.indexOf("filter(")>-1)return o.map((function(e){return t.replace(/filter\(/g,e+"filter(")}))};var r,i=n(5216),a=(r=i)&&r.__esModule?r:{default:r};var o=["-webkit-",""];e.exports=t.default},4751:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("display"===e&&n.hasOwnProperty(t))return n[t]};var n={flex:["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex","flex"],"inline-flex":["-webkit-inline-box","-moz-inline-box","-ms-inline-flexbox","-webkit-inline-flex","inline-flex"]};e.exports=t.default},48:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,i){"flexDirection"===e&&"string"===typeof t&&(t.indexOf("column")>-1?i.WebkitBoxOrient="vertical":i.WebkitBoxOrient="horizontal",t.indexOf("reverse")>-1?i.WebkitBoxDirection="reverse":i.WebkitBoxDirection="normal");r.hasOwnProperty(e)&&(i[r[e]]=n[t]||t)};var n={"space-around":"justify","space-between":"justify","flex-start":"start","flex-end":"end","wrap-reverse":"multiple",wrap:"multiple"},r={alignItems:"WebkitBoxAlign",justifyContent:"WebkitBoxPack",flexWrap:"WebkitBoxLines"};e.exports=t.default},4810:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"===typeof t&&!(0,a.default)(t)&&u.test(t))return o.map((function(e){return e+t}))};var r,i=n(5216),a=(r=i)&&r.__esModule?r:{default:r};var o=["-webkit-","-moz-",""],u=/linear-gradient|radial-gradient|repeating-linear-gradient|repeating-radial-gradient/;e.exports=t.default},8574:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"===typeof t&&!(0,a.default)(t)&&t.indexOf("image-set(")>-1)return o.map((function(e){return t.replace(/image-set\(/g,e+"image-set(")}))};var r,i=n(5216),a=(r=i)&&r.__esModule?r:{default:r};var o=["-webkit-",""];e.exports=t.default},9091:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("position"===e&&"sticky"===t)return["-webkit-sticky","sticky"]},e.exports=t.default},6312:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(r.hasOwnProperty(e)&&i.hasOwnProperty(t))return n.map((function(e){return e+t}))};var n=["-webkit-","-moz-",""],r={maxHeight:!0,maxWidth:!0,width:!0,height:!0,columnWidth:!0,minWidth:!0,minHeight:!0},i={"min-content":!0,"max-content":!0,"fill-available":!0,"fit-content":!0,"contain-floats":!0};e.exports=t.default},4500:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,o){if("string"===typeof t&&u.hasOwnProperty(e)){var c=function(e,t){if((0,i.default)(e))return e;for(var n=e.split(/,(?![^()]*(?:\([^()]*\))?\))/g),a=0,o=n.length;a<o;++a){var u=n[a],c=[u];for(var l in t){var f=(0,r.default)(l);if(u.indexOf(f)>-1&&"order"!==f)for(var h=t[l],d=0,p=h.length;d<p;++d)c.unshift(u.replace(f,s[h[d]]+f))}n[a]=c.join(",")}return n.join(",")}(t,o),l=c.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter((function(e){return!/-moz-|-ms-/.test(e)})).join(",");if(e.indexOf("Webkit")>-1)return l;var f=c.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter((function(e){return!/-webkit-|-ms-/.test(e)})).join(",");return e.indexOf("Moz")>-1?f:(n["Webkit"+(0,a.default)(e)]=l,n["Moz"+(0,a.default)(e)]=f,c)}};var r=o(n(8546)),i=o(n(5216)),a=o(n(7255));function o(e){return e&&e.__esModule?e:{default:e}}var u={transition:!0,transitionProperty:!0,WebkitTransition:!0,WebkitTransitionProperty:!0,MozTransition:!0,MozTransitionProperty:!0},s={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-"};e.exports=t.default},9169:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=["Webkit"],r=["Moz"],i=["ms"],a=["Webkit","Moz"],o=["Webkit","ms"],u=["Webkit","Moz","ms"];t.default={plugins:[],prefixMap:{appearance:a,userSelect:u,textEmphasisPosition:n,textEmphasis:n,textEmphasisStyle:n,textEmphasisColor:n,boxDecorationBreak:n,clipPath:n,maskImage:n,maskMode:n,maskRepeat:n,maskPosition:n,maskClip:n,maskOrigin:n,maskSize:n,maskComposite:n,mask:n,maskBorderSource:n,maskBorderMode:n,maskBorderSlice:n,maskBorderWidth:n,maskBorderOutset:n,maskBorderRepeat:n,maskBorder:n,maskType:n,textDecorationStyle:n,textDecorationSkip:n,textDecorationLine:n,textDecorationColor:n,filter:n,fontFeatureSettings:n,breakAfter:u,breakBefore:u,breakInside:u,columnCount:a,columnFill:a,columnGap:a,columnRule:a,columnRuleColor:a,columnRuleStyle:a,columnRuleWidth:a,columns:a,columnSpan:a,columnWidth:a,writingMode:o,flex:n,flexBasis:n,flexDirection:n,flexGrow:n,flexFlow:n,flexShrink:n,flexWrap:n,alignContent:n,alignItems:n,alignSelf:n,justifyContent:n,order:n,transform:n,transformOrigin:n,transformOriginX:n,transformOriginY:n,backfaceVisibility:n,perspective:n,perspectiveOrigin:n,transformStyle:n,transformOriginZ:n,animation:n,animationDelay:n,animationDirection:n,animationFillMode:n,animationDuration:n,animationIterationCount:n,animationName:n,animationPlayState:n,animationTimingFunction:n,backdropFilter:n,fontKerning:n,scrollSnapType:o,scrollSnapPointsX:o,scrollSnapPointsY:o,scrollSnapDestination:o,scrollSnapCoordinate:o,shapeImageThreshold:n,shapeImageMargin:n,shapeImageOutside:n,hyphens:u,flowInto:o,flowFrom:o,regionFragment:o,textAlignLast:r,tabSize:r,wrapFlow:i,wrapThrough:i,wrapMargin:i,gridTemplateColumns:i,gridTemplateRows:i,gridTemplateAreas:i,gridTemplate:i,gridAutoColumns:i,gridAutoRows:i,gridAutoFlow:i,grid:i,gridRowStart:i,gridColumnStart:i,gridRowEnd:i,gridRow:i,gridColumn:i,gridColumnEnd:i,gridColumnGap:i,gridRowGap:i,gridArea:i,gridGap:i,textSizeAdjust:o,borderImage:n,borderImageOutset:n,borderImageRepeat:n,borderImageSlice:n,borderImageSource:n,borderImageWidth:n,transitionDelay:n,transitionDuration:n,transitionProperty:n,transitionTimingFunction:n}},e.exports=t.default},8516:function(e,t){"use strict";function n(e,t){-1===e.indexOf(t)&&e.push(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(Array.isArray(t))for(var r=0,i=t.length;r<i;++r)n(e,t[r]);else n(e,t)},e.exports=t.default},7255:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},e.exports=t.default},7882:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=a.default._detect(e);t.yandexbrowser&&(t=a.default._detect(e.replace(/YaBrowser\/[0-9.]*/,"")));for(var n in o)if(t.hasOwnProperty(n)){var r=o[n];t.jsPrefix=r,t.cssPrefix="-"+r.toLowerCase()+"-";break}t.browserName=function(e){if(e.firefox)return"firefox";if(e.mobile||e.tablet){if(e.ios)return"ios_saf";if(e.android)return"android";if(e.opera)return"op_mini"}for(var t in u)if(e.hasOwnProperty(t))return u[t]}(t),t.version?t.browserVersion=parseFloat(t.version):t.browserVersion=parseInt(parseFloat(t.osversion),10);t.osVersion=parseFloat(t.osversion),"ios_saf"===t.browserName&&t.browserVersion>t.osVersion&&(t.browserVersion=t.osVersion);"android"===t.browserName&&t.chrome&&t.browserVersion>37&&(t.browserName="and_chr");"android"===t.browserName&&t.osVersion<5&&(t.browserVersion=t.osVersion);"android"===t.browserName&&t.samsungBrowser&&(t.browserName="and_chr",t.browserVersion=44);return t};var r,i=n(4180),a=(r=i)&&r.__esModule?r:{default:r};var o={chrome:"Webkit",safari:"Webkit",ios:"Webkit",android:"Webkit",phantom:"Webkit",opera:"Webkit",webos:"Webkit",blackberry:"Webkit",bada:"Webkit",tizen:"Webkit",chromium:"Webkit",vivaldi:"Webkit",firefox:"Moz",seamoney:"Moz",sailfish:"Moz",msie:"ms",msedge:"ms"},u={chrome:"chrome",chromium:"chrome",safari:"safari",firfox:"firefox",msedge:"edge",opera:"opera",vivaldi:"opera",msie:"ie"};e.exports=t.default},9222:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r="keyframes";if("chrome"===e&&t<43||("safari"===e||"ios_saf"===e)&&t<9||"opera"===e&&t<30||"android"===e&&t<=4.4||"and_uc"===e)return n+r;return r},e.exports=t.default},3946:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(n)return[e,t];return e},e.exports=t.default},1614:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e instanceof Object&&!Array.isArray(e)},e.exports=t.default},8183:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(e.hasOwnProperty(t))for(var r=e[t],i=0,o=r.length;i<o;++i)n[r[i]+(0,a.default)(t)]=n[t]};var r,i=n(7255),a=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},4715:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r,i){for(var a=0,o=e.length;a<o;++a){var u=e[a](t,n,r,i);if(u)return u}},e.exports=t.default},763:function(e,t,n){var r;e=n.nmd(e),function(){var i,a="Expected a function",o="__lodash_hash_undefined__",u="__lodash_placeholder__",s=16,c=32,l=64,f=128,h=256,d=1/0,p=9007199254740991,v=NaN,m=4294967295,y=[["ary",f],["bind",1],["bindKey",2],["curry",8],["curryRight",s],["flip",512],["partial",c],["partialRight",l],["rearg",h]],g="[object Arguments]",k="[object Array]",b="[object Boolean]",w="[object Date]",x="[object Error]",_="[object Function]",S="[object GeneratorFunction]",I="[object Map]",E="[object Number]",T="[object Object]",C="[object Promise]",A="[object RegExp]",O="[object Set]",N="[object String]",P="[object Symbol]",D="[object WeakMap]",R="[object ArrayBuffer]",L="[object DataView]",M="[object Float32Array]",F="[object Float64Array]",j="[object Int8Array]",U="[object Int16Array]",V="[object Int32Array]",z="[object Uint8Array]",B="[object Uint8ClampedArray]",q="[object Uint16Array]",W="[object Uint32Array]",K=/\b__p \+= '';/g,G=/\b(__p \+=) '' \+/g,H=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Q=/&(?:amp|lt|gt|quot|#39);/g,$=/[&<>"']/g,Y=RegExp(Q.source),X=RegExp($.source),J=/<%-([\s\S]+?)%>/g,Z=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ne=/^\w*$/,re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ie=/[\\^$.*+?()[\]{}|]/g,ae=RegExp(ie.source),oe=/^\s+/,ue=/\s/,se=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ce=/\{\n\/\* \[wrapped with (.+)\] \*/,le=/,? & /,fe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,he=/[()=,{}\[\]\/\s]/,de=/\\(\\)?/g,pe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ve=/\w*$/,me=/^[-+]0x[0-9a-f]+$/i,ye=/^0b[01]+$/i,ge=/^\[object .+?Constructor\]$/,ke=/^0o[0-7]+$/i,be=/^(?:0|[1-9]\d*)$/,we=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,xe=/($^)/,_e=/['\n\r\u2028\u2029\\]/g,Se="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ie="\\u2700-\\u27bf",Ee="a-z\\xdf-\\xf6\\xf8-\\xff",Te="A-Z\\xc0-\\xd6\\xd8-\\xde",Ce="\\ufe0e\\ufe0f",Ae="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Oe="['\u2019]",Ne="[\\ud800-\\udfff]",Pe="["+Ae+"]",De="["+Se+"]",Re="\\d+",Le="[\\u2700-\\u27bf]",Me="["+Ee+"]",Fe="[^\\ud800-\\udfff"+Ae+Re+Ie+Ee+Te+"]",je="\\ud83c[\\udffb-\\udfff]",Ue="[^\\ud800-\\udfff]",Ve="(?:\\ud83c[\\udde6-\\uddff]){2}",ze="[\\ud800-\\udbff][\\udc00-\\udfff]",Be="["+Te+"]",qe="(?:"+Me+"|"+Fe+")",We="(?:"+Be+"|"+Fe+")",Ke="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Ge="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",He="(?:"+De+"|"+je+")"+"?",Qe="[\\ufe0e\\ufe0f]?",$e=Qe+He+("(?:\\u200d(?:"+[Ue,Ve,ze].join("|")+")"+Qe+He+")*"),Ye="(?:"+[Le,Ve,ze].join("|")+")"+$e,Xe="(?:"+[Ue+De+"?",De,Ve,ze,Ne].join("|")+")",Je=RegExp(Oe,"g"),Ze=RegExp(De,"g"),et=RegExp(je+"(?="+je+")|"+Xe+$e,"g"),tt=RegExp([Be+"?"+Me+"+"+Ke+"(?="+[Pe,Be,"$"].join("|")+")",We+"+"+Ge+"(?="+[Pe,Be+qe,"$"].join("|")+")",Be+"?"+qe+"+"+Ke,Be+"+"+Ge,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Re,Ye].join("|"),"g"),nt=RegExp("[\\u200d\\ud800-\\udfff"+Se+Ce+"]"),rt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,it=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],at=-1,ot={};ot[M]=ot[F]=ot[j]=ot[U]=ot[V]=ot[z]=ot[B]=ot[q]=ot[W]=!0,ot[g]=ot[k]=ot[R]=ot[b]=ot[L]=ot[w]=ot[x]=ot[_]=ot[I]=ot[E]=ot[T]=ot[A]=ot[O]=ot[N]=ot[D]=!1;var ut={};ut[g]=ut[k]=ut[R]=ut[L]=ut[b]=ut[w]=ut[M]=ut[F]=ut[j]=ut[U]=ut[V]=ut[I]=ut[E]=ut[T]=ut[A]=ut[O]=ut[N]=ut[P]=ut[z]=ut[B]=ut[q]=ut[W]=!0,ut[x]=ut[_]=ut[D]=!1;var st={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ct=parseFloat,lt=parseInt,ft="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,ht="object"==typeof self&&self&&self.Object===Object&&self,dt=ft||ht||Function("return this")(),pt=t&&!t.nodeType&&t,vt=pt&&e&&!e.nodeType&&e,mt=vt&&vt.exports===pt,yt=mt&&ft.process,gt=function(){try{var e=vt&&vt.require&&vt.require("util").types;return e||yt&&yt.binding&&yt.binding("util")}catch(t){}}(),kt=gt&&gt.isArrayBuffer,bt=gt&&gt.isDate,wt=gt&&gt.isMap,xt=gt&&gt.isRegExp,_t=gt&&gt.isSet,St=gt&&gt.isTypedArray;function It(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Et(e,t,n,r){for(var i=-1,a=null==e?0:e.length;++i<a;){var o=e[i];t(r,o,n(o),e)}return r}function Tt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Ct(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function At(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Ot(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}function Nt(e,t){return!!(null==e?0:e.length)&&zt(e,t,0)>-1}function Pt(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Dt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function Rt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Lt(e,t,n,r){var i=-1,a=null==e?0:e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}function Mt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function Ft(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var jt=Kt("length");function Ut(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function Vt(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}function zt(e,t,n){return t===t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):Vt(e,qt,n)}function Bt(e,t,n,r){for(var i=n-1,a=e.length;++i<a;)if(r(e[i],t))return i;return-1}function qt(e){return e!==e}function Wt(e,t){var n=null==e?0:e.length;return n?Qt(e,t)/n:v}function Kt(e){return function(t){return null==t?i:t[e]}}function Gt(e){return function(t){return null==e?i:e[t]}}function Ht(e,t,n,r,i){return i(e,(function(e,i,a){n=r?(r=!1,e):t(n,e,i,a)})),n}function Qt(e,t){for(var n,r=-1,a=e.length;++r<a;){var o=t(e[r]);o!==i&&(n=n===i?o:n+o)}return n}function $t(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Yt(e){return e?e.slice(0,vn(e)+1).replace(oe,""):e}function Xt(e){return function(t){return e(t)}}function Jt(e,t){return Dt(t,(function(t){return e[t]}))}function Zt(e,t){return e.has(t)}function en(e,t){for(var n=-1,r=e.length;++n<r&&zt(t,e[n],0)>-1;);return n}function tn(e,t){for(var n=e.length;n--&&zt(t,e[n],0)>-1;);return n}function nn(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var rn=Gt({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),an=Gt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function on(e){return"\\"+st[e]}function un(e){return nt.test(e)}function sn(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function cn(e,t){return function(n){return e(t(n))}}function ln(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var o=e[n];o!==t&&o!==u||(e[n]=u,a[i++]=n)}return a}function fn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function hn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function dn(e){return un(e)?function(e){var t=et.lastIndex=0;for(;et.test(e);)++t;return t}(e):jt(e)}function pn(e){return un(e)?function(e){return e.match(et)||[]}(e):function(e){return e.split("")}(e)}function vn(e){for(var t=e.length;t--&&ue.test(e.charAt(t)););return t}var mn=Gt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var yn=function e(t){var n=(t=null==t?dt:yn.defaults(dt.Object(),t,yn.pick(dt,it))).Array,r=t.Date,ue=t.Error,Se=t.Function,Ie=t.Math,Ee=t.Object,Te=t.RegExp,Ce=t.String,Ae=t.TypeError,Oe=n.prototype,Ne=Se.prototype,Pe=Ee.prototype,De=t["__core-js_shared__"],Re=Ne.toString,Le=Pe.hasOwnProperty,Me=0,Fe=function(){var e=/[^.]+$/.exec(De&&De.keys&&De.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),je=Pe.toString,Ue=Re.call(Ee),Ve=dt._,ze=Te("^"+Re.call(Le).replace(ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Be=mt?t.Buffer:i,qe=t.Symbol,We=t.Uint8Array,Ke=Be?Be.allocUnsafe:i,Ge=cn(Ee.getPrototypeOf,Ee),He=Ee.create,Qe=Pe.propertyIsEnumerable,$e=Oe.splice,Ye=qe?qe.isConcatSpreadable:i,Xe=qe?qe.iterator:i,et=qe?qe.toStringTag:i,nt=function(){try{var e=ha(Ee,"defineProperty");return e({},"",{}),e}catch(t){}}(),st=t.clearTimeout!==dt.clearTimeout&&t.clearTimeout,ft=r&&r.now!==dt.Date.now&&r.now,ht=t.setTimeout!==dt.setTimeout&&t.setTimeout,pt=Ie.ceil,vt=Ie.floor,yt=Ee.getOwnPropertySymbols,gt=Be?Be.isBuffer:i,jt=t.isFinite,Gt=Oe.join,gn=cn(Ee.keys,Ee),kn=Ie.max,bn=Ie.min,wn=r.now,xn=t.parseInt,_n=Ie.random,Sn=Oe.reverse,In=ha(t,"DataView"),En=ha(t,"Map"),Tn=ha(t,"Promise"),Cn=ha(t,"Set"),An=ha(t,"WeakMap"),On=ha(Ee,"create"),Nn=An&&new An,Pn={},Dn=Ua(In),Rn=Ua(En),Ln=Ua(Tn),Mn=Ua(Cn),Fn=Ua(An),jn=qe?qe.prototype:i,Un=jn?jn.valueOf:i,Vn=jn?jn.toString:i;function zn(e){if(ru(e)&&!Go(e)&&!(e instanceof Kn)){if(e instanceof Wn)return e;if(Le.call(e,"__wrapped__"))return Va(e)}return new Wn(e)}var Bn=function(){function e(){}return function(t){if(!nu(t))return{};if(He)return He(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function qn(){}function Wn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function Kn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=m,this.__views__=[]}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Hn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Qn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function $n(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Qn;++t<n;)this.add(e[t])}function Yn(e){var t=this.__data__=new Hn(e);this.size=t.size}function Xn(e,t){var n=Go(e),r=!n&&Ko(e),i=!n&&!r&&Yo(e),a=!n&&!r&&!i&&fu(e),o=n||r||i||a,u=o?$t(e.length,Ce):[],s=u.length;for(var c in e)!t&&!Le.call(e,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ka(c,s))||u.push(c);return u}function Jn(e){var t=e.length;return t?e[$r(0,t-1)]:i}function Zn(e,t){return Ma(Oi(e),sr(t,0,e.length))}function er(e){return Ma(Oi(e))}function tr(e,t,n){(n!==i&&!Bo(e[t],n)||n===i&&!(t in e))&&or(e,t,n)}function nr(e,t,n){var r=e[t];Le.call(e,t)&&Bo(r,n)&&(n!==i||t in e)||or(e,t,n)}function rr(e,t){for(var n=e.length;n--;)if(Bo(e[n][0],t))return n;return-1}function ir(e,t,n,r){return dr(e,(function(e,i,a){t(r,e,n(e),a)})),r}function ar(e,t){return e&&Ni(t,Du(t),e)}function or(e,t,n){"__proto__"==t&&nt?nt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function ur(e,t){for(var r=-1,a=t.length,o=n(a),u=null==e;++r<a;)o[r]=u?i:Cu(e,t[r]);return o}function sr(e,t,n){return e===e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function cr(e,t,n,r,a,o){var u,s=1&t,c=2&t,l=4&t;if(n&&(u=a?n(e,r,a,o):n(e)),u!==i)return u;if(!nu(e))return e;var f=Go(e);if(f){if(u=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Le.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!s)return Oi(e,u)}else{var h=va(e),d=h==_||h==S;if(Yo(e))return Si(e,s);if(h==T||h==g||d&&!a){if(u=c||d?{}:ya(e),!s)return c?function(e,t){return Ni(e,pa(e),t)}(e,function(e,t){return e&&Ni(t,Ru(t),e)}(u,e)):function(e,t){return Ni(e,da(e),t)}(e,ar(u,e))}else{if(!ut[h])return a?e:{};u=function(e,t,n){var r=e.constructor;switch(t){case R:return Ii(e);case b:case w:return new r(+e);case L:return function(e,t){var n=t?Ii(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case M:case F:case j:case U:case V:case z:case B:case q:case W:return Ei(e,n);case I:return new r;case E:case N:return new r(e);case A:return function(e){var t=new e.constructor(e.source,ve.exec(e));return t.lastIndex=e.lastIndex,t}(e);case O:return new r;case P:return i=e,Un?Ee(Un.call(i)):{}}var i}(e,h,s)}}o||(o=new Yn);var p=o.get(e);if(p)return p;o.set(e,u),su(e)?e.forEach((function(r){u.add(cr(r,t,n,r,e,o))})):iu(e)&&e.forEach((function(r,i){u.set(i,cr(r,t,n,i,e,o))}));var v=f?i:(l?c?aa:ia:c?Ru:Du)(e);return Tt(v||e,(function(r,i){v&&(r=e[i=r]),nr(u,i,cr(r,t,n,i,e,o))})),u}function lr(e,t,n){var r=n.length;if(null==e)return!r;for(e=Ee(e);r--;){var a=n[r],o=t[a],u=e[a];if(u===i&&!(a in e)||!o(u))return!1}return!0}function fr(e,t,n){if("function"!=typeof e)throw new Ae(a);return Pa((function(){e.apply(i,n)}),t)}function hr(e,t,n,r){var i=-1,a=Nt,o=!0,u=e.length,s=[],c=t.length;if(!u)return s;n&&(t=Dt(t,Xt(n))),r?(a=Pt,o=!1):t.length>=200&&(a=Zt,o=!1,t=new $n(t));e:for(;++i<u;){var l=e[i],f=null==n?l:n(l);if(l=r||0!==l?l:0,o&&f===f){for(var h=c;h--;)if(t[h]===f)continue e;s.push(l)}else a(t,f,r)||s.push(l)}return s}zn.templateSettings={escape:J,evaluate:Z,interpolate:ee,variable:"",imports:{_:zn}},zn.prototype=qn.prototype,zn.prototype.constructor=zn,Wn.prototype=Bn(qn.prototype),Wn.prototype.constructor=Wn,Kn.prototype=Bn(qn.prototype),Kn.prototype.constructor=Kn,Gn.prototype.clear=function(){this.__data__=On?On(null):{},this.size=0},Gn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Gn.prototype.get=function(e){var t=this.__data__;if(On){var n=t[e];return n===o?i:n}return Le.call(t,e)?t[e]:i},Gn.prototype.has=function(e){var t=this.__data__;return On?t[e]!==i:Le.call(t,e)},Gn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=On&&t===i?o:t,this},Hn.prototype.clear=function(){this.__data__=[],this.size=0},Hn.prototype.delete=function(e){var t=this.__data__,n=rr(t,e);return!(n<0)&&(n==t.length-1?t.pop():$e.call(t,n,1),--this.size,!0)},Hn.prototype.get=function(e){var t=this.__data__,n=rr(t,e);return n<0?i:t[n][1]},Hn.prototype.has=function(e){return rr(this.__data__,e)>-1},Hn.prototype.set=function(e,t){var n=this.__data__,r=rr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Qn.prototype.clear=function(){this.size=0,this.__data__={hash:new Gn,map:new(En||Hn),string:new Gn}},Qn.prototype.delete=function(e){var t=la(this,e).delete(e);return this.size-=t?1:0,t},Qn.prototype.get=function(e){return la(this,e).get(e)},Qn.prototype.has=function(e){return la(this,e).has(e)},Qn.prototype.set=function(e,t){var n=la(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},$n.prototype.add=$n.prototype.push=function(e){return this.__data__.set(e,o),this},$n.prototype.has=function(e){return this.__data__.has(e)},Yn.prototype.clear=function(){this.__data__=new Hn,this.size=0},Yn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Yn.prototype.get=function(e){return this.__data__.get(e)},Yn.prototype.has=function(e){return this.__data__.has(e)},Yn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Hn){var r=n.__data__;if(!En||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Qn(r)}return n.set(e,t),this.size=n.size,this};var dr=Ri(wr),pr=Ri(xr,!0);function vr(e,t){var n=!0;return dr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function mr(e,t,n){for(var r=-1,a=e.length;++r<a;){var o=e[r],u=t(o);if(null!=u&&(s===i?u===u&&!lu(u):n(u,s)))var s=u,c=o}return c}function yr(e,t){var n=[];return dr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function gr(e,t,n,r,i){var a=-1,o=e.length;for(n||(n=ga),i||(i=[]);++a<o;){var u=e[a];t>0&&n(u)?t>1?gr(u,t-1,n,r,i):Rt(i,u):r||(i[i.length]=u)}return i}var kr=Li(),br=Li(!0);function wr(e,t){return e&&kr(e,t,Du)}function xr(e,t){return e&&br(e,t,Du)}function _r(e,t){return Ot(t,(function(t){return Zo(e[t])}))}function Sr(e,t){for(var n=0,r=(t=bi(t,e)).length;null!=e&&n<r;)e=e[ja(t[n++])];return n&&n==r?e:i}function Ir(e,t,n){var r=t(e);return Go(e)?r:Rt(r,n(e))}function Er(e){return null==e?e===i?"[object Undefined]":"[object Null]":et&&et in Ee(e)?function(e){var t=Le.call(e,et),n=e[et];try{e[et]=i;var r=!0}catch(o){}var a=je.call(e);r&&(t?e[et]=n:delete e[et]);return a}(e):function(e){return je.call(e)}(e)}function Tr(e,t){return e>t}function Cr(e,t){return null!=e&&Le.call(e,t)}function Ar(e,t){return null!=e&&t in Ee(e)}function Or(e,t,r){for(var a=r?Pt:Nt,o=e[0].length,u=e.length,s=u,c=n(u),l=1/0,f=[];s--;){var h=e[s];s&&t&&(h=Dt(h,Xt(t))),l=bn(h.length,l),c[s]=!r&&(t||o>=120&&h.length>=120)?new $n(s&&h):i}h=e[0];var d=-1,p=c[0];e:for(;++d<o&&f.length<l;){var v=h[d],m=t?t(v):v;if(v=r||0!==v?v:0,!(p?Zt(p,m):a(f,m,r))){for(s=u;--s;){var y=c[s];if(!(y?Zt(y,m):a(e[s],m,r)))continue e}p&&p.push(m),f.push(v)}}return f}function Nr(e,t,n){var r=null==(e=Ca(e,t=bi(t,e)))?e:e[ja(Xa(t))];return null==r?i:It(r,e,n)}function Pr(e){return ru(e)&&Er(e)==g}function Dr(e,t,n,r,a){return e===t||(null==e||null==t||!ru(e)&&!ru(t)?e!==e&&t!==t:function(e,t,n,r,a,o){var u=Go(e),s=Go(t),c=u?k:va(e),l=s?k:va(t),f=(c=c==g?T:c)==T,h=(l=l==g?T:l)==T,d=c==l;if(d&&Yo(e)){if(!Yo(t))return!1;u=!0,f=!1}if(d&&!f)return o||(o=new Yn),u||fu(e)?na(e,t,n,r,a,o):function(e,t,n,r,i,a,o){switch(n){case L:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case R:return!(e.byteLength!=t.byteLength||!a(new We(e),new We(t)));case b:case w:case E:return Bo(+e,+t);case x:return e.name==t.name&&e.message==t.message;case A:case N:return e==t+"";case I:var u=sn;case O:var s=1&r;if(u||(u=fn),e.size!=t.size&&!s)return!1;var c=o.get(e);if(c)return c==t;r|=2,o.set(e,t);var l=na(u(e),u(t),r,i,a,o);return o.delete(e),l;case P:if(Un)return Un.call(e)==Un.call(t)}return!1}(e,t,c,n,r,a,o);if(!(1&n)){var p=f&&Le.call(e,"__wrapped__"),v=h&&Le.call(t,"__wrapped__");if(p||v){var m=p?e.value():e,y=v?t.value():t;return o||(o=new Yn),a(m,y,n,r,o)}}if(!d)return!1;return o||(o=new Yn),function(e,t,n,r,a,o){var u=1&n,s=ia(e),c=s.length,l=ia(t).length;if(c!=l&&!u)return!1;var f=c;for(;f--;){var h=s[f];if(!(u?h in t:Le.call(t,h)))return!1}var d=o.get(e),p=o.get(t);if(d&&p)return d==t&&p==e;var v=!0;o.set(e,t),o.set(t,e);var m=u;for(;++f<c;){var y=e[h=s[f]],g=t[h];if(r)var k=u?r(g,y,h,t,e,o):r(y,g,h,e,t,o);if(!(k===i?y===g||a(y,g,n,r,o):k)){v=!1;break}m||(m="constructor"==h)}if(v&&!m){var b=e.constructor,w=t.constructor;b==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(v=!1)}return o.delete(e),o.delete(t),v}(e,t,n,r,a,o)}(e,t,n,r,Dr,a))}function Rr(e,t,n,r){var a=n.length,o=a,u=!r;if(null==e)return!o;for(e=Ee(e);a--;){var s=n[a];if(u&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<o;){var c=(s=n[a])[0],l=e[c],f=s[1];if(u&&s[2]){if(l===i&&!(c in e))return!1}else{var h=new Yn;if(r)var d=r(l,f,c,e,t,h);if(!(d===i?Dr(f,l,3,r,h):d))return!1}}return!0}function Lr(e){return!(!nu(e)||(t=e,Fe&&Fe in t))&&(Zo(e)?ze:ge).test(Ua(e));var t}function Mr(e){return"function"==typeof e?e:null==e?as:"object"==typeof e?Go(e)?Br(e[0],e[1]):zr(e):ps(e)}function Fr(e){if(!Sa(e))return gn(e);var t=[];for(var n in Ee(e))Le.call(e,n)&&"constructor"!=n&&t.push(n);return t}function jr(e){if(!nu(e))return function(e){var t=[];if(null!=e)for(var n in Ee(e))t.push(n);return t}(e);var t=Sa(e),n=[];for(var r in e)("constructor"!=r||!t&&Le.call(e,r))&&n.push(r);return n}function Ur(e,t){return e<t}function Vr(e,t){var r=-1,i=Qo(e)?n(e.length):[];return dr(e,(function(e,n,a){i[++r]=t(e,n,a)})),i}function zr(e){var t=fa(e);return 1==t.length&&t[0][2]?Ea(t[0][0],t[0][1]):function(n){return n===e||Rr(n,e,t)}}function Br(e,t){return wa(e)&&Ia(t)?Ea(ja(e),t):function(n){var r=Cu(n,e);return r===i&&r===t?Au(n,e):Dr(t,r,3)}}function qr(e,t,n,r,a){e!==t&&kr(t,(function(o,u){if(a||(a=new Yn),nu(o))!function(e,t,n,r,a,o,u){var s=Oa(e,n),c=Oa(t,n),l=u.get(c);if(l)return void tr(e,n,l);var f=o?o(s,c,n+"",e,t,u):i,h=f===i;if(h){var d=Go(c),p=!d&&Yo(c),v=!d&&!p&&fu(c);f=c,d||p||v?Go(s)?f=s:$o(s)?f=Oi(s):p?(h=!1,f=Si(c,!0)):v?(h=!1,f=Ei(c,!0)):f=[]:ou(c)||Ko(c)?(f=s,Ko(s)?f=ku(s):nu(s)&&!Zo(s)||(f=ya(c))):h=!1}h&&(u.set(c,f),a(f,c,r,o,u),u.delete(c));tr(e,n,f)}(e,t,u,n,qr,r,a);else{var s=r?r(Oa(e,u),o,u+"",e,t,a):i;s===i&&(s=o),tr(e,u,s)}}),Ru)}function Wr(e,t){var n=e.length;if(n)return ka(t+=t<0?n:0,n)?e[t]:i}function Kr(e,t,n){t=t.length?Dt(t,(function(e){return Go(e)?function(t){return Sr(t,1===e.length?e[0]:e)}:e})):[as];var r=-1;t=Dt(t,Xt(ca()));var i=Vr(e,(function(e,n,i){var a=Dt(t,(function(t){return t(e)}));return{criteria:a,index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(i,(function(e,t){return function(e,t,n){var r=-1,i=e.criteria,a=t.criteria,o=i.length,u=n.length;for(;++r<o;){var s=Ti(i[r],a[r]);if(s)return r>=u?s:s*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Gr(e,t,n){for(var r=-1,i=t.length,a={};++r<i;){var o=t[r],u=Sr(e,o);n(u,o)&&ei(a,bi(o,e),u)}return a}function Hr(e,t,n,r){var i=r?Bt:zt,a=-1,o=t.length,u=e;for(e===t&&(t=Oi(t)),n&&(u=Dt(e,Xt(n)));++a<o;)for(var s=0,c=t[a],l=n?n(c):c;(s=i(u,l,s,r))>-1;)u!==e&&$e.call(u,s,1),$e.call(e,s,1);return e}function Qr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==a){var a=i;ka(i)?$e.call(e,i,1):hi(e,i)}}return e}function $r(e,t){return e+vt(_n()*(t-e+1))}function Yr(e,t){var n="";if(!e||t<1||t>p)return n;do{t%2&&(n+=e),(t=vt(t/2))&&(e+=e)}while(t);return n}function Xr(e,t){return Da(Ta(e,t,as),e+"")}function Jr(e){return Jn(Bu(e))}function Zr(e,t){var n=Bu(e);return Ma(n,sr(t,0,n.length))}function ei(e,t,n,r){if(!nu(e))return e;for(var a=-1,o=(t=bi(t,e)).length,u=o-1,s=e;null!=s&&++a<o;){var c=ja(t[a]),l=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(a!=u){var f=s[c];(l=r?r(f,c,s):i)===i&&(l=nu(f)?f:ka(t[a+1])?[]:{})}nr(s,c,l),s=s[c]}return e}var ti=Nn?function(e,t){return Nn.set(e,t),e}:as,ni=nt?function(e,t){return nt(e,"toString",{configurable:!0,enumerable:!1,value:ns(t),writable:!0})}:as;function ri(e){return Ma(Bu(e))}function ii(e,t,r){var i=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(r=r>a?a:r)<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var o=n(a);++i<a;)o[i]=e[i+t];return o}function ai(e,t){var n;return dr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function oi(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t===t&&i<=2147483647){for(;r<i;){var a=r+i>>>1,o=e[a];null!==o&&!lu(o)&&(n?o<=t:o<t)?r=a+1:i=a}return i}return ui(e,t,as,n)}function ui(e,t,n,r){var a=0,o=null==e?0:e.length;if(0===o)return 0;for(var u=(t=n(t))!==t,s=null===t,c=lu(t),l=t===i;a<o;){var f=vt((a+o)/2),h=n(e[f]),d=h!==i,p=null===h,v=h===h,m=lu(h);if(u)var y=r||v;else y=l?v&&(r||d):s?v&&d&&(r||!p):c?v&&d&&!p&&(r||!m):!p&&!m&&(r?h<=t:h<t);y?a=f+1:o=f}return bn(o,4294967294)}function si(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var o=e[n],u=t?t(o):o;if(!n||!Bo(u,s)){var s=u;a[i++]=0===o?0:o}}return a}function ci(e){return"number"==typeof e?e:lu(e)?v:+e}function li(e){if("string"==typeof e)return e;if(Go(e))return Dt(e,li)+"";if(lu(e))return Vn?Vn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function fi(e,t,n){var r=-1,i=Nt,a=e.length,o=!0,u=[],s=u;if(n)o=!1,i=Pt;else if(a>=200){var c=t?null:Yi(e);if(c)return fn(c);o=!1,i=Zt,s=new $n}else s=t?[]:u;e:for(;++r<a;){var l=e[r],f=t?t(l):l;if(l=n||0!==l?l:0,o&&f===f){for(var h=s.length;h--;)if(s[h]===f)continue e;t&&s.push(f),u.push(l)}else i(s,f,n)||(s!==u&&s.push(f),u.push(l))}return u}function hi(e,t){return null==(e=Ca(e,t=bi(t,e)))||delete e[ja(Xa(t))]}function di(e,t,n,r){return ei(e,t,n(Sr(e,t)),r)}function pi(e,t,n,r){for(var i=e.length,a=r?i:-1;(r?a--:++a<i)&&t(e[a],a,e););return n?ii(e,r?0:a,r?a+1:i):ii(e,r?a+1:0,r?i:a)}function vi(e,t){var n=e;return n instanceof Kn&&(n=n.value()),Lt(t,(function(e,t){return t.func.apply(t.thisArg,Rt([e],t.args))}),n)}function mi(e,t,r){var i=e.length;if(i<2)return i?fi(e[0]):[];for(var a=-1,o=n(i);++a<i;)for(var u=e[a],s=-1;++s<i;)s!=a&&(o[a]=hr(o[a]||u,e[s],t,r));return fi(gr(o,1),t,r)}function yi(e,t,n){for(var r=-1,a=e.length,o=t.length,u={};++r<a;){var s=r<o?t[r]:i;n(u,e[r],s)}return u}function gi(e){return $o(e)?e:[]}function ki(e){return"function"==typeof e?e:as}function bi(e,t){return Go(e)?e:wa(e,t)?[e]:Fa(bu(e))}var wi=Xr;function xi(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:ii(e,t,n)}var _i=st||function(e){return dt.clearTimeout(e)};function Si(e,t){if(t)return e.slice();var n=e.length,r=Ke?Ke(n):new e.constructor(n);return e.copy(r),r}function Ii(e){var t=new e.constructor(e.byteLength);return new We(t).set(new We(e)),t}function Ei(e,t){var n=t?Ii(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Ti(e,t){if(e!==t){var n=e!==i,r=null===e,a=e===e,o=lu(e),u=t!==i,s=null===t,c=t===t,l=lu(t);if(!s&&!l&&!o&&e>t||o&&u&&c&&!s&&!l||r&&u&&c||!n&&c||!a)return 1;if(!r&&!o&&!l&&e<t||l&&n&&a&&!r&&!o||s&&n&&a||!u&&a||!c)return-1}return 0}function Ci(e,t,r,i){for(var a=-1,o=e.length,u=r.length,s=-1,c=t.length,l=kn(o-u,0),f=n(c+l),h=!i;++s<c;)f[s]=t[s];for(;++a<u;)(h||a<o)&&(f[r[a]]=e[a]);for(;l--;)f[s++]=e[a++];return f}function Ai(e,t,r,i){for(var a=-1,o=e.length,u=-1,s=r.length,c=-1,l=t.length,f=kn(o-s,0),h=n(f+l),d=!i;++a<f;)h[a]=e[a];for(var p=a;++c<l;)h[p+c]=t[c];for(;++u<s;)(d||a<o)&&(h[p+r[u]]=e[a++]);return h}function Oi(e,t){var r=-1,i=e.length;for(t||(t=n(i));++r<i;)t[r]=e[r];return t}function Ni(e,t,n,r){var a=!n;n||(n={});for(var o=-1,u=t.length;++o<u;){var s=t[o],c=r?r(n[s],e[s],s,n,e):i;c===i&&(c=e[s]),a?or(n,s,c):nr(n,s,c)}return n}function Pi(e,t){return function(n,r){var i=Go(n)?Et:ir,a=t?t():{};return i(n,e,ca(r,2),a)}}function Di(e){return Xr((function(t,n){var r=-1,a=n.length,o=a>1?n[a-1]:i,u=a>2?n[2]:i;for(o=e.length>3&&"function"==typeof o?(a--,o):i,u&&ba(n[0],n[1],u)&&(o=a<3?i:o,a=1),t=Ee(t);++r<a;){var s=n[r];s&&e(t,s,r,o)}return t}))}function Ri(e,t){return function(n,r){if(null==n)return n;if(!Qo(n))return e(n,r);for(var i=n.length,a=t?i:-1,o=Ee(n);(t?a--:++a<i)&&!1!==r(o[a],a,o););return n}}function Li(e){return function(t,n,r){for(var i=-1,a=Ee(t),o=r(t),u=o.length;u--;){var s=o[e?u:++i];if(!1===n(a[s],s,a))break}return t}}function Mi(e){return function(t){var n=un(t=bu(t))?pn(t):i,r=n?n[0]:t.charAt(0),a=n?xi(n,1).join(""):t.slice(1);return r[e]()+a}}function Fi(e){return function(t){return Lt(Zu(Ku(t).replace(Je,"")),e,"")}}function ji(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Bn(e.prototype),r=e.apply(n,t);return nu(r)?r:n}}function Ui(e){return function(t,n,r){var a=Ee(t);if(!Qo(t)){var o=ca(n,3);t=Du(t),n=function(e){return o(a[e],e,a)}}var u=e(t,n,r);return u>-1?a[o?t[u]:u]:i}}function Vi(e){return ra((function(t){var n=t.length,r=n,o=Wn.prototype.thru;for(e&&t.reverse();r--;){var u=t[r];if("function"!=typeof u)throw new Ae(a);if(o&&!s&&"wrapper"==ua(u))var s=new Wn([],!0)}for(r=s?r:n;++r<n;){var c=ua(u=t[r]),l="wrapper"==c?oa(u):i;s=l&&xa(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?s[ua(l[0])].apply(s,l[3]):1==u.length&&xa(u)?s[c]():s.thru(u)}return function(){var e=arguments,r=e[0];if(s&&1==e.length&&Go(r))return s.plant(r).value();for(var i=0,a=n?t[i].apply(this,e):r;++i<n;)a=t[i].call(this,a);return a}}))}function zi(e,t,r,a,o,u,s,c,l,h){var d=t&f,p=1&t,v=2&t,m=24&t,y=512&t,g=v?i:ji(e);return function i(){for(var f=arguments.length,k=n(f),b=f;b--;)k[b]=arguments[b];if(m)var w=sa(i),x=nn(k,w);if(a&&(k=Ci(k,a,o,m)),u&&(k=Ai(k,u,s,m)),f-=x,m&&f<h){var _=ln(k,w);return Qi(e,t,zi,i.placeholder,r,k,_,c,l,h-f)}var S=p?r:this,I=v?S[e]:e;return f=k.length,c?k=Aa(k,c):y&&f>1&&k.reverse(),d&&l<f&&(k.length=l),this&&this!==dt&&this instanceof i&&(I=g||ji(I)),I.apply(S,k)}}function Bi(e,t){return function(n,r){return function(e,t,n,r){return wr(e,(function(e,i,a){t(r,n(e),i,a)})),r}(n,e,t(r),{})}}function qi(e,t){return function(n,r){var a;if(n===i&&r===i)return t;if(n!==i&&(a=n),r!==i){if(a===i)return r;"string"==typeof n||"string"==typeof r?(n=li(n),r=li(r)):(n=ci(n),r=ci(r)),a=e(n,r)}return a}}function Wi(e){return ra((function(t){return t=Dt(t,Xt(ca())),Xr((function(n){var r=this;return e(t,(function(e){return It(e,r,n)}))}))}))}function Ki(e,t){var n=(t=t===i?" ":li(t)).length;if(n<2)return n?Yr(t,e):t;var r=Yr(t,pt(e/dn(t)));return un(t)?xi(pn(r),0,e).join(""):r.slice(0,e)}function Gi(e){return function(t,r,a){return a&&"number"!=typeof a&&ba(t,r,a)&&(r=a=i),t=vu(t),r===i?(r=t,t=0):r=vu(r),function(e,t,r,i){for(var a=-1,o=kn(pt((t-e)/(r||1)),0),u=n(o);o--;)u[i?o:++a]=e,e+=r;return u}(t,r,a=a===i?t<r?1:-1:vu(a),e)}}function Hi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=gu(t),n=gu(n)),e(t,n)}}function Qi(e,t,n,r,a,o,u,s,f,h){var d=8&t;t|=d?c:l,4&(t&=~(d?l:c))||(t&=-4);var p=[e,t,a,d?o:i,d?u:i,d?i:o,d?i:u,s,f,h],v=n.apply(i,p);return xa(e)&&Na(v,p),v.placeholder=r,Ra(v,e,t)}function $i(e){var t=Ie[e];return function(e,n){if(e=gu(e),(n=null==n?0:bn(mu(n),292))&&jt(e)){var r=(bu(e)+"e").split("e");return+((r=(bu(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Yi=Cn&&1/fn(new Cn([,-0]))[1]==d?function(e){return new Cn(e)}:ls;function Xi(e){return function(t){var n=va(t);return n==I?sn(t):n==O?hn(t):function(e,t){return Dt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Ji(e,t,r,o,d,p,v,m){var y=2&t;if(!y&&"function"!=typeof e)throw new Ae(a);var g=o?o.length:0;if(g||(t&=-97,o=d=i),v=v===i?v:kn(mu(v),0),m=m===i?m:mu(m),g-=d?d.length:0,t&l){var k=o,b=d;o=d=i}var w=y?i:oa(e),x=[e,t,r,o,d,k,b,p,v,m];if(w&&function(e,t){var n=e[1],r=t[1],i=n|r,a=i<131,o=r==f&&8==n||r==f&&n==h&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!a&&!o)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var s=t[3];if(s){var c=e[3];e[3]=c?Ci(c,s,t[4]):s,e[4]=c?ln(e[3],u):t[4]}(s=t[5])&&(c=e[5],e[5]=c?Ai(c,s,t[6]):s,e[6]=c?ln(e[5],u):t[6]);(s=t[7])&&(e[7]=s);r&f&&(e[8]=null==e[8]?t[8]:bn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(x,w),e=x[0],t=x[1],r=x[2],o=x[3],d=x[4],!(m=x[9]=x[9]===i?y?0:e.length:kn(x[9]-g,0))&&24&t&&(t&=-25),t&&1!=t)_=8==t||t==s?function(e,t,r){var a=ji(e);return function o(){for(var u=arguments.length,s=n(u),c=u,l=sa(o);c--;)s[c]=arguments[c];var f=u<3&&s[0]!==l&&s[u-1]!==l?[]:ln(s,l);return(u-=f.length)<r?Qi(e,t,zi,o.placeholder,i,s,f,i,i,r-u):It(this&&this!==dt&&this instanceof o?a:e,this,s)}}(e,t,m):t!=c&&33!=t||d.length?zi.apply(i,x):function(e,t,r,i){var a=1&t,o=ji(e);return function t(){for(var u=-1,s=arguments.length,c=-1,l=i.length,f=n(l+s),h=this&&this!==dt&&this instanceof t?o:e;++c<l;)f[c]=i[c];for(;s--;)f[c++]=arguments[++u];return It(h,a?r:this,f)}}(e,t,r,o);else var _=function(e,t,n){var r=1&t,i=ji(e);return function t(){return(this&&this!==dt&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,r);return Ra((w?ti:Na)(_,x),e,t)}function Zi(e,t,n,r){return e===i||Bo(e,Pe[n])&&!Le.call(r,n)?t:e}function ea(e,t,n,r,a,o){return nu(e)&&nu(t)&&(o.set(t,e),qr(e,t,i,ea,o),o.delete(t)),e}function ta(e){return ou(e)?i:e}function na(e,t,n,r,a,o){var u=1&n,s=e.length,c=t.length;if(s!=c&&!(u&&c>s))return!1;var l=o.get(e),f=o.get(t);if(l&&f)return l==t&&f==e;var h=-1,d=!0,p=2&n?new $n:i;for(o.set(e,t),o.set(t,e);++h<s;){var v=e[h],m=t[h];if(r)var y=u?r(m,v,h,t,e,o):r(v,m,h,e,t,o);if(y!==i){if(y)continue;d=!1;break}if(p){if(!Ft(t,(function(e,t){if(!Zt(p,t)&&(v===e||a(v,e,n,r,o)))return p.push(t)}))){d=!1;break}}else if(v!==m&&!a(v,m,n,r,o)){d=!1;break}}return o.delete(e),o.delete(t),d}function ra(e){return Da(Ta(e,i,Ga),e+"")}function ia(e){return Ir(e,Du,da)}function aa(e){return Ir(e,Ru,pa)}var oa=Nn?function(e){return Nn.get(e)}:ls;function ua(e){for(var t=e.name+"",n=Pn[t],r=Le.call(Pn,t)?n.length:0;r--;){var i=n[r],a=i.func;if(null==a||a==e)return i.name}return t}function sa(e){return(Le.call(zn,"placeholder")?zn:e).placeholder}function ca(){var e=zn.iteratee||os;return e=e===os?Mr:e,arguments.length?e(arguments[0],arguments[1]):e}function la(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function fa(e){for(var t=Du(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Ia(i)]}return t}function ha(e,t){var n=function(e,t){return null==e?i:e[t]}(e,t);return Lr(n)?n:i}var da=yt?function(e){return null==e?[]:(e=Ee(e),Ot(yt(e),(function(t){return Qe.call(e,t)})))}:ys,pa=yt?function(e){for(var t=[];e;)Rt(t,da(e)),e=Ge(e);return t}:ys,va=Er;function ma(e,t,n){for(var r=-1,i=(t=bi(t,e)).length,a=!1;++r<i;){var o=ja(t[r]);if(!(a=null!=e&&n(e,o)))break;e=e[o]}return a||++r!=i?a:!!(i=null==e?0:e.length)&&tu(i)&&ka(o,i)&&(Go(e)||Ko(e))}function ya(e){return"function"!=typeof e.constructor||Sa(e)?{}:Bn(Ge(e))}function ga(e){return Go(e)||Ko(e)||!!(Ye&&e&&e[Ye])}function ka(e,t){var n=typeof e;return!!(t=null==t?p:t)&&("number"==n||"symbol"!=n&&be.test(e))&&e>-1&&e%1==0&&e<t}function ba(e,t,n){if(!nu(n))return!1;var r=typeof t;return!!("number"==r?Qo(n)&&ka(t,n.length):"string"==r&&t in n)&&Bo(n[t],e)}function wa(e,t){if(Go(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!lu(e))||(ne.test(e)||!te.test(e)||null!=t&&e in Ee(t))}function xa(e){var t=ua(e),n=zn[t];if("function"!=typeof n||!(t in Kn.prototype))return!1;if(e===n)return!0;var r=oa(n);return!!r&&e===r[0]}(In&&va(new In(new ArrayBuffer(1)))!=L||En&&va(new En)!=I||Tn&&va(Tn.resolve())!=C||Cn&&va(new Cn)!=O||An&&va(new An)!=D)&&(va=function(e){var t=Er(e),n=t==T?e.constructor:i,r=n?Ua(n):"";if(r)switch(r){case Dn:return L;case Rn:return I;case Ln:return C;case Mn:return O;case Fn:return D}return t});var _a=De?Zo:gs;function Sa(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Pe)}function Ia(e){return e===e&&!nu(e)}function Ea(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==i||e in Ee(n)))}}function Ta(e,t,r){return t=kn(t===i?e.length-1:t,0),function(){for(var i=arguments,a=-1,o=kn(i.length-t,0),u=n(o);++a<o;)u[a]=i[t+a];a=-1;for(var s=n(t+1);++a<t;)s[a]=i[a];return s[t]=r(u),It(e,this,s)}}function Ca(e,t){return t.length<2?e:Sr(e,ii(t,0,-1))}function Aa(e,t){for(var n=e.length,r=bn(t.length,n),a=Oi(e);r--;){var o=t[r];e[r]=ka(o,n)?a[o]:i}return e}function Oa(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var Na=La(ti),Pa=ht||function(e,t){return dt.setTimeout(e,t)},Da=La(ni);function Ra(e,t,n){var r=t+"";return Da(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(se,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Tt(y,(function(n){var r="_."+n[0];t&n[1]&&!Nt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(ce);return t?t[1].split(le):[]}(r),n)))}function La(e){var t=0,n=0;return function(){var r=wn(),a=16-(r-n);if(n=r,a>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Ma(e,t){var n=-1,r=e.length,a=r-1;for(t=t===i?r:t;++n<t;){var o=$r(n,a),u=e[o];e[o]=e[n],e[n]=u}return e.length=t,e}var Fa=function(e){var t=Mo(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(re,(function(e,n,r,i){t.push(r?i.replace(de,"$1"):n||e)})),t}));function ja(e){if("string"==typeof e||lu(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Ua(e){if(null!=e){try{return Re.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Va(e){if(e instanceof Kn)return e.clone();var t=new Wn(e.__wrapped__,e.__chain__);return t.__actions__=Oi(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var za=Xr((function(e,t){return $o(e)?hr(e,gr(t,1,$o,!0)):[]})),Ba=Xr((function(e,t){var n=Xa(t);return $o(n)&&(n=i),$o(e)?hr(e,gr(t,1,$o,!0),ca(n,2)):[]})),qa=Xr((function(e,t){var n=Xa(t);return $o(n)&&(n=i),$o(e)?hr(e,gr(t,1,$o,!0),i,n):[]}));function Wa(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:mu(n);return i<0&&(i=kn(r+i,0)),Vt(e,ca(t,3),i)}function Ka(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=r-1;return n!==i&&(a=mu(n),a=n<0?kn(r+a,0):bn(a,r-1)),Vt(e,ca(t,3),a,!0)}function Ga(e){return(null==e?0:e.length)?gr(e,1):[]}function Ha(e){return e&&e.length?e[0]:i}var Qa=Xr((function(e){var t=Dt(e,gi);return t.length&&t[0]===e[0]?Or(t):[]})),$a=Xr((function(e){var t=Xa(e),n=Dt(e,gi);return t===Xa(n)?t=i:n.pop(),n.length&&n[0]===e[0]?Or(n,ca(t,2)):[]})),Ya=Xr((function(e){var t=Xa(e),n=Dt(e,gi);return(t="function"==typeof t?t:i)&&n.pop(),n.length&&n[0]===e[0]?Or(n,i,t):[]}));function Xa(e){var t=null==e?0:e.length;return t?e[t-1]:i}var Ja=Xr(Za);function Za(e,t){return e&&e.length&&t&&t.length?Hr(e,t):e}var eo=ra((function(e,t){var n=null==e?0:e.length,r=ur(e,t);return Qr(e,Dt(t,(function(e){return ka(e,n)?+e:e})).sort(Ti)),r}));function to(e){return null==e?e:Sn.call(e)}var no=Xr((function(e){return fi(gr(e,1,$o,!0))})),ro=Xr((function(e){var t=Xa(e);return $o(t)&&(t=i),fi(gr(e,1,$o,!0),ca(t,2))})),io=Xr((function(e){var t=Xa(e);return t="function"==typeof t?t:i,fi(gr(e,1,$o,!0),i,t)}));function ao(e){if(!e||!e.length)return[];var t=0;return e=Ot(e,(function(e){if($o(e))return t=kn(e.length,t),!0})),$t(t,(function(t){return Dt(e,Kt(t))}))}function oo(e,t){if(!e||!e.length)return[];var n=ao(e);return null==t?n:Dt(n,(function(e){return It(t,i,e)}))}var uo=Xr((function(e,t){return $o(e)?hr(e,t):[]})),so=Xr((function(e){return mi(Ot(e,$o))})),co=Xr((function(e){var t=Xa(e);return $o(t)&&(t=i),mi(Ot(e,$o),ca(t,2))})),lo=Xr((function(e){var t=Xa(e);return t="function"==typeof t?t:i,mi(Ot(e,$o),i,t)})),fo=Xr(ao);var ho=Xr((function(e){var t=e.length,n=t>1?e[t-1]:i;return n="function"==typeof n?(e.pop(),n):i,oo(e,n)}));function po(e){var t=zn(e);return t.__chain__=!0,t}function vo(e,t){return t(e)}var mo=ra((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,a=function(t){return ur(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Kn&&ka(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:vo,args:[a],thisArg:i}),new Wn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(a)}));var yo=Pi((function(e,t,n){Le.call(e,n)?++e[n]:or(e,n,1)}));var go=Ui(Wa),ko=Ui(Ka);function bo(e,t){return(Go(e)?Tt:dr)(e,ca(t,3))}function wo(e,t){return(Go(e)?Ct:pr)(e,ca(t,3))}var xo=Pi((function(e,t,n){Le.call(e,n)?e[n].push(t):or(e,n,[t])}));var _o=Xr((function(e,t,r){var i=-1,a="function"==typeof t,o=Qo(e)?n(e.length):[];return dr(e,(function(e){o[++i]=a?It(t,e,r):Nr(e,t,r)})),o})),So=Pi((function(e,t,n){or(e,n,t)}));function Io(e,t){return(Go(e)?Dt:Vr)(e,ca(t,3))}var Eo=Pi((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var To=Xr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&ba(e,t[0],t[1])?t=[]:n>2&&ba(t[0],t[1],t[2])&&(t=[t[0]]),Kr(e,gr(t,1),[])})),Co=ft||function(){return dt.Date.now()};function Ao(e,t,n){return t=n?i:t,t=e&&null==t?e.length:t,Ji(e,f,i,i,i,i,t)}function Oo(e,t){var n;if("function"!=typeof t)throw new Ae(a);return e=mu(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var No=Xr((function(e,t,n){var r=1;if(n.length){var i=ln(n,sa(No));r|=c}return Ji(e,r,t,n,i)})),Po=Xr((function(e,t,n){var r=3;if(n.length){var i=ln(n,sa(Po));r|=c}return Ji(t,r,e,n,i)}));function Do(e,t,n){var r,o,u,s,c,l,f=0,h=!1,d=!1,p=!0;if("function"!=typeof e)throw new Ae(a);function v(t){var n=r,a=o;return r=o=i,f=t,s=e.apply(a,n)}function m(e){return f=e,c=Pa(g,t),h?v(e):s}function y(e){var n=e-l;return l===i||n>=t||n<0||d&&e-f>=u}function g(){var e=Co();if(y(e))return k(e);c=Pa(g,function(e){var n=t-(e-l);return d?bn(n,u-(e-f)):n}(e))}function k(e){return c=i,p&&r?v(e):(r=o=i,s)}function b(){var e=Co(),n=y(e);if(r=arguments,o=this,l=e,n){if(c===i)return m(l);if(d)return _i(c),c=Pa(g,t),v(l)}return c===i&&(c=Pa(g,t)),s}return t=gu(t)||0,nu(n)&&(h=!!n.leading,u=(d="maxWait"in n)?kn(gu(n.maxWait)||0,t):u,p="trailing"in n?!!n.trailing:p),b.cancel=function(){c!==i&&_i(c),f=0,r=l=o=c=i},b.flush=function(){return c===i?s:k(Co())},b}var Ro=Xr((function(e,t){return fr(e,1,t)})),Lo=Xr((function(e,t,n){return fr(e,gu(t)||0,n)}));function Mo(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ae(a);var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(Mo.Cache||Qn),n}function Fo(e){if("function"!=typeof e)throw new Ae(a);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Mo.Cache=Qn;var jo=wi((function(e,t){var n=(t=1==t.length&&Go(t[0])?Dt(t[0],Xt(ca())):Dt(gr(t,1),Xt(ca()))).length;return Xr((function(r){for(var i=-1,a=bn(r.length,n);++i<a;)r[i]=t[i].call(this,r[i]);return It(e,this,r)}))})),Uo=Xr((function(e,t){var n=ln(t,sa(Uo));return Ji(e,c,i,t,n)})),Vo=Xr((function(e,t){var n=ln(t,sa(Vo));return Ji(e,l,i,t,n)})),zo=ra((function(e,t){return Ji(e,h,i,i,i,t)}));function Bo(e,t){return e===t||e!==e&&t!==t}var qo=Hi(Tr),Wo=Hi((function(e,t){return e>=t})),Ko=Pr(function(){return arguments}())?Pr:function(e){return ru(e)&&Le.call(e,"callee")&&!Qe.call(e,"callee")},Go=n.isArray,Ho=kt?Xt(kt):function(e){return ru(e)&&Er(e)==R};function Qo(e){return null!=e&&tu(e.length)&&!Zo(e)}function $o(e){return ru(e)&&Qo(e)}var Yo=gt||gs,Xo=bt?Xt(bt):function(e){return ru(e)&&Er(e)==w};function Jo(e){if(!ru(e))return!1;var t=Er(e);return t==x||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!ou(e)}function Zo(e){if(!nu(e))return!1;var t=Er(e);return t==_||t==S||"[object AsyncFunction]"==t||"[object Proxy]"==t}function eu(e){return"number"==typeof e&&e==mu(e)}function tu(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=p}function nu(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ru(e){return null!=e&&"object"==typeof e}var iu=wt?Xt(wt):function(e){return ru(e)&&va(e)==I};function au(e){return"number"==typeof e||ru(e)&&Er(e)==E}function ou(e){if(!ru(e)||Er(e)!=T)return!1;var t=Ge(e);if(null===t)return!0;var n=Le.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Re.call(n)==Ue}var uu=xt?Xt(xt):function(e){return ru(e)&&Er(e)==A};var su=_t?Xt(_t):function(e){return ru(e)&&va(e)==O};function cu(e){return"string"==typeof e||!Go(e)&&ru(e)&&Er(e)==N}function lu(e){return"symbol"==typeof e||ru(e)&&Er(e)==P}var fu=St?Xt(St):function(e){return ru(e)&&tu(e.length)&&!!ot[Er(e)]};var hu=Hi(Ur),du=Hi((function(e,t){return e<=t}));function pu(e){if(!e)return[];if(Qo(e))return cu(e)?pn(e):Oi(e);if(Xe&&e[Xe])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Xe]());var t=va(e);return(t==I?sn:t==O?fn:Bu)(e)}function vu(e){return e?(e=gu(e))===d||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}function mu(e){var t=vu(e),n=t%1;return t===t?n?t-n:t:0}function yu(e){return e?sr(mu(e),0,m):0}function gu(e){if("number"==typeof e)return e;if(lu(e))return v;if(nu(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=nu(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Yt(e);var n=ye.test(e);return n||ke.test(e)?lt(e.slice(2),n?2:8):me.test(e)?v:+e}function ku(e){return Ni(e,Ru(e))}function bu(e){return null==e?"":li(e)}var wu=Di((function(e,t){if(Sa(t)||Qo(t))Ni(t,Du(t),e);else for(var n in t)Le.call(t,n)&&nr(e,n,t[n])})),xu=Di((function(e,t){Ni(t,Ru(t),e)})),_u=Di((function(e,t,n,r){Ni(t,Ru(t),e,r)})),Su=Di((function(e,t,n,r){Ni(t,Du(t),e,r)})),Iu=ra(ur);var Eu=Xr((function(e,t){e=Ee(e);var n=-1,r=t.length,a=r>2?t[2]:i;for(a&&ba(t[0],t[1],a)&&(r=1);++n<r;)for(var o=t[n],u=Ru(o),s=-1,c=u.length;++s<c;){var l=u[s],f=e[l];(f===i||Bo(f,Pe[l])&&!Le.call(e,l))&&(e[l]=o[l])}return e})),Tu=Xr((function(e){return e.push(i,ea),It(Mu,i,e)}));function Cu(e,t,n){var r=null==e?i:Sr(e,t);return r===i?n:r}function Au(e,t){return null!=e&&ma(e,t,Ar)}var Ou=Bi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=je.call(t)),e[t]=n}),ns(as)),Nu=Bi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=je.call(t)),Le.call(e,t)?e[t].push(n):e[t]=[n]}),ca),Pu=Xr(Nr);function Du(e){return Qo(e)?Xn(e):Fr(e)}function Ru(e){return Qo(e)?Xn(e,!0):jr(e)}var Lu=Di((function(e,t,n){qr(e,t,n)})),Mu=Di((function(e,t,n,r){qr(e,t,n,r)})),Fu=ra((function(e,t){var n={};if(null==e)return n;var r=!1;t=Dt(t,(function(t){return t=bi(t,e),r||(r=t.length>1),t})),Ni(e,aa(e),n),r&&(n=cr(n,7,ta));for(var i=t.length;i--;)hi(n,t[i]);return n}));var ju=ra((function(e,t){return null==e?{}:function(e,t){return Gr(e,t,(function(t,n){return Au(e,n)}))}(e,t)}));function Uu(e,t){if(null==e)return{};var n=Dt(aa(e),(function(e){return[e]}));return t=ca(t),Gr(e,n,(function(e,n){return t(e,n[0])}))}var Vu=Xi(Du),zu=Xi(Ru);function Bu(e){return null==e?[]:Jt(e,Du(e))}var qu=Fi((function(e,t,n){return t=t.toLowerCase(),e+(n?Wu(t):t)}));function Wu(e){return Ju(bu(e).toLowerCase())}function Ku(e){return(e=bu(e))&&e.replace(we,rn).replace(Ze,"")}var Gu=Fi((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Hu=Fi((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Qu=Mi("toLowerCase");var $u=Fi((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Yu=Fi((function(e,t,n){return e+(n?" ":"")+Ju(t)}));var Xu=Fi((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Ju=Mi("toUpperCase");function Zu(e,t,n){return e=bu(e),(t=n?i:t)===i?function(e){return rt.test(e)}(e)?function(e){return e.match(tt)||[]}(e):function(e){return e.match(fe)||[]}(e):e.match(t)||[]}var es=Xr((function(e,t){try{return It(e,i,t)}catch(n){return Jo(n)?n:new ue(n)}})),ts=ra((function(e,t){return Tt(t,(function(t){t=ja(t),or(e,t,No(e[t],e))})),e}));function ns(e){return function(){return e}}var rs=Vi(),is=Vi(!0);function as(e){return e}function os(e){return Mr("function"==typeof e?e:cr(e,1))}var us=Xr((function(e,t){return function(n){return Nr(n,e,t)}})),ss=Xr((function(e,t){return function(n){return Nr(e,n,t)}}));function cs(e,t,n){var r=Du(t),i=_r(t,r);null!=n||nu(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=_r(t,Du(t)));var a=!(nu(n)&&"chain"in n)||!!n.chain,o=Zo(e);return Tt(i,(function(n){var r=t[n];e[n]=r,o&&(e.prototype[n]=function(){var t=this.__chain__;if(a||t){var n=e(this.__wrapped__),i=n.__actions__=Oi(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Rt([this.value()],arguments))})})),e}function ls(){}var fs=Wi(Dt),hs=Wi(At),ds=Wi(Ft);function ps(e){return wa(e)?Kt(ja(e)):function(e){return function(t){return Sr(t,e)}}(e)}var vs=Gi(),ms=Gi(!0);function ys(){return[]}function gs(){return!1}var ks=qi((function(e,t){return e+t}),0),bs=$i("ceil"),ws=qi((function(e,t){return e/t}),1),xs=$i("floor");var _s=qi((function(e,t){return e*t}),1),Ss=$i("round"),Is=qi((function(e,t){return e-t}),0);return zn.after=function(e,t){if("function"!=typeof t)throw new Ae(a);return e=mu(e),function(){if(--e<1)return t.apply(this,arguments)}},zn.ary=Ao,zn.assign=wu,zn.assignIn=xu,zn.assignInWith=_u,zn.assignWith=Su,zn.at=Iu,zn.before=Oo,zn.bind=No,zn.bindAll=ts,zn.bindKey=Po,zn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Go(e)?e:[e]},zn.chain=po,zn.chunk=function(e,t,r){t=(r?ba(e,t,r):t===i)?1:kn(mu(t),0);var a=null==e?0:e.length;if(!a||t<1)return[];for(var o=0,u=0,s=n(pt(a/t));o<a;)s[u++]=ii(e,o,o+=t);return s},zn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var a=e[t];a&&(i[r++]=a)}return i},zn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],i=e;i--;)t[i-1]=arguments[i];return Rt(Go(r)?Oi(r):[r],gr(t,1))},zn.cond=function(e){var t=null==e?0:e.length,n=ca();return e=t?Dt(e,(function(e){if("function"!=typeof e[1])throw new Ae(a);return[n(e[0]),e[1]]})):[],Xr((function(n){for(var r=-1;++r<t;){var i=e[r];if(It(i[0],this,n))return It(i[1],this,n)}}))},zn.conforms=function(e){return function(e){var t=Du(e);return function(n){return lr(n,e,t)}}(cr(e,1))},zn.constant=ns,zn.countBy=yo,zn.create=function(e,t){var n=Bn(e);return null==t?n:ar(n,t)},zn.curry=function e(t,n,r){var a=Ji(t,8,i,i,i,i,i,n=r?i:n);return a.placeholder=e.placeholder,a},zn.curryRight=function e(t,n,r){var a=Ji(t,s,i,i,i,i,i,n=r?i:n);return a.placeholder=e.placeholder,a},zn.debounce=Do,zn.defaults=Eu,zn.defaultsDeep=Tu,zn.defer=Ro,zn.delay=Lo,zn.difference=za,zn.differenceBy=Ba,zn.differenceWith=qa,zn.drop=function(e,t,n){var r=null==e?0:e.length;return r?ii(e,(t=n||t===i?1:mu(t))<0?0:t,r):[]},zn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?ii(e,0,(t=r-(t=n||t===i?1:mu(t)))<0?0:t):[]},zn.dropRightWhile=function(e,t){return e&&e.length?pi(e,ca(t,3),!0,!0):[]},zn.dropWhile=function(e,t){return e&&e.length?pi(e,ca(t,3),!0):[]},zn.fill=function(e,t,n,r){var a=null==e?0:e.length;return a?(n&&"number"!=typeof n&&ba(e,t,n)&&(n=0,r=a),function(e,t,n,r){var a=e.length;for((n=mu(n))<0&&(n=-n>a?0:a+n),(r=r===i||r>a?a:mu(r))<0&&(r+=a),r=n>r?0:yu(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},zn.filter=function(e,t){return(Go(e)?Ot:yr)(e,ca(t,3))},zn.flatMap=function(e,t){return gr(Io(e,t),1)},zn.flatMapDeep=function(e,t){return gr(Io(e,t),d)},zn.flatMapDepth=function(e,t,n){return n=n===i?1:mu(n),gr(Io(e,t),n)},zn.flatten=Ga,zn.flattenDeep=function(e){return(null==e?0:e.length)?gr(e,d):[]},zn.flattenDepth=function(e,t){return(null==e?0:e.length)?gr(e,t=t===i?1:mu(t)):[]},zn.flip=function(e){return Ji(e,512)},zn.flow=rs,zn.flowRight=is,zn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},zn.functions=function(e){return null==e?[]:_r(e,Du(e))},zn.functionsIn=function(e){return null==e?[]:_r(e,Ru(e))},zn.groupBy=xo,zn.initial=function(e){return(null==e?0:e.length)?ii(e,0,-1):[]},zn.intersection=Qa,zn.intersectionBy=$a,zn.intersectionWith=Ya,zn.invert=Ou,zn.invertBy=Nu,zn.invokeMap=_o,zn.iteratee=os,zn.keyBy=So,zn.keys=Du,zn.keysIn=Ru,zn.map=Io,zn.mapKeys=function(e,t){var n={};return t=ca(t,3),wr(e,(function(e,r,i){or(n,t(e,r,i),e)})),n},zn.mapValues=function(e,t){var n={};return t=ca(t,3),wr(e,(function(e,r,i){or(n,r,t(e,r,i))})),n},zn.matches=function(e){return zr(cr(e,1))},zn.matchesProperty=function(e,t){return Br(e,cr(t,1))},zn.memoize=Mo,zn.merge=Lu,zn.mergeWith=Mu,zn.method=us,zn.methodOf=ss,zn.mixin=cs,zn.negate=Fo,zn.nthArg=function(e){return e=mu(e),Xr((function(t){return Wr(t,e)}))},zn.omit=Fu,zn.omitBy=function(e,t){return Uu(e,Fo(ca(t)))},zn.once=function(e){return Oo(2,e)},zn.orderBy=function(e,t,n,r){return null==e?[]:(Go(t)||(t=null==t?[]:[t]),Go(n=r?i:n)||(n=null==n?[]:[n]),Kr(e,t,n))},zn.over=fs,zn.overArgs=jo,zn.overEvery=hs,zn.overSome=ds,zn.partial=Uo,zn.partialRight=Vo,zn.partition=Eo,zn.pick=ju,zn.pickBy=Uu,zn.property=ps,zn.propertyOf=function(e){return function(t){return null==e?i:Sr(e,t)}},zn.pull=Ja,zn.pullAll=Za,zn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Hr(e,t,ca(n,2)):e},zn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Hr(e,t,i,n):e},zn.pullAt=eo,zn.range=vs,zn.rangeRight=ms,zn.rearg=zo,zn.reject=function(e,t){return(Go(e)?Ot:yr)(e,Fo(ca(t,3)))},zn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],a=e.length;for(t=ca(t,3);++r<a;){var o=e[r];t(o,r,e)&&(n.push(o),i.push(r))}return Qr(e,i),n},zn.rest=function(e,t){if("function"!=typeof e)throw new Ae(a);return Xr(e,t=t===i?t:mu(t))},zn.reverse=to,zn.sampleSize=function(e,t,n){return t=(n?ba(e,t,n):t===i)?1:mu(t),(Go(e)?Zn:Zr)(e,t)},zn.set=function(e,t,n){return null==e?e:ei(e,t,n)},zn.setWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:ei(e,t,n,r)},zn.shuffle=function(e){return(Go(e)?er:ri)(e)},zn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&ba(e,t,n)?(t=0,n=r):(t=null==t?0:mu(t),n=n===i?r:mu(n)),ii(e,t,n)):[]},zn.sortBy=To,zn.sortedUniq=function(e){return e&&e.length?si(e):[]},zn.sortedUniqBy=function(e,t){return e&&e.length?si(e,ca(t,2)):[]},zn.split=function(e,t,n){return n&&"number"!=typeof n&&ba(e,t,n)&&(t=n=i),(n=n===i?m:n>>>0)?(e=bu(e))&&("string"==typeof t||null!=t&&!uu(t))&&!(t=li(t))&&un(e)?xi(pn(e),0,n):e.split(t,n):[]},zn.spread=function(e,t){if("function"!=typeof e)throw new Ae(a);return t=null==t?0:kn(mu(t),0),Xr((function(n){var r=n[t],i=xi(n,0,t);return r&&Rt(i,r),It(e,this,i)}))},zn.tail=function(e){var t=null==e?0:e.length;return t?ii(e,1,t):[]},zn.take=function(e,t,n){return e&&e.length?ii(e,0,(t=n||t===i?1:mu(t))<0?0:t):[]},zn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?ii(e,(t=r-(t=n||t===i?1:mu(t)))<0?0:t,r):[]},zn.takeRightWhile=function(e,t){return e&&e.length?pi(e,ca(t,3),!1,!0):[]},zn.takeWhile=function(e,t){return e&&e.length?pi(e,ca(t,3)):[]},zn.tap=function(e,t){return t(e),e},zn.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Ae(a);return nu(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Do(e,t,{leading:r,maxWait:t,trailing:i})},zn.thru=vo,zn.toArray=pu,zn.toPairs=Vu,zn.toPairsIn=zu,zn.toPath=function(e){return Go(e)?Dt(e,ja):lu(e)?[e]:Oi(Fa(bu(e)))},zn.toPlainObject=ku,zn.transform=function(e,t,n){var r=Go(e),i=r||Yo(e)||fu(e);if(t=ca(t,4),null==n){var a=e&&e.constructor;n=i?r?new a:[]:nu(e)&&Zo(a)?Bn(Ge(e)):{}}return(i?Tt:wr)(e,(function(e,r,i){return t(n,e,r,i)})),n},zn.unary=function(e){return Ao(e,1)},zn.union=no,zn.unionBy=ro,zn.unionWith=io,zn.uniq=function(e){return e&&e.length?fi(e):[]},zn.uniqBy=function(e,t){return e&&e.length?fi(e,ca(t,2)):[]},zn.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?fi(e,i,t):[]},zn.unset=function(e,t){return null==e||hi(e,t)},zn.unzip=ao,zn.unzipWith=oo,zn.update=function(e,t,n){return null==e?e:di(e,t,ki(n))},zn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:di(e,t,ki(n),r)},zn.values=Bu,zn.valuesIn=function(e){return null==e?[]:Jt(e,Ru(e))},zn.without=uo,zn.words=Zu,zn.wrap=function(e,t){return Uo(ki(t),e)},zn.xor=so,zn.xorBy=co,zn.xorWith=lo,zn.zip=fo,zn.zipObject=function(e,t){return yi(e||[],t||[],nr)},zn.zipObjectDeep=function(e,t){return yi(e||[],t||[],ei)},zn.zipWith=ho,zn.entries=Vu,zn.entriesIn=zu,zn.extend=xu,zn.extendWith=_u,cs(zn,zn),zn.add=ks,zn.attempt=es,zn.camelCase=qu,zn.capitalize=Wu,zn.ceil=bs,zn.clamp=function(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=(n=gu(n))===n?n:0),t!==i&&(t=(t=gu(t))===t?t:0),sr(gu(e),t,n)},zn.clone=function(e){return cr(e,4)},zn.cloneDeep=function(e){return cr(e,5)},zn.cloneDeepWith=function(e,t){return cr(e,5,t="function"==typeof t?t:i)},zn.cloneWith=function(e,t){return cr(e,4,t="function"==typeof t?t:i)},zn.conformsTo=function(e,t){return null==t||lr(e,t,Du(t))},zn.deburr=Ku,zn.defaultTo=function(e,t){return null==e||e!==e?t:e},zn.divide=ws,zn.endsWith=function(e,t,n){e=bu(e),t=li(t);var r=e.length,a=n=n===i?r:sr(mu(n),0,r);return(n-=t.length)>=0&&e.slice(n,a)==t},zn.eq=Bo,zn.escape=function(e){return(e=bu(e))&&X.test(e)?e.replace($,an):e},zn.escapeRegExp=function(e){return(e=bu(e))&&ae.test(e)?e.replace(ie,"\\$&"):e},zn.every=function(e,t,n){var r=Go(e)?At:vr;return n&&ba(e,t,n)&&(t=i),r(e,ca(t,3))},zn.find=go,zn.findIndex=Wa,zn.findKey=function(e,t){return Ut(e,ca(t,3),wr)},zn.findLast=ko,zn.findLastIndex=Ka,zn.findLastKey=function(e,t){return Ut(e,ca(t,3),xr)},zn.floor=xs,zn.forEach=bo,zn.forEachRight=wo,zn.forIn=function(e,t){return null==e?e:kr(e,ca(t,3),Ru)},zn.forInRight=function(e,t){return null==e?e:br(e,ca(t,3),Ru)},zn.forOwn=function(e,t){return e&&wr(e,ca(t,3))},zn.forOwnRight=function(e,t){return e&&xr(e,ca(t,3))},zn.get=Cu,zn.gt=qo,zn.gte=Wo,zn.has=function(e,t){return null!=e&&ma(e,t,Cr)},zn.hasIn=Au,zn.head=Ha,zn.identity=as,zn.includes=function(e,t,n,r){e=Qo(e)?e:Bu(e),n=n&&!r?mu(n):0;var i=e.length;return n<0&&(n=kn(i+n,0)),cu(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&zt(e,t,n)>-1},zn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:mu(n);return i<0&&(i=kn(r+i,0)),zt(e,t,i)},zn.inRange=function(e,t,n){return t=vu(t),n===i?(n=t,t=0):n=vu(n),function(e,t,n){return e>=bn(t,n)&&e<kn(t,n)}(e=gu(e),t,n)},zn.invoke=Pu,zn.isArguments=Ko,zn.isArray=Go,zn.isArrayBuffer=Ho,zn.isArrayLike=Qo,zn.isArrayLikeObject=$o,zn.isBoolean=function(e){return!0===e||!1===e||ru(e)&&Er(e)==b},zn.isBuffer=Yo,zn.isDate=Xo,zn.isElement=function(e){return ru(e)&&1===e.nodeType&&!ou(e)},zn.isEmpty=function(e){if(null==e)return!0;if(Qo(e)&&(Go(e)||"string"==typeof e||"function"==typeof e.splice||Yo(e)||fu(e)||Ko(e)))return!e.length;var t=va(e);if(t==I||t==O)return!e.size;if(Sa(e))return!Fr(e).length;for(var n in e)if(Le.call(e,n))return!1;return!0},zn.isEqual=function(e,t){return Dr(e,t)},zn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:i)?n(e,t):i;return r===i?Dr(e,t,i,n):!!r},zn.isError=Jo,zn.isFinite=function(e){return"number"==typeof e&&jt(e)},zn.isFunction=Zo,zn.isInteger=eu,zn.isLength=tu,zn.isMap=iu,zn.isMatch=function(e,t){return e===t||Rr(e,t,fa(t))},zn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:i,Rr(e,t,fa(t),n)},zn.isNaN=function(e){return au(e)&&e!=+e},zn.isNative=function(e){if(_a(e))throw new ue("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Lr(e)},zn.isNil=function(e){return null==e},zn.isNull=function(e){return null===e},zn.isNumber=au,zn.isObject=nu,zn.isObjectLike=ru,zn.isPlainObject=ou,zn.isRegExp=uu,zn.isSafeInteger=function(e){return eu(e)&&e>=-9007199254740991&&e<=p},zn.isSet=su,zn.isString=cu,zn.isSymbol=lu,zn.isTypedArray=fu,zn.isUndefined=function(e){return e===i},zn.isWeakMap=function(e){return ru(e)&&va(e)==D},zn.isWeakSet=function(e){return ru(e)&&"[object WeakSet]"==Er(e)},zn.join=function(e,t){return null==e?"":Gt.call(e,t)},zn.kebabCase=Gu,zn.last=Xa,zn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=r;return n!==i&&(a=(a=mu(n))<0?kn(r+a,0):bn(a,r-1)),t===t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,a):Vt(e,qt,a,!0)},zn.lowerCase=Hu,zn.lowerFirst=Qu,zn.lt=hu,zn.lte=du,zn.max=function(e){return e&&e.length?mr(e,as,Tr):i},zn.maxBy=function(e,t){return e&&e.length?mr(e,ca(t,2),Tr):i},zn.mean=function(e){return Wt(e,as)},zn.meanBy=function(e,t){return Wt(e,ca(t,2))},zn.min=function(e){return e&&e.length?mr(e,as,Ur):i},zn.minBy=function(e,t){return e&&e.length?mr(e,ca(t,2),Ur):i},zn.stubArray=ys,zn.stubFalse=gs,zn.stubObject=function(){return{}},zn.stubString=function(){return""},zn.stubTrue=function(){return!0},zn.multiply=_s,zn.nth=function(e,t){return e&&e.length?Wr(e,mu(t)):i},zn.noConflict=function(){return dt._===this&&(dt._=Ve),this},zn.noop=ls,zn.now=Co,zn.pad=function(e,t,n){e=bu(e);var r=(t=mu(t))?dn(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Ki(vt(i),n)+e+Ki(pt(i),n)},zn.padEnd=function(e,t,n){e=bu(e);var r=(t=mu(t))?dn(e):0;return t&&r<t?e+Ki(t-r,n):e},zn.padStart=function(e,t,n){e=bu(e);var r=(t=mu(t))?dn(e):0;return t&&r<t?Ki(t-r,n)+e:e},zn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),xn(bu(e).replace(oe,""),t||0)},zn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&ba(e,t,n)&&(t=n=i),n===i&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=vu(e),t===i?(t=e,e=0):t=vu(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var a=_n();return bn(e+a*(t-e+ct("1e-"+((a+"").length-1))),t)}return $r(e,t)},zn.reduce=function(e,t,n){var r=Go(e)?Lt:Ht,i=arguments.length<3;return r(e,ca(t,4),n,i,dr)},zn.reduceRight=function(e,t,n){var r=Go(e)?Mt:Ht,i=arguments.length<3;return r(e,ca(t,4),n,i,pr)},zn.repeat=function(e,t,n){return t=(n?ba(e,t,n):t===i)?1:mu(t),Yr(bu(e),t)},zn.replace=function(){var e=arguments,t=bu(e[0]);return e.length<3?t:t.replace(e[1],e[2])},zn.result=function(e,t,n){var r=-1,a=(t=bi(t,e)).length;for(a||(a=1,e=i);++r<a;){var o=null==e?i:e[ja(t[r])];o===i&&(r=a,o=n),e=Zo(o)?o.call(e):o}return e},zn.round=Ss,zn.runInContext=e,zn.sample=function(e){return(Go(e)?Jn:Jr)(e)},zn.size=function(e){if(null==e)return 0;if(Qo(e))return cu(e)?dn(e):e.length;var t=va(e);return t==I||t==O?e.size:Fr(e).length},zn.snakeCase=$u,zn.some=function(e,t,n){var r=Go(e)?Ft:ai;return n&&ba(e,t,n)&&(t=i),r(e,ca(t,3))},zn.sortedIndex=function(e,t){return oi(e,t)},zn.sortedIndexBy=function(e,t,n){return ui(e,t,ca(n,2))},zn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=oi(e,t);if(r<n&&Bo(e[r],t))return r}return-1},zn.sortedLastIndex=function(e,t){return oi(e,t,!0)},zn.sortedLastIndexBy=function(e,t,n){return ui(e,t,ca(n,2),!0)},zn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=oi(e,t,!0)-1;if(Bo(e[n],t))return n}return-1},zn.startCase=Yu,zn.startsWith=function(e,t,n){return e=bu(e),n=null==n?0:sr(mu(n),0,e.length),t=li(t),e.slice(n,n+t.length)==t},zn.subtract=Is,zn.sum=function(e){return e&&e.length?Qt(e,as):0},zn.sumBy=function(e,t){return e&&e.length?Qt(e,ca(t,2)):0},zn.template=function(e,t,n){var r=zn.templateSettings;n&&ba(e,t,n)&&(t=i),e=bu(e),t=_u({},t,r,Zi);var a,o,u=_u({},t.imports,r.imports,Zi),s=Du(u),c=Jt(u,s),l=0,f=t.interpolate||xe,h="__p += '",d=Te((t.escape||xe).source+"|"+f.source+"|"+(f===ee?pe:xe).source+"|"+(t.evaluate||xe).source+"|$","g"),p="//# sourceURL="+(Le.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++at+"]")+"\n";e.replace(d,(function(t,n,r,i,u,s){return r||(r=i),h+=e.slice(l,s).replace(_e,on),n&&(a=!0,h+="' +\n__e("+n+") +\n'"),u&&(o=!0,h+="';\n"+u+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=s+t.length,t})),h+="';\n";var v=Le.call(t,"variable")&&t.variable;if(v){if(he.test(v))throw new ue("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(o?h.replace(K,""):h).replace(G,"$1").replace(H,"$1;"),h="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var m=es((function(){return Se(s,p+"return "+h).apply(i,c)}));if(m.source=h,Jo(m))throw m;return m},zn.times=function(e,t){if((e=mu(e))<1||e>p)return[];var n=m,r=bn(e,m);t=ca(t),e-=m;for(var i=$t(r,t);++n<e;)t(n);return i},zn.toFinite=vu,zn.toInteger=mu,zn.toLength=yu,zn.toLower=function(e){return bu(e).toLowerCase()},zn.toNumber=gu,zn.toSafeInteger=function(e){return e?sr(mu(e),-9007199254740991,p):0===e?e:0},zn.toString=bu,zn.toUpper=function(e){return bu(e).toUpperCase()},zn.trim=function(e,t,n){if((e=bu(e))&&(n||t===i))return Yt(e);if(!e||!(t=li(t)))return e;var r=pn(e),a=pn(t);return xi(r,en(r,a),tn(r,a)+1).join("")},zn.trimEnd=function(e,t,n){if((e=bu(e))&&(n||t===i))return e.slice(0,vn(e)+1);if(!e||!(t=li(t)))return e;var r=pn(e);return xi(r,0,tn(r,pn(t))+1).join("")},zn.trimStart=function(e,t,n){if((e=bu(e))&&(n||t===i))return e.replace(oe,"");if(!e||!(t=li(t)))return e;var r=pn(e);return xi(r,en(r,pn(t))).join("")},zn.truncate=function(e,t){var n=30,r="...";if(nu(t)){var a="separator"in t?t.separator:a;n="length"in t?mu(t.length):n,r="omission"in t?li(t.omission):r}var o=(e=bu(e)).length;if(un(e)){var u=pn(e);o=u.length}if(n>=o)return e;var s=n-dn(r);if(s<1)return r;var c=u?xi(u,0,s).join(""):e.slice(0,s);if(a===i)return c+r;if(u&&(s+=c.length-s),uu(a)){if(e.slice(s).search(a)){var l,f=c;for(a.global||(a=Te(a.source,bu(ve.exec(a))+"g")),a.lastIndex=0;l=a.exec(f);)var h=l.index;c=c.slice(0,h===i?s:h)}}else if(e.indexOf(li(a),s)!=s){var d=c.lastIndexOf(a);d>-1&&(c=c.slice(0,d))}return c+r},zn.unescape=function(e){return(e=bu(e))&&Y.test(e)?e.replace(Q,mn):e},zn.uniqueId=function(e){var t=++Me;return bu(e)+t},zn.upperCase=Xu,zn.upperFirst=Ju,zn.each=bo,zn.eachRight=wo,zn.first=Ha,cs(zn,function(){var e={};return wr(zn,(function(t,n){Le.call(zn.prototype,n)||(e[n]=t)})),e}(),{chain:!1}),zn.VERSION="4.17.21",Tt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){zn[e].placeholder=zn})),Tt(["drop","take"],(function(e,t){Kn.prototype[e]=function(n){n=n===i?1:kn(mu(n),0);var r=this.__filtered__&&!t?new Kn(this):this.clone();return r.__filtered__?r.__takeCount__=bn(n,r.__takeCount__):r.__views__.push({size:bn(n,m),type:e+(r.__dir__<0?"Right":"")}),r},Kn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Tt(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Kn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:ca(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),Tt(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Kn.prototype[e]=function(){return this[n](1).value()[0]}})),Tt(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Kn.prototype[e]=function(){return this.__filtered__?new Kn(this):this[n](1)}})),Kn.prototype.compact=function(){return this.filter(as)},Kn.prototype.find=function(e){return this.filter(e).head()},Kn.prototype.findLast=function(e){return this.reverse().find(e)},Kn.prototype.invokeMap=Xr((function(e,t){return"function"==typeof e?new Kn(this):this.map((function(n){return Nr(n,e,t)}))})),Kn.prototype.reject=function(e){return this.filter(Fo(ca(e)))},Kn.prototype.slice=function(e,t){e=mu(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Kn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(n=(t=mu(t))<0?n.dropRight(-t):n.take(t-e)),n)},Kn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Kn.prototype.toArray=function(){return this.take(m)},wr(Kn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),a=zn[r?"take"+("last"==t?"Right":""):t],o=r||/^find/.test(t);a&&(zn.prototype[t]=function(){var t=this.__wrapped__,u=r?[1]:arguments,s=t instanceof Kn,c=u[0],l=s||Go(t),f=function(e){var t=a.apply(zn,Rt([e],u));return r&&h?t[0]:t};l&&n&&"function"==typeof c&&1!=c.length&&(s=l=!1);var h=this.__chain__,d=!!this.__actions__.length,p=o&&!h,v=s&&!d;if(!o&&l){t=v?t:new Kn(this);var m=e.apply(t,u);return m.__actions__.push({func:vo,args:[f],thisArg:i}),new Wn(m,h)}return p&&v?e.apply(this,u):(m=this.thru(f),p?r?m.value()[0]:m.value():m)})})),Tt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Oe[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);zn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Go(i)?i:[],e)}return this[n]((function(n){return t.apply(Go(n)?n:[],e)}))}})),wr(Kn.prototype,(function(e,t){var n=zn[t];if(n){var r=n.name+"";Le.call(Pn,r)||(Pn[r]=[]),Pn[r].push({name:t,func:n})}})),Pn[zi(i,2).name]=[{name:"wrapper",func:i}],Kn.prototype.clone=function(){var e=new Kn(this.__wrapped__);return e.__actions__=Oi(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Oi(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Oi(this.__views__),e},Kn.prototype.reverse=function(){if(this.__filtered__){var e=new Kn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Kn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Go(e),r=t<0,i=n?e.length:0,a=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var a=n[r],o=a.size;switch(a.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=bn(t,e+o);break;case"takeRight":e=kn(e,t-o)}}return{start:e,end:t}}(0,i,this.__views__),o=a.start,u=a.end,s=u-o,c=r?u:o-1,l=this.__iteratees__,f=l.length,h=0,d=bn(s,this.__takeCount__);if(!n||!r&&i==s&&d==s)return vi(e,this.__actions__);var p=[];e:for(;s--&&h<d;){for(var v=-1,m=e[c+=t];++v<f;){var y=l[v],g=y.iteratee,k=y.type,b=g(m);if(2==k)m=b;else if(!b){if(1==k)continue e;break e}}p[h++]=m}return p},zn.prototype.at=mo,zn.prototype.chain=function(){return po(this)},zn.prototype.commit=function(){return new Wn(this.value(),this.__chain__)},zn.prototype.next=function(){this.__values__===i&&(this.__values__=pu(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},zn.prototype.plant=function(e){for(var t,n=this;n instanceof qn;){var r=Va(n);r.__index__=0,r.__values__=i,t?a.__wrapped__=r:t=r;var a=r;n=n.__wrapped__}return a.__wrapped__=e,t},zn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Kn){var t=e;return this.__actions__.length&&(t=new Kn(this)),(t=t.reverse()).__actions__.push({func:vo,args:[to],thisArg:i}),new Wn(t,this.__chain__)}return this.thru(to)},zn.prototype.toJSON=zn.prototype.valueOf=zn.prototype.value=function(){return vi(this.__wrapped__,this.__actions__)},zn.prototype.first=zn.prototype.head,Xe&&(zn.prototype[Xe]=function(){return this}),zn}();dt._=yn,(r=function(){return yn}.call(t,n,t,e))===i||(e.exports=r)}.call(this)},2756:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.replace(/\n/g,"").replace(/\s\s+/g," ")}},888:function(e,t,n){"use strict";var r=n(9047);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},2007:function(e,t,n){e.exports=n(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4463:function(e,t,n){"use strict";var r=n(2791),i=n(5296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var M,F=Object.assign;function j(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function z(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case x:return"Portal";case I:return"Profiler";case S:return"StrictMode";case A:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function H(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function J(e,t){X(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,_e=null,Se=null;function Ie(e){if(e=ki(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Ee(e){_e?Se?Se.push(e):Se=[e]:_e=e}function Te(){if(_e){var e=_e,t=Se;if(Se=_e=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function Ce(e,t){return e(t)}function Ae(){}var Oe=!1;function Ne(e,t,n){if(Oe)return e(t,n);Oe=!0;try{return Ce(e,t,n)}finally{Oe=!1,(null!==_e||null!==Se)&&(Ae(),Te())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var De=!1;if(l)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){De=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(le){De=!1}function Le(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Fe=null,je=!1,Ue=null,Ve={onError:function(e){Me=!0,Fe=e}};function ze(e,t,n,r,i,a,o,u,s){Me=!1,Fe=null,Le.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(a(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var He=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,_t,St,It,Et=!1,Tt=[],Ct=null,At=null,Ot=null,Nt=new Map,Pt=new Map,Dt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Ot=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void It(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){jt(e)&&n.delete(t)}function Vt(){Et=!1,null!==Ct&&jt(Ct)&&(Ct=null),null!==At&&jt(At)&&(At=null),null!==Ot&&jt(Ot)&&(Ot=null),Nt.forEach(Ut),Pt.forEach(Ut)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return zt(t,e)}if(0<Tt.length){zt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&zt(Ct,e),null!==At&&zt(At,e),null!==Ot&&zt(Ot,e),Nt.forEach(t),Pt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Dt.shift()}var qt=b.ReactCurrentBatchConfig,Wt=!0;function Kt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=1,Ht(e,t,n,r)}finally{kt=i,qt.transition=a}}function Gt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=4,Ht(e,t,n,r)}finally{kt=i,qt.transition=a}}function Ht(e,t,n,r){if(Wt){var i=$t(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return At=Mt(At,e,t,n,r,i),!0;case"mouseover":return Ot=Mt(Ot,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Nt.set(a,Mt(Nt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Pt.set(a,Mt(Pt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=$t(e,t,n,r))&&Wr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function $t(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),hn=an(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),mn=an(F({},fn,{relatedTarget:0})),yn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function In(){return Sn}var En=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(En),Cn=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),On=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=an(Nn),Dn=[9,13,27,32],Rn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,Fn=l&&(!Rn||Ln&&8<Ln&&11>=Ln),jn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Kn(e,t,n,r){Ee(r),0<(t=Gr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Hn=null;function Qn(e){jr(e,0)}function $n(e){if(H(bi(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Hn=Gn=null)}function nr(e){if("value"===e.propertyName&&$n(Hn)){var t=[];Kn(t,Hn,e,we(e)),Ne(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Hn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Hn)}function ar(e,t){if("click"===e)return $n(t)}function or(e,t){if("input"===e||"change"===e)return $n(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Gr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},_r={},Sr={};function Ir(e){if(_r[e])return _r[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return _r[e]=n[t];return e}l&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Er=Ir("animationend"),Tr=Ir("animationiteration"),Cr=Ir("animationstart"),Ar=Ir("transitionend"),Or=new Map,Nr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Or.set(e,t),s(t,[e])}for(var Dr=0;Dr<Nr.length;Dr++){var Rr=Nr[Dr];Pr(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Pr(Er,"onAnimationEnd"),Pr(Tr,"onAnimationIteration"),Pr(Cr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(ze.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Fe;Me=!1,Fe=null,je||(je=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}}}if(je)throw e=Ue,je=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Yt(t)){case 1:var i=Kt;break;case 4:i=Gt;break;default:i=Ht}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Ne((function(){var r=a,i=we(n),o=[];e:{var u=Or.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=An;break;case Er:case Tr:case Cr:s=yn;break;case Ar:s=On;break;case"scroll":s=hn;break;case"wheel":s=Pn;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Pe(p,h))&&l.push(Kr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:bi(s),d=null==c?u:bi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Hr(d))p++;for(d=0,v=h;v;v=Hr(v))d++;for(;0<p-d;)l=Hr(l),p--;for(;0<d-p;)h=Hr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Hr(l),h=Hr(h)}l=null}else l=null;null!==s&&Qr(o,u,s,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(s=(u=r?bi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Yn;else if(Wn(u))if(Xn)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Kn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?bi(r):window,e){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(Rn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Bn?Vn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Bn&&(g=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Bn=!0)),0<(y=Gr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=zn(n))&&(k.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Un=!0,jn);case"textInput":return(e=t.data)===jn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Rn&&Vn(e,t)?(e=en(),Zt=Jt=Xt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}jr(o,t)}))}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Pe(e,n))&&r.unshift(Kr(e,a,i)),null!=(a=Pe(e,t))&&r.push(Kr(e,a,i))),e=e.return}return r}function Hr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Pe(n,a))&&o.unshift(Kr(n,s,u)):i||null!=(s=Pe(n,a))&&o.push(Kr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var $r=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],_i=-1;function Si(e){return{current:e}}function Ii(e){0>_i||(e.current=xi[_i],xi[_i]=null,_i--)}function Ei(e,t){_i++,xi[_i]=e.current,e.current=t}var Ti={},Ci=Si(Ti),Ai=Si(!1),Oi=Ti;function Ni(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){Ii(Ai),Ii(Ci)}function Ri(e,t,n){if(Ci.current!==Ti)throw Error(a(168));Ei(Ci,t),Ei(Ai,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Oi=Ci.current,Ei(Ci,e),Ei(Ai,Ai.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Oi),r.__reactInternalMemoizedMergedChildContext=e,Ii(Ai),Ii(Ci),Ei(Ci,e)):Ii(Ai),Ei(Ai,n)}var ji=null,Ui=!1,Vi=!1;function zi(e){null===ji?ji=[e]:ji.push(e)}function Bi(){if(!Vi&&null!==ji){Vi=!0;var e=0,t=kt;try{var n=ji;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Ui=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),He(Ze,Bi),i}finally{kt=t,Vi=!1}}return null}var qi=[],Wi=0,Ki=null,Gi=0,Hi=[],Qi=0,$i=null,Yi=1,Xi="";function Ji(e,t){qi[Wi++]=Gi,qi[Wi++]=Ki,Ki=e,Gi=t}function Zi(e,t,n){Hi[Qi++]=Yi,Hi[Qi++]=Xi,Hi[Qi++]=$i,$i=e;var r=Yi;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else Yi=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Ki;)Ki=qi[--Wi],qi[Wi]=null,Gi=qi[--Wi],qi[Wi]=null;for(;e===$i;)$i=Hi[--Qi],Hi[Qi]=null,Xi=Hi[--Qi],Hi[Qi]=null,Yi=Hi[--Qi],Hi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Nc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Yi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Nc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Si(null),ga=null,ka=null,ba=null;function wa(){ba=ka=ga=null}function xa(e){var t=ya.current;Ii(ya),e._currentValue=t}function _a(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sa(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bu=!0),e.firstContext=null)}function Ia(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Ea=null;function Ta(e){null===Ea?Ea=[e]:Ea.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Aa(e,r)}function Aa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Oa=!1;function Na(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Da(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ra(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cs)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Aa(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Aa(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Oa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Oa=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ms|=o,e.lanes=o,e.memoizedState=f}}function ja(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ua=(new r.Component).refs;function Va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var za={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Da(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ra(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Da(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ra(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Da(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ra(e,i,r))&&(nc(t,e,r,n),La(t,e,r))}};function Ba(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function qa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Ia(a):(i=Pi(t)?Oi:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ni(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=za,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&za.enqueueReplaceState(t,t.state,null)}function Ka(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ua,Na(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ia(a):(a=Pi(t)?Oi:Ci.current,i.context=Ni(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&za.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ga(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ha(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function $a(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===_?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===P&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ga(e,t,n),r.return=e,r):((r=Rc(n.type,n.key,n.props,null,e.mode,r)).ref=Ga(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Rc(t.type,t.key,t.props,null,e.mode,n)).ref=Ga(e,null,t),n.return=e,n;case x:return(t=jc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Ha(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case P:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ha(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ha(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),ia&&Ji(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Ji(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),c}function m(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),ia&&Ji(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return ia&&Ji(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===_){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ga(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===_?((a=Lc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Rc(o.type,o.key,o.props,null,r.mode,s)).ref=Ga(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=jc(o,r.mode,s)).return=r,r=a}return u(r);case P:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return m(r,a,o,s);Ha(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Ya=$a(!0),Xa=$a(!1),Ja={},Za=Si(Ja),eo=Si(Ja),to=Si(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Ei(to,t),Ei(eo,e),Ei(Za,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ii(Za),Ei(Za,t)}function io(){Ii(Za),Ii(eo),Ii(to)}function ao(e){no(to.current);var t=no(Za.current),n=se(t,e.type);t!==n&&(Ei(eo,e),Ei(Za,n))}function oo(e){eo.current===e&&(Ii(Za),Ii(eo))}var uo=Si(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,ko=!1,bo=0,wo=0;function xo(){throw Error(a(321))}function _o(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(ko)}if(fo.current=ou,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function Io(){var e=0!==bo;return bo=0,e}function Eo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function To(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Co(e,t){return"function"===typeof t?t(e):t}function Ao(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,vo.lanes|=f,Ms|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(bu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Ms|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Oo(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(bu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function No(){}function Po(e,t){var n=vo,r=To(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,bu=!0),r=r.queue,Wo(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Uo(9,Ro.bind(null,n,r,i,t),void 0,null),null===As)throw Error(a(349));0!==(30&po)||Do(n,t,i)}return i}function Do(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ro(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Fo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&Fo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Fo(e){var t=Aa(e,1);null!==t&&nc(t,e,1,-1)}function jo(e){var t=Eo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return To().memoizedState}function zo(e,t,n,r){var i=Eo();vo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function Bo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&_o(r,o.deps))return void(i.memoizedState=Uo(t,n,a,r))}vo.flags|=e,i.memoizedState=Uo(1|t,n,a,r)}function qo(e,t){return zo(8390656,8,e,t)}function Wo(e,t){return Bo(2048,8,e,t)}function Ko(e,t){return Bo(4,2,e,t)}function Go(e,t){return Bo(4,4,e,t)}function Ho(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Ho.bind(null,t,e),n)}function $o(){}function Yo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Ms|=n,e.baseState=!0),t)}function Zo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function eu(){return To().memoizedState}function tu(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ca(e,t,n,r))){nc(n,e,r,ec()),au(n,t,r)}}function nu(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ta(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(nc(n,e,r,i=ec()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:Ia,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},uu={readContext:Ia,useCallback:function(e,t){return Eo().memoizedState=[e,void 0===t?null:t],e},useContext:Ia,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Ho.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var n=Eo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Eo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Eo().memoizedState=e},useState:jo,useDebugValue:$o,useDeferredValue:function(e){return Eo().memoizedState=e},useTransition:function(){var e=jo(!1),t=e[0];return e=Zo.bind(null,e[1]),Eo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Eo();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===As)throw Error(a(349));0!==(30&po)||Do(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Ro.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Eo(),t=As.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=(Yi&~(1<<32-ot(Yi)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Ia,useCallback:Yo,useContext:Ia,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ko,useLayoutEffect:Go,useMemo:Xo,useReducer:Ao,useRef:Vo,useState:function(){return Ao(Co)},useDebugValue:$o,useDeferredValue:function(e){return Jo(To(),mo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],To().memoizedState]},useMutableSource:No,useSyncExternalStore:Po,useId:eu,unstable_isNewReconciler:!1},cu={readContext:Ia,useCallback:Yo,useContext:Ia,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ko,useLayoutEffect:Go,useMemo:Xo,useReducer:Oo,useRef:Vo,useState:function(){return Oo(Co)},useDebugValue:$o,useDeferredValue:function(e){var t=To();return null===mo?t.memoizedState=e:Jo(t,mo.memoizedState,e)},useTransition:function(){return[Oo(Co)[0],To().memoizedState]},useMutableSource:No,useSyncExternalStore:Po,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Da(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ws||(Ws=!0,Ks=r),hu(0,t)},n}function vu(e,t,n){(n=Da(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Gs?Gs=new Set([this]):Gs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ic.bind(null,e,t,n),t.then(e,e))}function yu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Da(-1,1)).tag=2,Ra(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ku=b.ReactCurrentOwner,bu=!1;function wu(e,t,n,r){t.child=null===e?Xa(t,null,n,r):Ya(t,e.child,n,r)}function xu(e,t,n,r,i){n=n.render;var a=t.ref;return Sa(t,i),r=So(e,t,n,r,a,i),n=Io(),null===e||bu?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wu(e,t,i))}function _u(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Pc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Rc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Su(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Wu(e,t,i)}return t.flags|=1,(e=Dc(a,r)).ref=t.ref,e.return=t,t.child=e}function Su(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(bu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Wu(e,t,i);0!==(131072&e.flags)&&(bu=!0)}}return Tu(e,t,n,r,i)}function Iu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Ds,Ps),Ps|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Ds,Ps),Ps|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ei(Ds,Ps),Ps|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ei(Ds,Ps),Ps|=r;return wu(e,t,i,n),t.child}function Eu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tu(e,t,n,r,i){var a=Pi(n)?Oi:Ci.current;return a=Ni(t,a),Sa(t,i),n=So(e,t,n,r,a,i),r=Io(),null===e||bu?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wu(e,t,i))}function Cu(e,t,n,r,i){if(Pi(n)){var a=!0;Mi(t)}else a=!1;if(Sa(t,i),null===t.stateNode)qu(e,t),qa(t,n,r),Ka(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ia(c):c=Ni(t,c=Pi(n)?Oi:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Wa(t,o,r,c),Oa=!1;var h=t.memoizedState;o.state=h,Fa(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ai.current||Oa?("function"===typeof l&&(Va(t,n,l,r),s=t.memoizedState),(u=Oa||Ba(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Pa(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ma(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Ia(s):s=Ni(t,s=Pi(n)?Oi:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&Wa(t,o,r,s),Oa=!1,h=t.memoizedState,o.state=h,Fa(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ai.current||Oa?("function"===typeof d&&(Va(t,n,d,r),p=t.memoizedState),(c=Oa||Ba(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Au(e,t,n,r,a,i)}function Au(e,t,n,r,i,a){Eu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Wu(e,t,a);r=t.stateNode,ku.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ya(t,e.child,null,a),t.child=Ya(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Ou(e){var t=e.stateNode;t.pendingContext?Ri(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ri(0,t.context,!1),ro(e,t.containerInfo)}function Nu(e,t,n,r,i){return da(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Pu,Du,Ru,Lu={dehydrated:null,treeContext:null,retryLane:0};function Mu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fu(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ei(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Mc(s,i,0,null),e=Lc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Mu(n),t.memoizedState=Lu,e):ju(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,Uu(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(o=Lc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ya(t,e.child,null,u),t.child.memoizedState=Mu(u),t.memoizedState=Lu,o);if(0===(1&t.mode))return Uu(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,Uu(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),bu||s){if(null!==(r=As)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Aa(e,i),nc(r,e,i,-1))}return vc(),Uu(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Hi[Qi++]=Yi,Hi[Qi++]=Xi,Hi[Qi++]=$i,Yi=e.id,Xi=e.overflow,$i=t),(t=ju(t,r.children)).flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Dc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Dc(r,u):(u=Lc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Mu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Lu,i}return e=(u=e.child).sibling,i=Dc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function ju(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Uu(e,t,n,r){return null!==r&&pa(r),Ya(t,e.child,null,n),(e=ju(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_a(e.return,t,n)}function zu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Bu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vu(e,n,t);else if(19===e.tag)Vu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zu(t,!0,n,null,a);break;case"together":zu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ms|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ku(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Hu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gu(t),null;case 1:case 17:return Pi(t.type)&&Di(),Gu(t),null;case 3:return r=t.stateNode,io(),Ii(Ai),Ii(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Gu(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Du(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Gu(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Y(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Ur("scroll",r)}switch(n){case"input":G(r),Z(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Pu(e,t),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":Y(e,r),i=$(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Ur("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gu(t),null;case 6:if(e&&null!=t.stateNode)Ru(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Gu(t),null;case 13:if(Ii(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gu(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Rs&&(Rs=3):vc())),null!==t.updateQueue&&(t.flags|=4),Gu(t),null);case 4:return io(),null===e&&Br(t.stateNode.containerInfo),Gu(t),null;case 10:return xa(t.type._context),Gu(t),null;case 19:if(Ii(uo),null===(o=t.memoizedState))return Gu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Ku(o,!1);else{if(0!==Rs||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Ku(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>Bs&&(t.flags|=128,r=!0,Ku(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ku(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Gu(t),null}else 2*Xe()-o.renderingStartTime>Bs&&1073741824!==n&&(t.flags|=128,r=!0,Ku(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=uo.current,Ei(uo,r?1&n|2:1&n),t):(Gu(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ps)&&(Gu(t),6&t.subtreeFlags&&(t.flags|=8192)):Gu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Qu(e,t){switch(ta(t),t.tag){case 1:return Pi(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ii(Ai),Ii(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ii(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ii(uo),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Pu=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Du=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=$(e,i),r=$(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Ru=function(e,t,n,r){n!==r&&(t.flags|=4)};var $u=!1,Yu=!1,Xu="function"===typeof WeakSet?WeakSet:Set,Ju=null;function Zu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function es(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var ts=!1;function ns(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&es(t,n,a)}i=i.next}while(i!==r)}}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function is(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function as(e){var t=e.alternate;null!==t&&(e.alternate=null,as(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function os(e){return 5===e.tag||3===e.tag||4===e.tag}function us(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||os(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ss(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ss(e,t,n),e=e.sibling;null!==e;)ss(e,t,n),e=e.sibling}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}var ls=null,fs=!1;function hs(e,t,n){for(n=n.child;null!==n;)ds(e,t,n),n=n.sibling}function ds(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Yu||Zu(n,t);case 6:var r=ls,i=fs;ls=null,hs(e,t,n),fs=i,null!==(ls=r)&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ls.removeChild(n.stateNode));break;case 18:null!==ls&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),Bt(e)):si(ls,n.stateNode));break;case 4:r=ls,i=fs,ls=n.stateNode.containerInfo,fs=!0,hs(e,t,n),ls=r,fs=i;break;case 0:case 11:case 14:case 15:if(!Yu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&es(n,t,o),i=i.next}while(i!==r)}hs(e,t,n);break;case 1:if(!Yu&&(Zu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Sc(n,t,u)}hs(e,t,n);break;case 21:hs(e,t,n);break;case 22:1&n.mode?(Yu=(r=Yu)||null!==n.memoizedState,hs(e,t,n),Yu=r):hs(e,t,n);break;default:hs(e,t,n)}}function ps(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xu),t.forEach((function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:ls=s.stateNode,fs=!1;break e;case 3:case 4:ls=s.stateNode.containerInfo,fs=!0;break e}s=s.return}if(null===ls)throw Error(a(160));ds(o,u,i),ls=null,fs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Sc(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ms(t,e),t=t.sibling}function ms(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vs(t,e),ys(e),4&r){try{ns(3,e,e.return),rs(3,e)}catch(m){Sc(e,e.return,m)}try{ns(5,e,e.return)}catch(m){Sc(e,e.return,m)}}break;case 1:vs(t,e),ys(e),512&r&&null!==n&&Zu(n,n.return);break;case 5:if(vs(t,e),ys(e),512&r&&null!==n&&Zu(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Sc(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&X(i,o),ke(s,u);var l=ke(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(s){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Sc(e,e.return,m)}}break;case 6:if(vs(t,e),ys(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Sc(e,e.return,m)}}break;case 3:if(vs(t,e),ys(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(m){Sc(e,e.return,m)}break;case 4:default:vs(t,e),ys(e);break;case 13:vs(t,e),ys(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(zs=Xe())),4&r&&ps(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Yu=(l=Yu)||f,vs(t,e),Yu=l):vs(t,e),ys(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Ju=e,f=e.child;null!==f;){for(h=Ju=f;null!==Ju;){switch(p=(d=Ju).child,d.tag){case 0:case 11:case 14:case 15:ns(4,d,d.return);break;case 1:Zu(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Sc(r,n,m)}}break;case 5:Zu(d,d.return);break;case 22:if(null!==d.memoizedState){ws(h);continue}}null!==p?(p.return=d,Ju=p):ws(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(m){Sc(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Sc(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vs(t,e),ys(e),4&r&&ps(e);case 21:}}function ys(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(os(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cs(e,us(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ss(e,us(e),o);break;default:throw Error(a(161))}}catch(u){Sc(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gs(e,t,n){Ju=e,ks(e,t,n)}function ks(e,t,n){for(var r=0!==(1&e.mode);null!==Ju;){var i=Ju,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||$u;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Yu;u=$u;var c=Yu;if($u=o,(Yu=s)&&!c)for(Ju=i;null!==Ju;)s=(o=Ju).child,22===o.tag&&null!==o.memoizedState?xs(i):null!==s?(s.return=o,Ju=s):xs(i);for(;null!==a;)Ju=a,ks(a,t,n),a=a.sibling;Ju=i,$u=u,Yu=c}bs(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Ju=a):bs(e)}}function bs(e){for(;null!==Ju;){var t=Ju;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Yu||rs(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Yu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ja(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ja(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(a(163))}Yu||512&t.flags&&is(t)}catch(d){Sc(t,t.return,d)}}if(t===e){Ju=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ju=n;break}Ju=t.return}}function ws(e){for(;null!==Ju;){var t=Ju;if(t===e){Ju=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ju=n;break}Ju=t.return}}function xs(e){for(;null!==Ju;){var t=Ju;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rs(4,t)}catch(s){Sc(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Sc(t,i,s)}}var a=t.return;try{is(t)}catch(s){Sc(t,a,s)}break;case 5:var o=t.return;try{is(t)}catch(s){Sc(t,o,s)}}}catch(s){Sc(t,t.return,s)}if(t===e){Ju=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Ju=u;break}Ju=t.return}}var _s,Ss=Math.ceil,Is=b.ReactCurrentDispatcher,Es=b.ReactCurrentOwner,Ts=b.ReactCurrentBatchConfig,Cs=0,As=null,Os=null,Ns=0,Ps=0,Ds=Si(0),Rs=0,Ls=null,Ms=0,Fs=0,js=0,Us=null,Vs=null,zs=0,Bs=1/0,qs=null,Ws=!1,Ks=null,Gs=null,Hs=!1,Qs=null,$s=0,Ys=0,Xs=null,Js=-1,Zs=0;function ec(){return 0!==(6&Cs)?Xe():-1!==Js?Js:Js=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cs)&&0!==Ns?Ns&-Ns:null!==va.transition?(0===Zs&&(Zs=vt()),Zs):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nc(e,t,n,r){if(50<Ys)throw Ys=0,Xs=null,Error(a(185));yt(e,n,r),0!==(2&Cs)&&e===As||(e===As&&(0===(2&Cs)&&(Fs|=n),4===Rs&&uc(e,Ns)),rc(e,r),1===n&&0===Cs&&0===(1&t.mode)&&(Bs=Xe()+500,Ui&&Bi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===As?Ns:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,zi(e)}(sc.bind(null,e)):zi(sc.bind(null,e)),oi((function(){0===(6&Cs)&&Bi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ac(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Js=-1,Zs=0,0!==(6&Cs))throw Error(a(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ht(e,e===As?Ns:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var i=Cs;Cs|=2;var o=pc();for(As===e&&Ns===t||(qs=null,Bs=Xe()+500,hc(e,t));;)try{gc();break}catch(s){dc(e,s)}wa(),Is.current=o,Cs=i,null!==Os?t=0:(As=null,Ns=0,t=Rs)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Ls,hc(e,0),uc(e,r),rc(e,Xe()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t))throw n=Ls,hc(e,0),uc(e,r),rc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,Vs,qs);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=zs+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Vs,qs),t);break}wc(e,Vs,qs);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ss(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Vs,qs),r);break}wc(e,Vs,qs);break;default:throw Error(a(329))}}}return rc(e,Xe()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=Us;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=Vs,Vs=n,null!==t&&oc(t)),e}function oc(e){null===Vs?Vs=e:Vs.push.apply(Vs,e)}function uc(e,t){for(t&=~js,t&=~Fs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function sc(e){if(0!==(6&Cs))throw Error(a(327));xc();var t=ht(e,0);if(0===(1&t))return rc(e,Xe()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Ls,hc(e,0),uc(e,t),rc(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Vs,qs),rc(e,Xe()),null}function cc(e,t){var n=Cs;Cs|=1;try{return e(t)}finally{0===(Cs=n)&&(Bs=Xe()+500,Ui&&Bi())}}function lc(e){null!==Qs&&0===Qs.tag&&0===(6&Cs)&&xc();var t=Cs;Cs|=1;var n=Ts.transition,r=kt;try{if(Ts.transition=null,kt=1,e)return e()}finally{kt=r,Ts.transition=n,0===(6&(Cs=t))&&Bi()}}function fc(){Ps=Ds.current,Ii(Ds)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Os)for(n=Os.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:io(),Ii(Ai),Ii(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ii(uo);break;case 10:xa(r.type._context);break;case 22:case 23:fc()}n=n.return}if(As=e,Os=e=Dc(e.current,null),Ns=Ps=t,Rs=0,Ls=null,js=Fs=Ms=0,Vs=Us=null,null!==Ea){for(t=0;t<Ea.length;t++)if(null!==(r=(n=Ea[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ea=null}return e}function dc(e,t){for(;;){var n=Os;try{if(wa(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,ko=!1,bo=0,Es.current=null,null===n||null===n.return){Rs=1,Ls=t,Os=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Ns,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=yu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&mu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){mu(o,l,t),vc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var y=yu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gu(y,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Rs&&(Rs=2),null===Us?Us=[o]:Us.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,pu(0,c,t));break e;case 1:s=c;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Gs||!Gs.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}bc(n)}catch(b){t=b,Os===n&&null!==n&&(Os=n=n.return);continue}break}}function pc(){var e=Is.current;return Is.current=ou,null===e?ou:e}function vc(){0!==Rs&&3!==Rs&&2!==Rs||(Rs=4),null===As||0===(268435455&Ms)&&0===(268435455&Fs)||uc(As,Ns)}function mc(e,t){var n=Cs;Cs|=2;var r=pc();for(As===e&&Ns===t||(qs=null,hc(e,t));;)try{yc();break}catch(i){dc(e,i)}if(wa(),Cs=n,Is.current=r,null!==Os)throw Error(a(261));return As=null,Ns=0,Rs}function yc(){for(;null!==Os;)kc(Os)}function gc(){for(;null!==Os&&!$e();)kc(Os)}function kc(e){var t=_s(e.alternate,e,Ps);e.memoizedProps=e.pendingProps,null===t?bc(e):Os=t,Es.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Hu(n,t,Ps)))return void(Os=n)}else{if(null!==(n=Qu(n,t)))return n.flags&=32767,void(Os=n);if(null===e)return Rs=6,void(Os=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Os=t);Os=t=e}while(null!==t);0===Rs&&(Rs=5)}function wc(e,t,n){var r=kt,i=Ts.transition;try{Ts.transition=null,kt=1,function(e,t,n,r){do{xc()}while(null!==Qs);if(0!==(6&Cs))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===As&&(Os=As=null,Ns=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Hs||(Hs=!0,Ac(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Ts.transition,Ts.transition=null;var u=kt;kt=1;var s=Cs;Cs|=4,Es.current=null,function(e,t){if(ei=Wt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Ju=t;null!==Ju;)if(e=(t=Ju).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ju=e;else for(;null!==Ju;){t=Ju;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Sc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Ju=e;break}Ju=t.return}v=ts,ts=!1}(e,n),ms(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,gs(n,e,i),Ye(),Cs=s,kt=u,Ts.transition=o}else e.current=n;if(Hs&&(Hs=!1,Qs=e,$s=i),0===(o=e.pendingLanes)&&(Gs=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Ws)throw Ws=!1,e=Ks,Ks=null,e;0!==(1&$s)&&0!==e.tag&&xc(),0!==(1&(o=e.pendingLanes))?e===Xs?Ys++:(Ys=0,Xs=e):Ys=0,Bi()}(e,t,n,r)}finally{Ts.transition=i,kt=r}return null}function xc(){if(null!==Qs){var e=bt($s),t=Ts.transition,n=kt;try{if(Ts.transition=null,kt=16>e?16:e,null===Qs)var r=!1;else{if(e=Qs,Qs=null,$s=0,0!==(6&Cs))throw Error(a(331));var i=Cs;for(Cs|=4,Ju=e.current;null!==Ju;){var o=Ju,u=o.child;if(0!==(16&Ju.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Ju=l;null!==Ju;){var f=Ju;switch(f.tag){case 0:case 11:case 15:ns(8,f,o)}var h=f.child;if(null!==h)h.return=f,Ju=h;else for(;null!==Ju;){var d=(f=Ju).sibling,p=f.return;if(as(f),f===l){Ju=null;break}if(null!==d){d.return=p,Ju=d;break}Ju=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Ju=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Ju=u;else e:for(;null!==Ju;){if(0!==(2048&(o=Ju).flags))switch(o.tag){case 0:case 11:case 15:ns(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Ju=g;break e}Ju=o.return}}var k=e.current;for(Ju=k;null!==Ju;){var b=(u=Ju).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,Ju=b;else e:for(u=k;null!==Ju;){if(0!==(2048&(s=Ju).flags))try{switch(s.tag){case 0:case 11:case 15:rs(9,s)}}catch(x){Sc(s,s.return,x)}if(s===u){Ju=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Ju=w;break e}Ju=s.return}}if(Cs=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{kt=n,Ts.transition=t}}return!1}function _c(e,t,n){e=Ra(e,t=pu(0,t=lu(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function Sc(e,t,n){if(3===e.tag)_c(e,e,n);else for(;null!==t;){if(3===t.tag){_c(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gs||!Gs.has(r))){t=Ra(t,e=vu(t,e=lu(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Ic(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,As===e&&(Ns&n)===n&&(4===Rs||3===Rs&&(130023424&Ns)===Ns&&500>Xe()-zs?hc(e,0):js|=n),rc(e,t)}function Ec(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Aa(e,t))&&(yt(e,t,n),rc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ec(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ec(e,n)}function Ac(e,t){return He(e,t)}function Oc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nc(e,t,n,r){return new Oc(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Nc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Pc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case _:return Lc(n.children,i,o,t);case S:u=8,i|=8;break;case I:return(e=Nc(12,n,t,2|i)).elementType=I,e.lanes=o,e;case A:return(e=Nc(13,n,t,i)).elementType=A,e.lanes=o,e;case O:return(e=Nc(19,n,t,i)).elementType=O,e.lanes=o,e;case D:return Mc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:u=10;break e;case T:u=9;break e;case C:u=11;break e;case N:u=14;break e;case P:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Nc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Lc(e,t,n,r){return(e=Nc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Nc(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Nc(6,e,null,t)).lanes=n,e}function jc(e,t,n){return(t=Nc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,a,o,u,s){return e=new Uc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Nc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Na(a),e}function zc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Bc(e){if(!e)return Ti;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Li(e,n,t)}return t}function qc(e,t,n,r,i,a,o,u,s){return(e=Vc(n,r,!0,e,0,a,0,u,s)).context=Bc(null),n=e.current,(a=Da(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Ra(n,a,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function Wc(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Da(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ra(i,t,o))&&(nc(e,i,o,a),La(e,i,o)),o}function Kc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}_s=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)bu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bu=!1,function(e,t,n){switch(t.tag){case 3:Ou(t),da();break;case 5:ao(t);break;case 1:Pi(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fu(e,t,n):(Ei(uo,1&uo.current),null!==(e=Wu(e,t,n))?e.sibling:null);Ei(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Bu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Iu(e,t,n)}return Wu(e,t,n)}(e,t,n);bu=0!==(131072&e.flags)}else bu=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qu(e,t),e=t.pendingProps;var i=Ni(t,Ci.current);Sa(t,n),i=So(null,t,r,e,i,n);var o=Io();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Na(t),i.updater=za,t.stateNode=i,i._reactInternals=t,Ka(t,r,e,n),t=Au(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===N)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Tu(null,t,r,e,n);break e;case 1:t=Cu(null,t,r,e,n);break e;case 11:t=xu(null,t,r,e,n);break e;case 14:t=_u(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Tu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Ou(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Pa(e,t),Fa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Nu(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Nu(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Wu(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Eu(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Fu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ya(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ei(ya,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ai.current){t=Wu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Da(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),_a(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),_a(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Sa(t,n),r=r(i=Ia(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),_u(e,t,r,i=ma(r.type,i),n);case 15:return Su(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),qu(e,t),t.tag=1,Pi(r)?(e=!0,Mi(t)):e=!1,Sa(t,n),qa(t,r,i),Ka(t,r,i,n),Au(null,t,r,!0,e,n);case 19:return Bu(e,t,n);case 22:return Iu(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Kc(o);u.call(e)}}Wc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Kc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),lc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Kc(s);u.call(e)}}var s=Vc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=s,e[pi]=s.current,Br(8===e.nodeType?e.parentNode:e),lc((function(){Wc(t,s,n,r)})),s}(n,t,e,i,r);return Kc(o)}Yc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Wc(e,t,null,null)},Yc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Wc(null,e,null,null)})),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),rc(t,Xe()),0===(6&Cs)&&(Bs=Xe()+500,Bi()))}break;case 13:lc((function(){var t=Aa(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Hc(e,1)}},xt=function(e){if(13===e.tag){var t=Aa(e,134217728);if(null!==t)nc(t,e,134217728,ec());Hc(e,134217728)}},_t=function(e){if(13===e.tag){var t=tc(e),n=Aa(e,t);if(null!==n)nc(n,e,t,ec());Hc(e,t)}},St=function(){return kt},It=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));H(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cc,Ae=lc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Ee,Te,cc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(a(200));return zc(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,t,n){"use strict";var r=n(4164);t.s=r.createRoot,r.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},1372:function(e,t){"use strict";var n=60103,r=60106,i=60107,a=60108,o=60114,u=60109,s=60110,c=60112,l=60113,f=60120,h=60115,d=60116,p=60121,v=60122,m=60117,y=60129,g=60131;if("function"===typeof Symbol&&Symbol.for){var k=Symbol.for;n=k("react.element"),r=k("react.portal"),i=k("react.fragment"),a=k("react.strict_mode"),o=k("react.profiler"),u=k("react.provider"),s=k("react.context"),c=k("react.forward_ref"),l=k("react.suspense"),f=k("react.suspense_list"),h=k("react.memo"),d=k("react.lazy"),p=k("react.block"),v=k("react.server.block"),m=k("react.fundamental"),y=k("react.debug_trace_mode"),g=k("react.legacy_hidden")}function b(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case o:case a:case l:case f:return e;default:switch(e=e&&e.$$typeof){case s:case c:case d:case h:case u:return e;default:return t}}case r:return t}}}t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===o||e===y||e===a||e===l||e===f||e===g||"object"===typeof e&&null!==e&&(e.$$typeof===d||e.$$typeof===h||e.$$typeof===u||e.$$typeof===s||e.$$typeof===c||e.$$typeof===m||e.$$typeof===p||e[0]===v)},t.typeOf=b},7441:function(e,t,n){"use strict";e.exports=n(1372)},6374:function(e,t,n){"use strict";var r=n(2791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,_={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:_.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=A(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=A(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function O(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},D={transition:null},R={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:D,ReactCurrentOwner:_};t.Children={map:O,forEach:function(e,t,n){O(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return O(e,(function(){t++})),t},toArray:function(e){return O(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,D(x);else{var t=r(l);null!==t&&R(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,g(E),E=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!A());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&R(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,S=!1,I=null,E=-1,T=5,C=-1;function A(){return!(t.unstable_now()-C<T)}function O(){if(null!==I){var e=t.unstable_now();C=e;var n=!0;try{n=I(!0,e)}finally{n?_():(S=!1,I=null)}}else S=!1}if("function"===typeof k)_=function(){k(O)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,P=N.port2;N.port1.onmessage=O,_=function(){P.postMessage(null)}}else _=function(){y(O,0)};function D(e){I=e,S||(S=!0,_())}function R(e,n){E=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,D(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(E),E=-1):m=!0,R(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,D(x))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},9613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(t),s=0;s<a.length;s++){var c=a[s];if(!u(c))return!1;var l=e[c],f=t[c];if(!1===(i=n?n.call(r,l,f,c):void 0)||void 0===i&&l!==f)return!1}return!0}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.amdD=function(){throw new Error("define cannot be used indirect")},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.nc=void 0,function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return tn},SDK_VERSION:function(){return mr},_DEFAULT_ENTRY_NAME:function(){return rr},_addComponent:function(){return ur},_addOrOverwriteComponent:function(){return sr},_apps:function(){return ar},_clearComponents:function(){return hr},_components:function(){return or},_getProvider:function(){return lr},_registerComponent:function(){return cr},_removeServiceInstance:function(){return fr},deleteApp:function(){return br},getApp:function(){return gr},getApps:function(){return kr},initializeApp:function(){return yr},onLog:function(){return _r},registerVersion:function(){return xr},setLogLevel:function(){return Sr}});var t=n(1250);function r(e){if(Array.isArray(e))return e}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){if(e){if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){return r(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||a(e,t)||o()}var s=n(2791);function c(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var l=n(7441),f=n(9613),h=n.n(f);var d=function(e){function t(e,r,s,c,h){for(var d,p,v,m,b,x=0,_=0,S=0,I=0,E=0,P=0,R=v=d=0,M=0,F=0,j=0,U=0,V=s.length,z=V-1,B="",q="",W="",K="";M<V;){if(p=s.charCodeAt(M),M===z&&0!==_+I+S+x&&(0!==_&&(p=47===_?10:47),I=S=x=0,V++,z++),0===_+I+S+x){if(M===z&&(0<F&&(B=B.replace(f,"")),0<B.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:B+=s.charAt(M)}p=59}switch(p){case 123:for(d=(B=B.trim()).charCodeAt(0),v=1,U=++M;M<V;){switch(p=s.charCodeAt(M)){case 123:v++;break;case 125:v--;break;case 47:switch(p=s.charCodeAt(M+1)){case 42:case 47:e:{for(R=M+1;R<z;++R)switch(s.charCodeAt(R)){case 47:if(42===p&&42===s.charCodeAt(R-1)&&M+2!==R){M=R+1;break e}break;case 10:if(47===p){M=R+1;break e}}M=R}}break;case 91:p++;case 40:p++;case 34:case 39:for(;M++<z&&s.charCodeAt(M)!==p;);}if(0===v)break;M++}if(v=s.substring(U,M),0===d&&(d=(B=B.replace(l,"").trim()).charCodeAt(0)),64===d){switch(0<F&&(B=B.replace(f,"")),p=B.charCodeAt(1)){case 100:case 109:case 115:case 45:F=r;break;default:F=N}if(U=(v=t(r,F,v,p,h+1)).length,0<D&&(b=u(3,v,F=n(N,B,j),r,C,T,U,p,h,c),B=F.join(""),void 0!==b&&0===(U=(v=b.trim()).length)&&(p=0,v="")),0<U)switch(p){case 115:B=B.replace(w,o);case 100:case 109:case 45:v=B+"{"+v+"}";break;case 107:v=(B=B.replace(y,"$1 $2"))+"{"+v+"}",v=1===O||2===O&&a("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=B+v,112===c&&(q+=v,v="")}else v=""}else v=t(r,n(r,B,j),v,c,h+1);W+=v,v=j=F=R=d=0,B="",p=s.charCodeAt(++M);break;case 125:case 59:if(1<(U=(B=(0<F?B.replace(f,""):B).trim()).length))switch(0===R&&(d=B.charCodeAt(0),45===d||96<d&&123>d)&&(U=(B=B.replace(" ",":")).length),0<D&&void 0!==(b=u(1,B,r,e,C,T,q.length,c,h,c))&&0===(U=(B=b.trim()).length)&&(B="\0\0"),d=B.charCodeAt(0),p=B.charCodeAt(1),d){case 0:break;case 64:if(105===p||99===p){K+=B+s.charAt(M);break}default:58!==B.charCodeAt(U-1)&&(q+=i(B,d,p,B.charCodeAt(2)))}j=F=R=d=0,B="",p=s.charCodeAt(++M)}}switch(p){case 13:case 10:47===_?_=0:0===1+d&&107!==c&&0<B.length&&(F=1,B+="\0"),0<D*L&&u(0,B,r,e,C,T,q.length,c,h,c),T=1,C++;break;case 59:case 125:if(0===_+I+S+x){T++;break}default:switch(T++,m=s.charAt(M),p){case 9:case 32:if(0===I+x+_)switch(E){case 44:case 58:case 9:case 32:m="";break;default:32!==p&&(m=" ")}break;case 0:m="\\0";break;case 12:m="\\f";break;case 11:m="\\v";break;case 38:0===I+_+x&&(F=j=1,m="\f"+m);break;case 108:if(0===I+_+x+A&&0<R)switch(M-R){case 2:112===E&&58===s.charCodeAt(M-3)&&(A=E);case 8:111===P&&(A=P)}break;case 58:0===I+_+x&&(R=M);break;case 44:0===_+S+I+x&&(F=1,m+="\r");break;case 34:case 39:0===_&&(I=I===p?0:0===I?p:I);break;case 91:0===I+_+S&&x++;break;case 93:0===I+_+S&&x--;break;case 41:0===I+_+x&&S--;break;case 40:if(0===I+_+x){if(0===d)if(2*E+3*P===533);else d=1;S++}break;case 64:0===_+S+I+x+R+v&&(v=1);break;case 42:case 47:if(!(0<I+x+S))switch(_){case 0:switch(2*p+3*s.charCodeAt(M+1)){case 235:_=47;break;case 220:U=M,_=42}break;case 42:47===p&&42===E&&U+2!==M&&(33===s.charCodeAt(U+2)&&(q+=s.substring(U,M+1)),m="",_=0)}}0===_&&(B+=m)}P=E,E=p,M++}if(0<(U=q.length)){if(F=r,0<D&&(void 0!==(b=u(2,q,F,e,C,T,U,c,h,c))&&0===(q=b).length))return K+q+W;if(q=F.join(",")+"{"+q+"}",0!==O*A){switch(2!==O||a(q,2)||(A=0),A){case 111:q=q.replace(k,":-moz-$1")+q;break;case 112:q=q.replace(g,"::-webkit-input-$1")+q.replace(g,"::-moz-$1")+q.replace(g,":-ms-input-$1")+q}A=0}}return K+q+W}function n(e,t,n){var i=t.trim().split(v);t=i;var a=i.length,o=e.length;switch(o){case 0:case 1:var u=0;for(e=0===o?"":e[0]+" ";u<a;++u)t[u]=r(e,t[u],n).trim();break;default:var s=u=0;for(t=[];u<a;++u)for(var c=0;c<o;++c)t[s++]=r(e[c]+" ",i[u],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(m,"$1"+e.trim());case 58:return e.trim()+t.replace(m,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(m,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var o=e+";",u=2*t+3*n+4*r;if(944===u){e=o.indexOf(":",9)+1;var s=o.substring(e,o.length-1).trim();return s=o.substring(0,e).trim()+s+";",1===O||2===O&&a(s,1)?"-webkit-"+s+s:s}if(0===O||2===O&&!a(o,1))return o;switch(u){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(E,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(s=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+s+o;case 1005:return d.test(o)?o.replace(h,":-webkit-")+o.replace(h,":-moz-")+o:o;case 1e3:switch(t=(s=o.substring(13).trim()).indexOf("-")+1,s.charCodeAt(0)+s.charCodeAt(t)){case 226:s=o.replace(b,"tb");break;case 232:s=o.replace(b,"tb-rl");break;case 220:s=o.replace(b,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+s+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,u=(s=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|s.charCodeAt(7))){case 203:if(111>s.charCodeAt(8))break;case 115:o=o.replace(s,"-webkit-"+s)+";"+o;break;case 207:case 102:o=o.replace(s,"-webkit-"+(102<u?"inline-":"")+"box")+";"+o.replace(s,"-webkit-"+s)+";"+o.replace(s,"-ms-"+s+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return s=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+s+"-ms-flex-"+s+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(_,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(_,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===I.test(e))return 115===(s=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):o.replace(s,"-webkit-"+s)+o.replace(s,"-moz-"+s.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,211===n+r&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+o}return o}function a(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),R(2!==t?r:r.replace(S,"$1"),n,t)}function o(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(x," or ($1)").substring(4):"("+t+")"}function u(e,t,n,r,i,a,o,u,s,l){for(var f,h=0,d=t;h<D;++h)switch(f=P[h].call(c,e,d,n,r,i,a,o,u,s,l)){case void 0:case!1:case!0:case null:break;default:d=f}if(d!==t)return d}function s(e){return void 0!==(e=e.prefix)&&(R=null,e?"function"!==typeof e?O=1:(O=2,R=e):O=0),s}function c(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<D){var i=u(-1,n,r,r,C,T,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var a=t(N,r,n,0,0);return 0<D&&(void 0!==(i=u(-2,a,r,r,C,T,a.length,0,0,0))&&(a=i)),"",A=0,T=C=1,a}var l=/^\0+/g,f=/[\0\r\f]/g,h=/: */g,d=/zoo|gra/,p=/([,: ])(transform)/g,v=/,\r+?/g,m=/([\t\r\n ])*\f?&/g,y=/@(k\w+)\s*(\S*)\s*/,g=/::(place)/g,k=/:(read-only)/g,b=/[svh]\w+-[tblr]{2}/,w=/\(\s*(.*)\s*\)/g,x=/([\s\S]*?);/g,_=/-self|flex-/g,S=/[^]*?(:[rp][el]a[\w-]+)[^]*/,I=/stretch|:\s*\w+\-(?:conte|avail)/,E=/([^-])(image-set\()/,T=1,C=1,A=0,O=1,N=[],P=[],D=0,R=null,L=0;return c.use=function e(t){switch(t){case void 0:case null:D=P.length=0;break;default:if("function"===typeof t)P[D++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else L=0|!!t}return e},c.set=s,void 0!==e&&s(e),c},p={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var v=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},m=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,y=v((function(e){return m.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),g=n(2110),k=n.n(g);function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var w=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},x=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,l.typeOf)(e)},_=Object.freeze([]),S=Object.freeze({});function I(e){return"function"==typeof e}function E(e){return e.displayName||e.name||"Component"}function T(e){return e&&"string"==typeof e.styledComponentId}var C="undefined"!=typeof process&&({NODE_ENV:"production",PUBLIC_URL:"/webchat",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"/webchat",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_ATTR)||"data-styled",A="undefined"!=typeof window&&"HTMLElement"in window,O=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/webchat",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/webchat",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"/webchat",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/webchat",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/webchat",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/webchat",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"/webchat",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/webchat",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY)),N={};function P(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var D=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&P(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var a=r;a<i;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),u=0,s=t.length;u<s;u++)this.tag.insertRule(o,t[u])&&(this.groupSizes[e]++,o++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,a=r;a<i;a++)t+=this.tag.getRule(a)+"/*!sc*/\n";return t},e}(),R=new Map,L=new Map,M=1,F=function(e){if(R.has(e))return R.get(e);for(;L.has(M);)M++;var t=M++;return R.set(e,t),L.set(t,e),t},j=function(e){return L.get(e)},U=function(e,t){t>=M&&(M=t+1),R.set(e,t),L.set(t,e)},V="style["+C+'][data-styled-version="5.3.6"]',z=new RegExp("^"+C+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),B=function(e,t,n){for(var r,i=n.split(","),a=0,o=i.length;a<o;a++)(r=i[a])&&e.registerName(t,r)},q=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],i=0,a=n.length;i<a;i++){var o=n[i].trim();if(o){var u=o.match(z);if(u){var s=0|parseInt(u[1],10),c=u[2];0!==s&&(U(c,s),B(e,c,u[3]),e.getTag().insertRules(s,r)),r.length=0}else r.push(o)}}},W=function(){return n.nc},K=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(C))return r}}(n),a=void 0!==i?i.nextSibling:null;r.setAttribute(C,"active"),r.setAttribute("data-styled-version","5.3.6");var o=W();return o&&r.setAttribute("nonce",o),n.insertBefore(r,a),r},G=function(){function e(e){var t=this.element=K(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}P(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),H=function(){function e(e){var t=this.element=K(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),Q=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),$=A,Y={isServer:!A,useCSSOMInjection:!O},X=function(){function e(e,t,n){void 0===e&&(e=S),void 0===t&&(t={}),this.options=b({},Y,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&A&&$&&($=!1,function(e){for(var t=document.querySelectorAll(V),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(C)&&(q(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return F(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(b({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new Q(i):r?new G(i):new H(i),new D(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(F(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(F(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(F(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var a=j(i);if(void 0!==a){var o=e.names.get(a),u=t.getGroup(i);if(o&&u&&o.size){var s=C+".g"+i+'[id="'+a+'"]',c="";void 0!==o&&o.forEach((function(e){e.length>0&&(c+=e+",")})),r+=""+u+s+'{content:"'+c+'"}/*!sc*/\n'}}}return r}(this)},e}(),J=/(a)(d)/gi,Z=function(e){return String.fromCharCode(e+(e>25?39:97))};function ee(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=Z(t%52)+n;return(Z(t%52)+n).replace(J,"$1-$2")}var te=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},ne=function(e){return te(5381,e)};function re(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(I(n)&&!T(n))return!1}return!0}var ie=ne("5.3.6"),ae=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&re(e),this.componentId=t,this.baseHash=te(ie,t),this.baseStyle=n,X.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var a=_e(this.rules,e,t,n).join(""),o=ee(te(this.baseHash,a)>>>0);if(!t.hasNameForId(r,o)){var u=n(a,"."+o,void 0,r);t.insertRules(r,o,u)}i.push(o),this.staticRulesId=o}else{for(var s=this.rules.length,c=te(this.baseHash,n.hash),l="",f=0;f<s;f++){var h=this.rules[f];if("string"==typeof h)l+=h;else if(h){var d=_e(h,e,t,n),p=Array.isArray(d)?d.join(""):d;c=te(c,p+f),l+=p}}if(l){var v=ee(c>>>0);if(!t.hasNameForId(r,v)){var m=n(l,"."+v,void 0,r);t.insertRules(r,v,m)}i.push(v)}}return i.join(" ")},e}(),oe=/^\s*\/\/.*$/gm,ue=[":","[",".","#"];function se(e){var t,n,r,i,a=void 0===e?S:e,o=a.options,u=void 0===o?S:o,s=a.plugins,c=void 0===s?_:s,l=new d(u),f=[],h=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,a,o,u,s,c,l,f){switch(n){case 1:if(0===l&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(i[0]+r),"";default:return r+(0===f?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){f.push(e)})),p=function(e,r,a){return 0===r&&-1!==ue.indexOf(a[n.length])||a.match(i)?e:"."+t};function v(e,a,o,u){void 0===u&&(u="&");var s=e.replace(oe,""),c=a&&o?o+" "+a+" { "+s+" }":s;return t=u,n=a,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),l(o||!a?"":a,c)}return l.use([].concat(c,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,p))},h,function(e){if(-2===e){var t=f;return f=[],t}}])),v.hash=c.length?c.reduce((function(e,t){return t.name||P(15),te(e,t.name)}),5381).toString():"",v}var ce=s.createContext(),le=(ce.Consumer,s.createContext()),fe=(le.Consumer,new X),he=se();function de(){return(0,s.useContext)(ce)||fe}function pe(){return(0,s.useContext)(le)||he}function ve(e){var t=(0,s.useState)(e.stylisPlugins),n=t[0],r=t[1],i=de(),a=(0,s.useMemo)((function(){var t=i;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),o=(0,s.useMemo)((function(){return se({options:{prefix:!e.disableVendorPrefixes},plugins:n})}),[e.disableVendorPrefixes,n]);return(0,s.useEffect)((function(){h()(n,e.stylisPlugins)||r(e.stylisPlugins)}),[e.stylisPlugins]),s.createElement(ce.Provider,{value:a},s.createElement(le.Provider,{value:o},e.children))}var me=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=he);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return P(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=he),this.name+e.hash},e}(),ye=/([A-Z])/,ge=/([A-Z])/g,ke=/^ms-/,be=function(e){return"-"+e.toLowerCase()};function we(e){return ye.test(e)?e.replace(ge,be).replace(ke,"-ms-"):e}var xe=function(e){return null==e||!1===e||""===e};function _e(e,t,n,r){if(Array.isArray(e)){for(var i,a=[],o=0,u=e.length;o<u;o+=1)""!==(i=_e(e[o],t,n,r))&&(Array.isArray(i)?a.push.apply(a,i):a.push(i));return a}return xe(e)?"":T(e)?"."+e.styledComponentId:I(e)?"function"!=typeof(s=e)||s.prototype&&s.prototype.isReactComponent||!t?e:_e(e(t),t,n,r):e instanceof me?n?(e.inject(n,r),e.getName(r)):e:x(e)?function e(t,n){var r,i,a=[];for(var o in t)t.hasOwnProperty(o)&&!xe(t[o])&&(Array.isArray(t[o])&&t[o].isCss||I(t[o])?a.push(we(o)+":",t[o],";"):x(t[o])?a.push.apply(a,e(t[o],o)):a.push(we(o)+": "+(r=o,(null==(i=t[o])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in p?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(a,["}"]):a}(e):e.toString();var s}var Se=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function Ie(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return I(e)||x(e)?Se(_e(w(_,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:Se(_e(w(e,n)))}new Set;var Ee=function(e,t,n){return void 0===n&&(n=S),e.theme!==n.theme&&e.theme||t||n.theme},Te=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Ce=/(^-|-$)/g;function Ae(e){return e.replace(Te,"-").replace(Ce,"")}var Oe=function(e){return ee(ne(e)>>>0)};function Ne(e){return"string"==typeof e&&!0}var Pe=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},De=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function Re(e,t,n){var r=e[n];Pe(t)&&Pe(r)?Le(r,t):e[n]=t}function Le(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];if(Pe(o))for(var u in o)De(u)&&Re(e,o[u],u)}return e}var Me=s.createContext();Me.Consumer;var Fe={};function je(e,t,n){var r=T(e),i=!Ne(e),a=t.attrs,o=void 0===a?_:a,u=t.componentId,c=void 0===u?function(e,t){var n="string"!=typeof e?"sc":Ae(e);Fe[n]=(Fe[n]||0)+1;var r=n+"-"+Oe("5.3.6"+n+Fe[n]);return t?t+"-"+r:r}(t.displayName,t.parentComponentId):u,l=t.displayName,f=void 0===l?function(e){return Ne(e)?"styled."+e:"Styled("+E(e)+")"}(e):l,h=t.displayName&&t.componentId?Ae(t.displayName)+"-"+t.componentId:t.componentId||c,d=r&&e.attrs?Array.prototype.concat(e.attrs,o).filter(Boolean):o,p=t.shouldForwardProp;r&&e.shouldForwardProp&&(p=t.shouldForwardProp?function(n,r,i){return e.shouldForwardProp(n,r,i)&&t.shouldForwardProp(n,r,i)}:e.shouldForwardProp);var v,m=new ae(n,h,r?e.componentStyle:void 0),g=m.isStatic&&0===o.length,w=function(e,t){return function(e,t,n,r){var i=e.attrs,a=e.componentStyle,o=e.defaultProps,u=e.foldedComponentIds,c=e.shouldForwardProp,l=e.styledComponentId,f=e.target,h=function(e,t,n){void 0===e&&(e=S);var r=b({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,a,o=e;for(t in I(o)&&(o=o(r)),o)r[t]=i[t]="className"===t?(n=i[t],a=o[t],n&&a?n+" "+a:n||a):o[t]})),[r,i]}(Ee(t,(0,s.useContext)(Me),o)||S,t,i),d=h[0],p=h[1],v=function(e,t,n,r){var i=de(),a=pe();return t?e.generateAndInjectStyles(S,i,a):e.generateAndInjectStyles(n,i,a)}(a,r,d),m=n,g=p.$as||t.$as||p.as||t.as||f,k=Ne(g),w=p!==t?b({},t,{},p):t,x={};for(var _ in w)"$"!==_[0]&&"as"!==_&&("forwardedAs"===_?x.as=w[_]:(c?c(_,y,g):!k||y(_))&&(x[_]=w[_]));return t.style&&p.style!==t.style&&(x.style=b({},t.style,{},p.style)),x.className=Array.prototype.concat(u,l,v!==l?v:null,t.className,p.className).filter(Boolean).join(" "),x.ref=m,(0,s.createElement)(g,x)}(v,e,t,g)};return w.displayName=f,(v=s.forwardRef(w)).attrs=d,v.componentStyle=m,v.displayName=f,v.shouldForwardProp=p,v.foldedComponentIds=r?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):_,v.styledComponentId=h,v.target=r?e.target:e,v.withComponent=function(e){var r=t.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["componentId"]),a=r&&r+"-"+(Ne(e)?e:Ae(E(e)));return je(e,b({},i,{attrs:d,componentId:a}),n)},Object.defineProperty(v,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=r?Le({},e.defaultProps,t):t}}),v.toString=function(){return"."+v.styledComponentId},i&&k()(v,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),v}var Ue=function(e){return function e(t,n,r){if(void 0===r&&(r=S),!(0,l.isValidElementType)(n))return P(1,String(n));var i=function(){return t(n,r,Ie.apply(void 0,arguments))};return i.withConfig=function(i){return e(t,n,b({},r,{},i))},i.attrs=function(i){return e(t,n,b({},r,{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},i}(je,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){Ue[e]=Ue(e)}));var Ve=function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=re(e),X.registerId(this.componentId+1)}var t=e.prototype;return t.createStyles=function(e,t,n,r){var i=r(_e(this.rules,t,n,r).join(""),""),a=this.componentId+e;n.insertRules(a,a,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&X.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)},e}();!function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=W();return"<style "+[n&&'nonce="'+n+'"',C+'="true"','data-styled-version="5.3.6"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?P(2):e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)return P(2);var n=((t={})[C]="",t["data-styled-version"]="5.3.6",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),r=W();return r&&(n.nonce=r),[s.createElement("style",b({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new X({isServer:!0}),this.sealed=!1}var t=e.prototype;t.collectStyles=function(e){return this.sealed?P(2):s.createElement(ve,{sheet:this.instance},e)},t.interleaveWithNodeStream=function(e){return P(3)}}();var ze,Be,qe,We,Ke,Ge,He=Ue,Qe=He.div(ze||(ze=c(["\n  height: 59px;\n  background: linear-gradient(0deg, #7DBA84, #8FD694);\n  padding: 10px 16px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  box-shadow: 0 1px 2px #0003;\n  z-index: 1;\n"]))),$e=He.div(Be||(Be=c(["\n  display: flex;\n  align-items: center;\n  color: black;\n  svg {\n    width: 30px;\n    height: 30px;\n    background-color: #ccc;\n    border-radius: 50%;\n    margin-right: 10px;\n    min-width: fit-content;\n  }\n"]))),Ye=He.div(qe||(qe=c(["\n  display: grid;\n"]))),Xe=He.span(We||(We=c(["\n  font-size: 18px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  color: black;\n"]))),Je=He.img(Ke||(Ke=c(["\n  width: 30px;\n  height: 30px;\n  border-radius: 50%;\n  margin-right: 10px;\n  min-width: fit-content;\n"]))),Ze=He.div(Ge||(Ge=c(["\n  display: flex;\n  gap: 10px;\n  svg {\n    width: 24px;\n    height: 24px;\n    color: #black;\n    cursor: pointer;\n  }\n"]))),et={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},tt=s.createContext&&s.createContext(et),nt=function(){return nt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},nt.apply(this,arguments)},rt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function it(e){return e&&e.map((function(e,t){return s.createElement(e.tag,nt({key:t},e.attr),it(e.child))}))}function at(e){return function(t){return s.createElement(ot,nt({attr:nt({},e.attr)},t),it(e.child))}}function ot(e){var t=function(t){var n,r=e.attr,i=e.size,a=e.title,o=rt(e,["attr","size","title"]),u=i||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),s.createElement("svg",nt({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,o,{className:n,style:nt(nt({color:e.color||t.color},t.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),a&&s.createElement("title",null,a),e.children)};return void 0!==tt?s.createElement(tt.Consumer,null,(function(e){return t(e)})):t(et)}function ut(e){return at({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M11 5.08V2c-5 .5-9 4.81-9 10s4 9.5 9 10v-3.08c-3-.48-6-3.4-6-6.92s3-6.44 6-6.92zM18.97 11H22c-.47-5-4-8.53-9-9v3.08C16 5.51 18.54 8 18.97 11zM13 18.92V22c5-.47 8.53-4 9-9h-3.03c-.43 3-2.97 5.49-5.97 5.92z"}}]})(e)}function st(e){return at({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M15.5 14h-.79l-.28-.27A6.471 6.471 0 0016 9.5 6.5 6.5 0 109.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}}]})(e)}function ct(e){return at({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 9h12v2H6V9zm8 5H6v-2h8v2zm4-6H6V6h12v2z"}}]})(e)}function lt(e){return at({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"}}]})(e)}function ft(e){return at({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}}]})(e)}function ht(e){return at({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}}]})(e)}var dt,pt,vt,mt,yt=n(184),gt=function(e){var t=e.photoURL,n=e.name;return(0,yt.jsxs)(Qe,{children:[(0,yt.jsxs)($e,{children:[t?(0,yt.jsx)(Je,{src:t,alt:"Avatar"}):(0,yt.jsx)(ht,{}),(0,yt.jsx)(Ye,{children:(0,yt.jsx)(Xe,{children:n})})]}),(0,yt.jsxs)(Ze,{children:[(0,yt.jsx)(st,{}),(0,yt.jsx)(ft,{})]})]})},kt=He.div(dt||(dt=c(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n"]))),bt=He.div(pt||(pt=c(["\n  width: 100%;\n  background: linear-gradient(0deg, #7DBA84, #8FD694);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  gap: 20px;\n  padding: 20px;\n  svg {\n    width: 100px;\n    height: 100px;\n    color: green;\n  }\n"]))),wt=He.h1(vt||(vt=c(["\n  text-align: center;\n  color: black;\n"]))),xt=He.span(mt||(mt=c(["\n  font-size: 18px;\n  text-align: center;\n  max-width: 500px;\n  color: black;\n\n"]))),_t=function(){return(0,yt.jsxs)(bt,{children:[(0,yt.jsx)("img",{src:"https://cdn0.iconfinder.com/data/icons/squared-communication/64/messaging-app-512.png",alt:"Icon",width:"250px",height:"250px"}),(0,yt.jsx)(wt,{children:"Bro's Chat"}),(0,yt.jsx)(xt,{children:"O Bro's Chat \xe9 um projeto simples de webchat desenvolvido por um iniciante com ReactJS. Sinta-se \xe0 vontade para testar o projeto e enviar seu feedback para o email: educaversan.dev@gmail.com"})]})};function St(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function It(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Et(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tt(e,t,n){return t&&Et(e.prototype,t),n&&Et(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ct(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=a(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,o=e},f:function(){try{u||null==n.return||n.return()}finally{if(s)throw o}}}}function At(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ot(e,t){return Ot=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ot(e,t)}function Nt(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ot(e,t)}function Pt(e){return Pt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Pt(e)}function Dt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Rt(e){return Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rt(e)}function Lt(e,t){if(t&&("object"===Rt(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return At(e)}function Mt(e){var t=Dt();return function(){var n,r=Pt(e);if(t){var i=Pt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Lt(this,n)}}function Ft(e,t,n){return Ft=Dt()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Ot(i,n.prototype),i},Ft.apply(null,arguments)}function jt(e){var t="function"===typeof Map?new Map:void 0;return jt=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Ft(e,arguments,Pt(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Ot(n,e)},jt(e)}var Ut=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Vt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ut(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},zt=function(e){return function(e){var t=Ut(e);return Vt.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Bt=function(e){try{return Vt.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function qt(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=qt(e[n],t[n]));return e}function Wt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Kt(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function Gt(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Ht(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Qt(){var e=Wt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function $t(){return"object"===typeof indexedDB}var Yt=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},Xt=function(){try{return Yt()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/webchat",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&Bt(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},Jt=function(){var e;return null===(e=Xt())||void 0===e?void 0:e.config},Zt=function(){function e(){var t=this;It(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Tt(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function en(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[zt(JSON.stringify({alg:"none",type:"JWT"})),zt(JSON.stringify(a)),""].join(".")}var tn=function(e){Nt(n,e);var t=Mt(n);function n(e,r,i){var a;return It(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(At(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(At(a),nn.prototype.create),a}return Tt(n)}(jt(Error)),nn=function(){function e(t,n,r){It(this,e),this.service=t,this.serviceName=n,this.errors=r}return Tt(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?rn(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new tn(n,a,t);return o}}]),e}();function rn(e,t){return e.replace(an,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var an=/\{\$([^}]+)}/g;function on(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function un(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(sn(u)&&sn(s)){if(!un(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function sn(e){return null!==e&&"object"===typeof e}function cn(e){for(var t=[],n=function(){var e=u(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function ln(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=u(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function fn(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function hn(e,t){var n=new dn(e,t);return n.subscribe.bind(n)}var dn=function(){function e(t,n){var r=this;It(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return Tt(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Ct(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=pn),void 0===r.error&&(r.error=pn),void 0===r.complete&&(r.complete=pn);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function pn(){}function vn(e){return e&&e._delegate?e._delegate:e}function mn(){mn=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(C){s=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),u=new I(i||[]);return r(o,"_invoke",{value:w(e,n,u)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(C){return{type:"throw",arg:C}}}e.wrap=c;var f={};function h(){}function d(){}function p(){}var v={};s(v,a,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(E([])));y&&y!==t&&n.call(y,a)&&(v=y);var g=p.prototype=h.prototype=Object.create(v);function k(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function i(r,a,o,u){var s=l(e[r],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"==Rt(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,o,u)}),(function(e){i("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,u)}))}u(s.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return T()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=x(o,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=l(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=l(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function E(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:T}}function T(){return{value:void 0,done:!0}}return d.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=s(p,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,u,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},k(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},k(g),s(g,u,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=E,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function yn(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function gn(e){return function(e){if(Array.isArray(e))return i(e)}(e)||yn(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kn(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function bn(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){kn(a,r,i,o,u,"next",e)}function u(e){kn(a,r,i,o,u,"throw",e)}o(void 0)}))}}var wn=function(){function e(t,n,r){It(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Tt(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),xn="[DEFAULT]",_n=function(){function e(t,n){It(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Tt(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Zt;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:xn})}catch(c){}var t,n=Ct(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=u(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(c){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xn;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=bn(mn().mark((function e(){var t;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(gn(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),gn(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xn;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xn;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=Ct(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=u(i.value,2),c=s[0],l=s[1],f=this.normalizeInstanceIdentifier(c);r===f&&l.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Ct(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(_I){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===xn?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(_I){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xn;return this.component?this.component.multipleInstances?e:xn:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Sn,In,En=function(){function e(t){It(this,e),this.name=t,this.providers=new Map}return Tt(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new _n(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Tn=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(In||(In={}));var Cn={debug:In.DEBUG,verbose:In.VERBOSE,info:In.INFO,warn:In.WARN,error:In.ERROR,silent:In.SILENT},An=In.INFO,On=(St(Sn={},In.DEBUG,"log"),St(Sn,In.VERBOSE,"log"),St(Sn,In.INFO,"info"),St(Sn,In.WARN,"warn"),St(Sn,In.ERROR,"error"),Sn),Nn=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=On[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Pn=function(){function e(t){It(this,e),this.name=t,this._logLevel=An,this._logHandler=Nn,this._userLogHandler=null,Tn.push(this)}return Tt(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in In))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Cn[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,In.DEBUG].concat(t)),this._logHandler.apply(this,[this,In.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,In.VERBOSE].concat(t)),this._logHandler.apply(this,[this,In.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,In.INFO].concat(t)),this._logHandler.apply(this,[this,In.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,In.WARN].concat(t)),this._logHandler.apply(this,[this,In.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,In.ERROR].concat(t)),this._logHandler.apply(this,[this,In.ERROR].concat(t))}}]),e}();function Dn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dn(Object(n),!0).forEach((function(t){St(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ln,Mn;var Fn=new WeakMap,jn=new WeakMap,Un=new WeakMap,Vn=new WeakMap,zn=new WeakMap;var Bn={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return jn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Un.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Kn(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function qn(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Mn||(Mn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Gn(this),n),Kn(Fn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Kn(e.apply(Gn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Gn(this),t].concat(r));return Un.set(a,t.sort?t.sort():[t]),Kn(a)}}function Wn(e){return"function"===typeof e?qn(e):(e instanceof IDBTransaction&&function(e){if(!jn.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));jn.set(e,t)}}(e),t=e,(Ln||(Ln=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,Bn):e);var t}function Kn(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Kn(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Fn.set(t,e)})).catch((function(){})),zn.set(t,e),t}(e);if(Vn.has(e))return Vn.get(e);var t=Wn(e);return t!==e&&(Vn.set(e,t),zn.set(t,e)),t}var Gn=function(e){return zn.get(e)};var Hn,Qn,$n=["get","getKey","getAll","getAllKeys","count"],Yn=["put","add","delete","clear"],Xn=new Map;function Jn(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Xn.get(t))return Xn.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Yn.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||$n.includes(n))){var a=function(){var e=bn(mn().mark((function e(t){var a,o,u,s,c,l,f=arguments;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Xn.set(t,a),a}}}Bn=function(e){return Rn(Rn({},e),{},{get:function(t,n,r){return Jn(t,n)||e.get(t,n,r)},has:function(t,n){return!!Jn(t,n)||e.has(t,n)}})}(Bn);var Zn=function(){function e(t){It(this,e),this.container=t}return Tt(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var er="@firebase/app",tr="0.8.4",nr=new Pn("@firebase/app"),rr="[DEFAULT]",ir=(St(Hn={},er,"fire-core"),St(Hn,"@firebase/app-compat","fire-core-compat"),St(Hn,"@firebase/analytics","fire-analytics"),St(Hn,"@firebase/analytics-compat","fire-analytics-compat"),St(Hn,"@firebase/app-check","fire-app-check"),St(Hn,"@firebase/app-check-compat","fire-app-check-compat"),St(Hn,"@firebase/auth","fire-auth"),St(Hn,"@firebase/auth-compat","fire-auth-compat"),St(Hn,"@firebase/database","fire-rtdb"),St(Hn,"@firebase/database-compat","fire-rtdb-compat"),St(Hn,"@firebase/functions","fire-fn"),St(Hn,"@firebase/functions-compat","fire-fn-compat"),St(Hn,"@firebase/installations","fire-iid"),St(Hn,"@firebase/installations-compat","fire-iid-compat"),St(Hn,"@firebase/messaging","fire-fcm"),St(Hn,"@firebase/messaging-compat","fire-fcm-compat"),St(Hn,"@firebase/performance","fire-perf"),St(Hn,"@firebase/performance-compat","fire-perf-compat"),St(Hn,"@firebase/remote-config","fire-rc"),St(Hn,"@firebase/remote-config-compat","fire-rc-compat"),St(Hn,"@firebase/storage","fire-gcs"),St(Hn,"@firebase/storage-compat","fire-gcs-compat"),St(Hn,"@firebase/firestore","fire-fst"),St(Hn,"@firebase/firestore-compat","fire-fst-compat"),St(Hn,"fire-js","fire-js"),St(Hn,"firebase","fire-js-all"),Hn),ar=new Map,or=new Map;function ur(e,t){try{e.container.addComponent(t)}catch(n){nr.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function sr(e,t){e.container.addOrOverwriteComponent(t)}function cr(e){var t=e.name;if(or.has(t))return nr.debug("There were multiple attempts to register component ".concat(t,".")),!1;or.set(t,e);var n,r=Ct(ar.values());try{for(r.s();!(n=r.n()).done;){ur(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function lr(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function fr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:rr;lr(e,t).clearInstance(n)}function hr(){or.clear()}var dr=(St(Qn={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),St(Qn,"bad-app-name","Illegal App name: '{$appName}"),St(Qn,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),St(Qn,"app-deleted","Firebase App named '{$appName}' already deleted"),St(Qn,"no-options","Need to provide options, when not being deployed to hosting via source."),St(Qn,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),St(Qn,"invalid-log-argument","First argument to `onLog` must be null or a function."),St(Qn,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),St(Qn,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),St(Qn,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),St(Qn,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Qn),pr=new nn("app","Firebase",dr),vr=function(){function e(t,n,r){var i=this;It(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new wn("app",(function(){return i}),"PUBLIC"))}return Tt(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw pr.create("app-deleted",{appName:this._name})}}]),e}(),mr="9.14.0";function yr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){var r=t;t={name:r}}var i=Object.assign({name:rr,automaticDataCollectionEnabled:!1},t),a=i.name;if("string"!==typeof a||!a)throw pr.create("bad-app-name",{appName:String(a)});if(n||(n=Jt()),!n)throw pr.create("no-options");var o=ar.get(a);if(o){if(un(n,o.options)&&un(i,o.config))return o;throw pr.create("duplicate-app",{appName:a})}var u,s=new En(a),c=Ct(or.values());try{for(c.s();!(u=c.n()).done;){var l=u.value;s.addComponent(l)}}catch(h){c.e(h)}finally{c.f()}var f=new vr(n,i,s);return ar.set(a,f),f}function gr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rr,t=ar.get(e);if(!t&&e===rr)return yr();if(!t)throw pr.create("no-app",{appName:e});return t}function kr(){return Array.from(ar.values())}function br(e){return wr.apply(this,arguments)}function wr(){return wr=bn(mn().mark((function e(t){var n;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!ar.has(n)){e.next=6;break}return ar.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),wr.apply(this,arguments)}function xr(e,t,n){var r,i=null!==(r=ir[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void nr.warn(u.join(" "))}cr(new wn("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function _r(e,t){if(null!==e&&"function"!==typeof e)throw pr.create("invalid-log-argument");!function(e,t){var n,r=Ct(Tn);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Cn[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:In[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Sr(e){var t;t=e,Tn.forEach((function(e){e.setLogLevel(t)}))}var Ir="firebase-heartbeat-store",Er=null;function Tr(){return Er||(Er=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=Kn(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(Kn(u.result),e.oldVersion,e.newVersion,Kn(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(Ir)}}).catch((function(e){throw pr.create("idb-open",{originalErrorMessage:e.message})}))),Er}function Cr(e){return Ar.apply(this,arguments)}function Ar(){return Ar=bn(mn().mark((function e(t){var n,r,i;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Tr();case 3:return r=e.sent,e.abrupt("return",r.transaction(Ir).objectStore(Ir).get(Pr(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof tn?nr.warn(e.t0.message):(i=pr.create("idb-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message}),nr.warn(i.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Ar.apply(this,arguments)}function Or(e,t){return Nr.apply(this,arguments)}function Nr(){return Nr=bn(mn().mark((function e(t,n){var r,i,a,o,u;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Tr();case 3:return i=e.sent,a=i.transaction(Ir,"readwrite"),o=a.objectStore(Ir),e.next=8,o.put(n,Pr(t));case 8:return e.abrupt("return",a.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof tn?nr.warn(e.t0.message):(u=pr.create("idb-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message}),nr.warn(u.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Nr.apply(this,arguments)}function Pr(e){return"".concat(e.name,"!").concat(e.options.appId)}var Dr=function(){function e(t){var n=this;It(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new jr(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return Tt(e,[{key:"triggerHeartbeat",value:function(){var e=bn(mn().mark((function e(){var t,n,r;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Rr(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=bn(mn().mark((function e(){var t,n,r,i,a;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Rr(),n=Lr(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=zt(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Rr(){return(new Date).toISOString().substring(0,10)}function Lr(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=Ct(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Ur(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Ur(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Mr,Fr,jr=function(){function e(t){It(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return Tt(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=bn(mn().mark((function e(){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if($t()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=bn(mn().mark((function e(){var t;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Cr(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=bn(mn().mark((function e(t){var n,r;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Or(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=bn(mn().mark((function e(t){var n,r;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Or(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(gn(r.heartbeats),gn(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Ur(e){return zt(JSON.stringify({version:2,heartbeats:e})).length}Mr="",cr(new wn("platform-logger",(function(e){return new Zn(e)}),"PRIVATE")),cr(new wn("heartbeat",(function(e){return new Dr(e)}),"PRIVATE")),xr(er,tr,Mr),xr(er,tr,"esm2017"),xr("fire-js","");var Vr=function(){function e(t,n){var r=this;It(this,e),this._delegate=t,this.firebase=n,ur(t,new wn("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return Tt(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),br(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rr;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rr;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){ur(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){sr(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),zr=(St(Fr={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),St(Fr,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Fr),Br=new nn("app-compat","Firebase",zr);var qr=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=yr(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(on(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:xr,setLogLevel:Sr,onLog:_r,apps:null,SDK_VERSION:mr,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(cr(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Br.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&qt(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!on(n,e=e||rr))throw Br.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Vr);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){qt(n,e)},createSubscribe:hn,ErrorFactory:nn,deepExtend:qt}),n}(),Wr=new Pn("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Wr.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Kr=self.firebase.SDK_VERSION;Kr&&Kr.indexOf("LITE")>=0&&Wr.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Gr=qr;!function(e){xr("@firebase/app-compat","0.1.39",e)}();function Hr(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Pt(e)););return e}function Qr(){return Qr="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Hr(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Qr.apply(this,arguments)}Gr.registerVersion("firebase","9.14.0","app-compat");function $r(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Yr;Object.create;var Xr="facebook.com",Jr="github.com",Zr="google.com",ei="password",ti="twitter.com",ni="EMAIL_SIGNIN",ri="PASSWORD_RESET",ii="RECOVER_EMAIL",ai="REVERT_SECOND_FACTOR_ADDITION",oi="VERIFY_AND_CHANGE_EMAIL",ui="VERIFY_EMAIL";function si(){return St({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var ci=function(){var e;return St(e={},"admin-restricted-operation","This operation is restricted to administrators only."),St(e,"argument-error",""),St(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),St(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),St(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),St(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),St(e,"cordova-not-ready","Cordova framework is not ready."),St(e,"cors-unsupported","This browser is not supported."),St(e,"credential-already-in-use","This credential is already associated with a different user account."),St(e,"custom-token-mismatch","The custom token corresponds to a different audience."),St(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),St(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),St(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),St(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),St(e,"email-already-in-use","The email address is already in use by another account."),St(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),St(e,"expired-action-code","The action code has expired."),St(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),St(e,"internal-error","An internal AuthError has occurred."),St(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),St(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),St(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),St(e,"invalid-auth-event","An internal AuthError has occurred."),St(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),St(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),St(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),St(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),St(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),St(e,"invalid-email","The email address is badly formatted."),St(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),St(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),St(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),St(e,"invalid-credential","The supplied auth credential is malformed or has expired."),St(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),St(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),St(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),St(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),St(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),St(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),St(e,"wrong-password","The password is invalid or the user does not have a password."),St(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),St(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),St(e,"invalid-provider-id","The specified provider ID is invalid."),St(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),St(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),St(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),St(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),St(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),St(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),St(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),St(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),St(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),St(e,"missing-continue-uri","A continue URL must be provided in the request."),St(e,"missing-iframe-start","An internal AuthError has occurred."),St(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),St(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),St(e,"missing-multi-factor-info","No second factor identifier is provided."),St(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),St(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),St(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),St(e,"app-deleted","This instance of FirebaseApp has been deleted."),St(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),St(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),St(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),St(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),St(e,"no-auth-event","An internal AuthError has occurred."),St(e,"no-such-provider","User was not linked to an account with the given provider."),St(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),St(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),St(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),St(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),St(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),St(e,"provider-already-linked","User can only be linked to one identity for the given provider."),St(e,"quota-exceeded","The project's quota for this operation has been exceeded."),St(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),St(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),St(e,"rejected-credential","The request contains malformed or mismatching credentials."),St(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),St(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),St(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),St(e,"timeout","The operation has timed out."),St(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),St(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),St(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),St(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),St(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),St(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),St(e,"unverified-email","The operation requires a verified email."),St(e,"user-cancelled","The user did not grant your application the permissions it requested."),St(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),St(e,"user-disabled","The user account has been disabled by an administrator."),St(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),St(e,"user-signed-out",""),St(e,"weak-password","The password must be 6 characters long or more."),St(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),St(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},li=si,fi=new nn("auth","Firebase",si()),hi=new Pn("@firebase/auth");function di(e){if(hi.logLevel<=In.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];hi.error.apply(hi,["Auth (".concat(mr,"): ").concat(e)].concat(n))}}function pi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw gi.apply(void 0,[e].concat(n))}function vi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return gi.apply(void 0,[e].concat(n))}function mi(e,t,n){var r=Object.assign(Object.assign({},li()),St({},t,n));return new nn("auth","Firebase",r).create(t,{appName:e.name})}function yi(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&pi(e,"argument-error"),mi(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function gi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=gn(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(gn(o)))}return fi.create.apply(fi,[e].concat(n))}function ki(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw gi.apply(void 0,[t].concat(r))}}function bi(e){var t="INTERNAL ASSERTION FAILED: "+e;throw di(t),new Error(t)}function wi(e,t){e||bi(t)}var xi=new Map;function _i(e){wi(e instanceof Function,"Expected a class definition");var t=xi.get(e);return t?(wi(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,xi.set(e,t),t)}function Si(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Ii(){return"http:"===Ei()||"https:"===Ei()}function Ei(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Ti=function(){function e(t,n){It(this,e),this.shortDelay=t,this.longDelay=n,wi(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())||Ht()}return Tt(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Ii()||Gt()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Ci(e,t){wi(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Ai=function(){function e(){It(this,e)}return Tt(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void bi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void bi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void bi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Oi=(St(Yr={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),St(Yr,"MISSING_CUSTOM_TOKEN","internal-error"),St(Yr,"INVALID_IDENTIFIER","invalid-email"),St(Yr,"MISSING_CONTINUE_URI","internal-error"),St(Yr,"INVALID_PASSWORD","wrong-password"),St(Yr,"MISSING_PASSWORD","internal-error"),St(Yr,"EMAIL_EXISTS","email-already-in-use"),St(Yr,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),St(Yr,"INVALID_IDP_RESPONSE","invalid-credential"),St(Yr,"INVALID_PENDING_TOKEN","invalid-credential"),St(Yr,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),St(Yr,"MISSING_REQ_TYPE","internal-error"),St(Yr,"EMAIL_NOT_FOUND","user-not-found"),St(Yr,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),St(Yr,"EXPIRED_OOB_CODE","expired-action-code"),St(Yr,"INVALID_OOB_CODE","invalid-action-code"),St(Yr,"MISSING_OOB_CODE","internal-error"),St(Yr,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),St(Yr,"INVALID_ID_TOKEN","invalid-user-token"),St(Yr,"TOKEN_EXPIRED","user-token-expired"),St(Yr,"USER_NOT_FOUND","user-token-expired"),St(Yr,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),St(Yr,"INVALID_CODE","invalid-verification-code"),St(Yr,"INVALID_SESSION_INFO","invalid-verification-id"),St(Yr,"INVALID_TEMPORARY_PROOF","invalid-credential"),St(Yr,"MISSING_SESSION_INFO","missing-verification-id"),St(Yr,"SESSION_EXPIRED","code-expired"),St(Yr,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),St(Yr,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),St(Yr,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),St(Yr,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),St(Yr,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),St(Yr,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),St(Yr,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),St(Yr,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),St(Yr,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),St(Yr,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),St(Yr,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Yr),Ni=new Ti(3e4,6e4);function Pi(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Di(e,t,n,r){return Ri.apply(this,arguments)}function Ri(){return Ri=bn(mn().mark((function e(t,n,r,i){var a,o=arguments;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Li(t,a,bn(mn().mark((function e(){var a,o,u,s;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=cn(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Ai.fetch()(Ui(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Ri.apply(this,arguments)}function Li(e,t,n){return Mi.apply(this,arguments)}function Mi(){return Mi=bn(mn().mark((function e(t,n,r){var i,a,o,s,c,l,f,h,d,p;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Oi),n),e.prev=2,a=new Vi(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw zi(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(c=o.ok?s.errorMessage:s.error.message,l=c.split(" : "),f=u(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw zi(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw zi(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw zi(t,"user-disabled",s);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw mi(t,p,d);case 34:pi(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof tn)){e.next=41;break}throw e.t0;case 41:pi(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),Mi.apply(this,arguments)}function Fi(e,t,n,r){return ji.apply(this,arguments)}function ji(){return ji=bn(mn().mark((function e(t,n,r,i){var a,o,u=arguments;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,Di(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&pi(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),ji.apply(this,arguments)}function Ui(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Ci(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Vi=function(){function e(t){var n=this;It(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(vi(n.auth,"network-request-failed"))}),Ni.get())}))}return Tt(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function zi(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=vi(e,t,r);return i.customData._tokenResponse=n,i}function Bi(e,t){return qi.apply(this,arguments)}function qi(){return qi=bn(mn().mark((function e(t,n){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Di(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),qi.apply(this,arguments)}function Wi(e,t){return Ki.apply(this,arguments)}function Ki(){return Ki=bn(mn().mark((function e(t,n){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Di(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Ki.apply(this,arguments)}function Gi(e,t){return Hi.apply(this,arguments)}function Hi(){return Hi=bn(mn().mark((function e(t,n){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Di(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),Hi.apply(this,arguments)}function Qi(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function $i(){return $i=bn(mn().mark((function e(t){var n,r,i,a,o,u,s=arguments;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=vn(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,ki((a=Xi(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Qi(Yi(a.auth_time)),issuedAtTime:Qi(Yi(a.iat)),expirationTime:Qi(Yi(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),$i.apply(this,arguments)}function Yi(e){return 1e3*Number(e)}function Xi(e){var t,n=u(e.split("."),3),r=n[0],i=n[1],a=n[2];if(void 0===r||void 0===i||void 0===a)return di("JWT malformed, contained fewer than 3 sections"),null;try{var o=Bt(i);return o?JSON.parse(o):(di("Failed to decode base64 JWT payload"),null)}catch(s){return di("Caught error parsing JWT payload as JSON",null===(t=s)||void 0===t?void 0:t.toString()),null}}function Ji(e,t){return Zi.apply(this,arguments)}function Zi(){return Zi=bn(mn().mark((function e(t,n){var r=arguments;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof tn&&ea(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Zi.apply(this,arguments)}function ea(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var ta=function(){function e(t){It(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Tt(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(bn(mn().mark((function t(){return mn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=bn(mn().mark((function e(){var t;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===(t=e.t0)||void 0===t?void 0:t.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),na=function(){function e(t,n){It(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Tt(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Qi(this.lastLoginAt),this.creationTime=Qi(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function ra(e){return ia.apply(this,arguments)}function ia(){return ia=bn(mn().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Ji(t,Gi(r,{idToken:i}));case 6:ki(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?ua(o.providerUserInfo):[],s=oa(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new na(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),ia.apply(this,arguments)}function aa(){return(aa=bn(mn().mark((function e(t){var n;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=vn(t),e.next=3,ra(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oa(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(gn(n),gn(t))}function ua(e){return e.map((function(e){var t=e.providerId,n=$r(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function sa(e,t){return ca.apply(this,arguments)}function ca(){return ca=bn(mn().mark((function e(t,n){var r;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Li(t,{},bn(mn().mark((function e(){var r,i,a,o,u,s;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=cn({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=Ui(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Ai.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),ca.apply(this,arguments)}var la=function(){function e(){It(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Tt(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){ki(e.idToken,"internal-error"),ki("undefined"!==typeof e.idToken,"internal-error"),ki("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Xi(e);return ki(t,"internal-error"),ki("undefined"!==typeof t.exp,"internal-error"),ki("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=bn(mn().mark((function e(t){var n,r=arguments;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],ki(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=bn(mn().mark((function e(t,n){var r,i,a,o;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sa(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return bi("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(ki("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(ki("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(ki("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function fa(e,t){ki("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var ha=function(){function e(t){It(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=$r(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ta(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?gn(a.providerData):[],this.metadata=new na(a.createdAt||void 0,a.lastLoginAt||void 0)}return Tt(e,[{key:"getIdToken",value:function(){var e=bn(mn().mark((function e(t){var n;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ji(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(ki(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return $i.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return aa.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(ki(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){ki(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=bn(mn().mark((function e(t){var n,r,i=arguments;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,ra(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=bn(mn().mark((function e(){var t;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Ji(this,Bi(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;ki(k&&_,t,"internal-error");var S=la.fromJSON(this.name,_);ki("string"===typeof k,t,"internal-error"),fa(f,t.name),fa(h,t.name),ki("boolean"===typeof b,t,"internal-error"),ki("boolean"===typeof w,t,"internal-error"),fa(d,t.name),fa(p,t.name),fa(v,t.name),fa(m,t.name),fa(y,t.name),fa(g,t.name);var I=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:S,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(I.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(I._redirectEventId=m),I}},{key:"_fromIdTokenResponse",value:function(){var t=bn(mn().mark((function t(n,r){var i,a,o,u=arguments;return mn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new la).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,ra(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),da=function(){function e(){It(this,e),this.type="NONE",this.storage={}}return Tt(e,[{key:"_isAvailable",value:function(){var e=bn(mn().mark((function e(){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=bn(mn().mark((function e(t,n){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=bn(mn().mark((function e(t){var n;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=bn(mn().mark((function e(t){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();da.type="NONE";var pa=da;function va(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var ma=function(){function e(t,n,r){It(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=va(this.userKey,a.apiKey,o),this.fullPersistenceKey=va("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Tt(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=bn(mn().mark((function e(){var t;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?ha._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=bn(mn().mark((function e(t){var n;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=bn(mn().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return mn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(_i(pa),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=bn(mn().mark((function e(t){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||_i(pa),u=va(i,n.config.apiKey,n.name),s=null,c=Ct(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=ha._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=bn(mn().mark((function e(t){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function ya(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(wa(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ga(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(_a(t))return"Blackberry";if(Sa(t))return"Webos";if(ka(t))return"Safari";if((t.includes("chrome/")||ba(t))&&!t.includes("edge/"))return"Chrome";if(xa(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function ga(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt();return/firefox\//i.test(e)}function ka(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ba(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt();return/crios\//i.test(e)}function wa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt();return/iemobile/i.test(e)}function xa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt();return/android/i.test(e)}function _a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt();return/blackberry/i.test(e)}function Sa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt();return/webos/i.test(e)}function Ia(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Ea(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt();return Ia(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Ta(){return Qt()&&10===document.documentMode}function Ca(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt();return Ia(e)||xa(e)||Sa(e)||_a(e)||/windows phone/i.test(e)||wa(e)}function Aa(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=ya(Wt());break;case"Worker":t="".concat(ya(Wt()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(mr,"/").concat(r)}var Oa=function(){function e(t){It(this,e),this.auth=t,this.queue=[]}return Tt(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=bn(mn().mark((function e(t){var n,r,i,a,o,u,s,c;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:r=[],e.prev=3,i=Ct(this.queue),e.prev=5,i.s();case 7:if((a=i.n()).done){e.next=14;break}return o=a.value,e.next=11,o(t);case 11:o.onAbort&&r.push(o.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),r.reverse(),u=Ct(r);try{for(u.s();!(s=u.n()).done;){c=s.value;try{c()}catch(E){}}}catch(l){u.e(l)}finally{u.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(n=e.t1)||void 0===n?void 0:n.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Na=function(){function e(t,n,r){It(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Da(this),this.idTokenSubscription=new Da(this),this.beforeStateQueue=new Oa(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fi,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return Tt(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=_i(t)),this._initializationPromise=this.queue(bn(mn().mark((function r(){var i,a;return mn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,ma.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=bn(mn().mark((function e(){var t;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=bn(mn().mark((function e(t){var n,r,i,a,o,u,s;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return ki(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=bn(mn().mark((function e(t){var n;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=bn(mn().mark((function e(t){var n;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ra(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=bn(mn().mark((function e(){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=bn(mn().mark((function e(t){var n;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?vn(t):null)&&ki(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=bn(mn().mark((function e(t){var n,r=this,i=arguments;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&ki(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(bn(mn().mark((function e(){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=bn(mn().mark((function e(){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(bn(mn().mark((function n(){return mn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(_i(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new nn("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=bn(mn().mark((function e(t,n){var r;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=bn(mn().mark((function e(t){var n;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return ki(n=t&&_i(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,ma.create(this,[_i(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=bn(mn().mark((function e(t){var n,r;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(bn(mn().mark((function e(){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=bn(mn().mark((function e(t){var n=this;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(bn(mn().mark((function e(){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return ki(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=bn(mn().mark((function e(t){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return ki(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Aa(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=bn(mn().mark((function e(){var t,n,r;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=St({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Pa(e){return vn(e)}var Da=function(){function e(t){var n=this;It(this,e),this.auth=t,this.observer=null,this.addObserver=hn((function(e){return n.observer=e}))}return Tt(e,[{key:"next",get:function(){return ki(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Ra(e,t,n){var r=Pa(e);ki(r._canInitEmulator,r,"emulator-config-failed"),ki(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=La(t),o=function(e){var t=La(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Ma(r.substr(a.length+1))}}var o=u(r.split(":"),2);return{host:o[0],port:Ma(o[1])}}(t),s=o.host,c=o.port,l=null===c?"":":".concat(c);r.config.emulator={url:"".concat(a,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function La(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ma(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Fa=function(){function e(t,n){It(this,e),this.providerId=t,this.signInMethod=n}return Tt(e,[{key:"toJSON",value:function(){return bi("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return bi("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return bi("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return bi("not implemented")}}]),e}();function ja(e,t){return Ua.apply(this,arguments)}function Ua(){return Ua=bn(mn().mark((function e(t,n){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Di(t,"POST","/v1/accounts:resetPassword",Pi(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ua.apply(this,arguments)}function Va(e,t){return za.apply(this,arguments)}function za(){return za=bn(mn().mark((function e(t,n){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Di(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),za.apply(this,arguments)}function Ba(e,t){return qa.apply(this,arguments)}function qa(){return qa=bn(mn().mark((function e(t,n){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Di(t,"POST","/v1/accounts:update",Pi(t,n)));case 1:case"end":return e.stop()}}),e)}))),qa.apply(this,arguments)}function Wa(e,t){return Ka.apply(this,arguments)}function Ka(){return Ka=bn(mn().mark((function e(t,n){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fi(t,"POST","/v1/accounts:signInWithPassword",Pi(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ka.apply(this,arguments)}function Ga(e,t){return Ha.apply(this,arguments)}function Ha(){return Ha=bn(mn().mark((function e(t,n){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Di(t,"POST","/v1/accounts:sendOobCode",Pi(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ha.apply(this,arguments)}function Qa(e,t){return $a.apply(this,arguments)}function $a(){return $a=bn(mn().mark((function e(t,n){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ga(t,n));case 1:case"end":return e.stop()}}),e)}))),$a.apply(this,arguments)}function Ya(e,t){return Xa.apply(this,arguments)}function Xa(){return Xa=bn(mn().mark((function e(t,n){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ga(t,n));case 1:case"end":return e.stop()}}),e)}))),Xa.apply(this,arguments)}function Ja(e,t){return Za.apply(this,arguments)}function Za(){return Za=bn(mn().mark((function e(t,n){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ga(t,n));case 1:case"end":return e.stop()}}),e)}))),Za.apply(this,arguments)}function eo(e,t){return to.apply(this,arguments)}function to(){return to=bn(mn().mark((function e(t,n){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ga(t,n));case 1:case"end":return e.stop()}}),e)}))),to.apply(this,arguments)}function no(e,t){return ro.apply(this,arguments)}function ro(){return ro=bn(mn().mark((function e(t,n){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fi(t,"POST","/v1/accounts:signInWithEmailLink",Pi(t,n)));case 1:case"end":return e.stop()}}),e)}))),ro.apply(this,arguments)}function io(e,t){return ao.apply(this,arguments)}function ao(){return ao=bn(mn().mark((function e(t,n){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fi(t,"POST","/v1/accounts:signInWithEmailLink",Pi(t,n)));case 1:case"end":return e.stop()}}),e)}))),ao.apply(this,arguments)}var oo=function(e){Nt(n,e);var t=Mt(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return It(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return Tt(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=bn(mn().mark((function e(t){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Wa(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",no(t,{email:this._email,oobCode:this._password}));case 5:pi(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=bn(mn().mark((function e(t,n){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Va(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",io(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:pi(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Fa);function uo(e,t){return so.apply(this,arguments)}function so(){return so=bn(mn().mark((function e(t,n){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fi(t,"POST","/v1/accounts:signInWithIdp",Pi(t,n)));case 1:case"end":return e.stop()}}),e)}))),so.apply(this,arguments)}var co=function(e){Nt(n,e);var t=Mt(n);function n(){var e;return It(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return Tt(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return uo(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,uo(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,uo(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=cn(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):pi("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=$r(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Fa);function lo(e,t){return fo.apply(this,arguments)}function fo(){return fo=bn(mn().mark((function e(t,n){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Di(t,"POST","/v1/accounts:sendVerificationCode",Pi(t,n)));case 1:case"end":return e.stop()}}),e)}))),fo.apply(this,arguments)}function ho(){return ho=bn(mn().mark((function e(t,n){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fi(t,"POST","/v1/accounts:signInWithPhoneNumber",Pi(t,n)));case 1:case"end":return e.stop()}}),e)}))),ho.apply(this,arguments)}function po(){return po=bn(mn().mark((function e(t,n){var r;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fi(t,"POST","/v1/accounts:signInWithPhoneNumber",Pi(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw zi(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),po.apply(this,arguments)}var vo=St({},"USER_NOT_FOUND","user-not-found");function mo(){return mo=bn(mn().mark((function e(t,n){var r;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Fi(t,"POST","/v1/accounts:signInWithPhoneNumber",Pi(t,r),vo));case 2:case"end":return e.stop()}}),e)}))),mo.apply(this,arguments)}var yo=function(e){Nt(n,e);var t=Mt(n);function n(e){var r;return It(this,n),(r=t.call(this,"phone","phone")).params=e,r}return Tt(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return ho.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return po.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return mo.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Fa);var go=function(){function e(t){var n,r,i,a,o,u;It(this,e);var s=ln(fn(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);ki(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return Tt(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=ln(fn(e)).link,n=t?ln(fn(t)).deep_link_id:null,r=ln(fn(e)).deep_link_id;return(r?ln(fn(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(_I){return null}}}]),e}();var ko=function(){function e(){It(this,e),this.providerId=e.PROVIDER_ID}return Tt(e,null,[{key:"credential",value:function(e,t){return oo._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=go.parseLink(t);return ki(n,"argument-error"),oo._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();ko.PROVIDER_ID="password",ko.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ko.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var bo=function(){function e(t){It(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Tt(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),wo=function(e){Nt(n,e);var t=Mt(n);function n(){var e;return It(this,n),(e=t.apply(this,arguments)).scopes=[],e}return Tt(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return gn(this.scopes)}}]),n}(bo),xo=function(e){Nt(n,e);var t=Mt(n);function n(){return It(this,n),t.apply(this,arguments)}return Tt(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return ki(e.idToken||e.accessToken,"argument-error"),co._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return ki("providerId"in t&&"signInMethod"in t,"argument-error"),co._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(wo),_o=function(e){Nt(n,e);var t=Mt(n);function n(){return It(this,n),t.call(this,"facebook.com")}return Tt(n,null,[{key:"credential",value:function(e){return co._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(_I){return null}}}]),n}(wo);_o.FACEBOOK_SIGN_IN_METHOD="facebook.com",_o.PROVIDER_ID="facebook.com";var So=function(e){Nt(n,e);var t=Mt(n);function n(){var e;return It(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return Tt(n,null,[{key:"credential",value:function(e,t){return co._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(_I){return null}}}]),n}(wo);So.GOOGLE_SIGN_IN_METHOD="google.com",So.PROVIDER_ID="google.com";var Io=function(e){Nt(n,e);var t=Mt(n);function n(){return It(this,n),t.call(this,"github.com")}return Tt(n,null,[{key:"credential",value:function(e){return co._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(_I){return null}}}]),n}(wo);Io.GITHUB_SIGN_IN_METHOD="github.com",Io.PROVIDER_ID="github.com";var Eo=function(e){Nt(n,e);var t=Mt(n);function n(e,r){var i;return It(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return Tt(n,[{key:"_getIdTokenResponse",value:function(e){return uo(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,uo(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,uo(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Fa),To=function(e){Nt(n,e);var t=Mt(n);function n(e){return It(this,n),ki(e.startsWith("saml."),"argument-error"),t.call(this,e)}return Tt(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Eo.fromJSON(e);return ki(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Eo._create(r,n)}catch(i){return null}}}]),n}(bo),Co=function(e){Nt(n,e);var t=Mt(n);function n(){return It(this,n),t.call(this,"twitter.com")}return Tt(n,null,[{key:"credential",value:function(e,t){return co._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(_I){return null}}}]),n}(wo);function Ao(e,t){return Oo.apply(this,arguments)}function Oo(){return Oo=bn(mn().mark((function e(t,n){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fi(t,"POST","/v1/accounts:signUp",Pi(t,n)));case 1:case"end":return e.stop()}}),e)}))),Oo.apply(this,arguments)}Co.TWITTER_SIGN_IN_METHOD="twitter.com",Co.PROVIDER_ID="twitter.com";var No=function(){function e(t){It(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Tt(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=bn(mn().mark((function t(n,r,i){var a,o,u,s,c=arguments;return mn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,ha._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=Po(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=bn(mn().mark((function t(n,r,i){var a;return mn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Po(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Po(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Do(){return Do=bn(mn().mark((function e(t){var n,r,i,a;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Pa(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new No({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Ao(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,No._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Do.apply(this,arguments)}var Ro=function(e){Nt(n,e);var t=Mt(n);function n(e,r,i,a){var o,u;return It(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(At(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return Tt(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(tn);function Lo(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Ro._fromErrorAndOperation(e,n,t,r);throw n}))}function Mo(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Fo(e,t){return jo.apply(this,arguments)}function jo(){return jo=bn(mn().mark((function e(t,n){var r,i,a,o;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=vn(t),e.next=3,zo(!0,r,n);case 3:return e.t0=Wi,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Mo(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),jo.apply(this,arguments)}function Uo(e,t){return Vo.apply(this,arguments)}function Vo(){return Vo=bn(mn().mark((function e(t,n){var r,i,a=arguments;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Ji,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",No._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Vo.apply(this,arguments)}function zo(e,t,n){return Bo.apply(this,arguments)}function Bo(){return Bo=bn(mn().mark((function e(t,n,r){var i,a;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ra(n);case 2:i=Mo(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",ki(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)}))),Bo.apply(this,arguments)}function qo(e,t){return Wo.apply(this,arguments)}function Wo(){return Wo=bn(mn().mark((function e(t,n){var r,i,a,o,u,s,c,l=arguments;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]&&l[2],a=t.auth,o="reauthenticate",e.prev=3,e.next=6,Ji(t,Lo(a,o,n,t),r);case 6:return ki((u=e.sent).idToken,a,"internal-error"),ki(s=Xi(u.idToken),a,"internal-error"),c=s.sub,ki(t.uid===c,a,"user-mismatch"),e.abrupt("return",No._forOperation(t,o,u));case 15:throw e.prev=15,e.t0=e.catch(3),(null===(i=e.t0)||void 0===i?void 0:i.code)==="auth/".concat("user-not-found")&&pi(a,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Wo.apply(this,arguments)}function Ko(e,t){return Go.apply(this,arguments)}function Go(){return Go=bn(mn().mark((function e(t,n){var r,i,a,o,u=arguments;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,Lo(t,i,n);case 4:return a=e.sent,e.next=7,No._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Go.apply(this,arguments)}function Ho(e,t){return Qo.apply(this,arguments)}function Qo(){return Qo=bn(mn().mark((function e(t,n){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ko(Pa(t),n));case 1:case"end":return e.stop()}}),e)}))),Qo.apply(this,arguments)}function $o(e,t){return Yo.apply(this,arguments)}function Yo(){return(Yo=bn(mn().mark((function e(t,n){var r;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=vn(t),e.next=3,zo(!1,r,n.providerId);case 3:return e.abrupt("return",Uo(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xo(e,t){return Jo.apply(this,arguments)}function Jo(){return(Jo=bn(mn().mark((function e(t,n){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qo(vn(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zo(e,t){return eu.apply(this,arguments)}function eu(){return eu=bn(mn().mark((function e(t,n){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fi(t,"POST","/v1/accounts:signInWithCustomToken",Pi(t,n)));case 1:case"end":return e.stop()}}),e)}))),eu.apply(this,arguments)}function tu(){return tu=bn(mn().mark((function e(t,n){var r,i,a;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Pa(t),e.next=3,Zo(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,No._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),tu.apply(this,arguments)}var nu=function(){function e(t,n){It(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return Tt(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?ru._fromServerResponse(e,t):pi(e,"internal-error")}}]),e}(),ru=function(e){Nt(n,e);var t=Mt(n);function n(e){var r;return It(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return Tt(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(nu);function iu(e,t,n){var r;ki((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),ki("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ki(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(ki(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function au(){return au=bn(mn().mark((function e(t,n,r){var i,a;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=vn(t),a={requestType:"PASSWORD_RESET",email:n},r&&iu(i,a,r),e.next=5,Ya(i,a);case 5:case"end":return e.stop()}}),e)}))),au.apply(this,arguments)}function ou(){return ou=bn(mn().mark((function e(t,n,r){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ja(vn(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),ou.apply(this,arguments)}function uu(){return uu=bn(mn().mark((function e(t,n){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ba(vn(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),uu.apply(this,arguments)}function su(e,t){return cu.apply(this,arguments)}function cu(){return cu=bn(mn().mark((function e(t,n){var r,i,a,o;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=vn(t),e.next=3,ja(r,{oobCode:n});case 3:i=e.sent,ki(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return ki(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:ki(i.mfaInfo,r,"internal-error");case 13:ki(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=nu._fromServerResponse(Pa(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),cu.apply(this,arguments)}function lu(){return lu=bn(mn().mark((function e(t,n){var r,i;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,su(vn(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),lu.apply(this,arguments)}function fu(e,t,n){return hu.apply(this,arguments)}function hu(){return hu=bn(mn().mark((function e(t,n,r){var i,a,o;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Pa(t),e.next=3,Ao(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,No._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),hu.apply(this,arguments)}function du(){return du=bn(mn().mark((function e(t,n,r){var i,a;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=vn(t),a={requestType:"EMAIL_SIGNIN",email:n},ki(r.handleCodeInApp,i,"argument-error"),r&&iu(i,a,r),e.next=6,Ja(i,a);case 6:case"end":return e.stop()}}),e)}))),du.apply(this,arguments)}function pu(){return pu=bn(mn().mark((function e(t,n,r){var i,a;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=vn(t),ki((a=ko.credentialWithLink(n,r||Si()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",Ho(i,a));case 4:case"end":return e.stop()}}),e)}))),pu.apply(this,arguments)}function vu(e,t){return mu.apply(this,arguments)}function mu(){return mu=bn(mn().mark((function e(t,n){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Di(t,"POST","/v1/accounts:createAuthUri",Pi(t,n)));case 1:case"end":return e.stop()}}),e)}))),mu.apply(this,arguments)}function yu(){return yu=bn(mn().mark((function e(t,n){var r,i,a,o;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ii()?Si():"http://localhost",i={identifier:n,continueUri:r},e.next=4,vu(vn(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),yu.apply(this,arguments)}function gu(){return(gu=bn(mn().mark((function e(t,n){var r,i,a,o;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=vn(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&iu(r.auth,a,n),e.next=8,Qa(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ku(){return(ku=bn(mn().mark((function e(t,n,r){var i,a,o,u;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=vn(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&iu(i.auth,o,r),e.next=8,eo(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bu(e,t){return wu.apply(this,arguments)}function wu(){return wu=bn(mn().mark((function e(t,n){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Di(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),wu.apply(this,arguments)}function xu(){return(xu=bn(mn().mark((function e(t,n){var r,i,a,o,u,s,c;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=vn(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Ji(a,bu(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _u(e,t,n){return Su.apply(this,arguments)}function Su(){return Su=bn(mn().mark((function e(t,n,r){var i,a,o,u;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Ji(t,Va(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),Su.apply(this,arguments)}var Iu=Tt((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};It(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Eu=function(e){Nt(n,e);var t=Mt(n);function n(e,r,i,a){var o;return It(this,n),(o=t.call(this,e,r,i)).username=a,o}return Tt(n)}(Iu),Tu=function(e){Nt(n,e);var t=Mt(n);function n(e,r){return It(this,n),t.call(this,e,"facebook.com",r)}return Tt(n)}(Iu),Cu=function(e){Nt(n,e);var t=Mt(n);function n(e,r){return It(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return Tt(n)}(Eu),Au=function(e){Nt(n,e);var t=Mt(n);function n(e,r){return It(this,n),t.call(this,e,"google.com",r)}return Tt(n)}(Iu),Ou=function(e){Nt(n,e);var t=Mt(n);function n(e,r,i){return It(this,n),t.call(this,e,"twitter.com",r,i)}return Tt(n)}(Eu);function Nu(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Xi(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Iu(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Tu(a,i);case"github.com":return new Cu(a,i);case"google.com":return new Au(a,i);case"twitter.com":return new Ou(a,i,e.screenName||null);case"custom":case"anonymous":return new Iu(a,null);default:return new Iu(a,r,i)}}(n)}var Pu=function(){function e(t,n,r){It(this,e),this.type=t,this.credential=n,this.auth=r}return Tt(e,[{key:"toJSON",value:function(){return{multiFactorSession:St({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Du=function(){function e(t,n,r){It(this,e),this.session=t,this.hints=n,this.signInResolver=r}return Tt(e,[{key:"resolveSignIn",value:function(){var e=bn(mn().mark((function e(t){var n;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Pa(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return nu._fromServerResponse(r,e)}));ki(i.mfaPendingCredential,r,"internal-error");var o=Pu._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=bn(mn().mark((function e(t){var a,u,s;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,No._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return ki(n.user,r,"internal-error"),e.abrupt("return",No._forOperation(n.user,n.operationType,u));case 17:pi(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Ru(e,t){return Di(e,"POST","/v2/accounts/mfaEnrollment:start",Pi(e,t))}function Lu(e,t){return Di(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Pi(e,t))}var Mu=function(){function e(t){var n=this;It(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return nu._fromServerResponse(t.auth,e)})))}))}return Tt(e,[{key:"getSession",value:function(){var e=bn(mn().mark((function e(){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Pu,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=bn(mn().mark((function e(t,n){var r,i,a;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Ji(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=bn(mn().mark((function e(t){var n,r,i,a;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return i=e.sent,e.next=6,Ji(this.user,Lu(this.user.auth,{idToken:i,mfaEnrollmentId:r}));case 6:return a=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==r})),e.next=10,this.user._updateTokensIfNecessary(a);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),Fu=new WeakMap;var ju="__sak",Uu=function(){function e(t,n){It(this,e),this.storageRetriever=t,this.type=n}return Tt(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(ju,"1"),this.storage.removeItem(ju),Promise.resolve(!0)):Promise.resolve(!1)}catch(_I){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Vu=function(e){Nt(n,e);var t=Mt(n);function n(){var e;return It(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Wt();return ka(e)||Ia(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Ca(),e._shouldAllowMigration=!0,e}return Tt(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Ta()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=bn(mn().mark((function e(t,r){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qr(Pt(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=bn(mn().mark((function e(t){var r;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qr(Pt(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=bn(mn().mark((function e(t){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qr(Pt(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Uu);Vu.type="LOCAL";var zu=Vu,Bu=function(e){Nt(n,e);var t=Mt(n);function n(){return It(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return Tt(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Uu);Bu.type="SESSION";var qu=Bu;function Wu(e){return Promise.all(e.map(function(){var e=bn(mn().mark((function e(t){var n;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Ku=function(){function e(t){It(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Tt(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=bn(mn().mark((function e(t){var n,r,i,a,o,u,s,c;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=bn(mn().mark((function e(t){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Wu(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Gu(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Ku.receivers=[];var Hu=function(){function e(t){It(this,e),this.target=t,this.handlers=new Set}return Tt(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=bn(mn().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=Gu("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Qu(){return window}function $u(){return"undefined"!==typeof Qu().WorkerGlobalScope&&"function"===typeof Qu().importScripts}function Yu(){return Xu.apply(this,arguments)}function Xu(){return(Xu=bn(mn().mark((function e(){var t;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Ju(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Zu="firebaseLocalStorageDb",es="firebaseLocalStorage",ts="fbase_key",ns=function(){function e(t){It(this,e),this.request=t}return Tt(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function rs(e,t){return e.transaction([es],t?"readwrite":"readonly").objectStore(es)}function is(){var e=indexedDB.deleteDatabase(Zu);return new ns(e).toPromise()}function as(){var e=indexedDB.open(Zu,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(es,{keyPath:ts})}catch(r){n(r)}})),e.addEventListener("success",bn(mn().mark((function n(){var r;return mn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(es)){n.next=12;break}return r.close(),n.next=5,is();case 5:return n.t0=t,n.next=8,as();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function os(e,t,n){return us.apply(this,arguments)}function us(){return us=bn(mn().mark((function e(t,n,r){var i,a;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=rs(t,!0).put((St(i={},ts,n),St(i,"value",r),i)),e.abrupt("return",new ns(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),us.apply(this,arguments)}function ss(e,t){return cs.apply(this,arguments)}function cs(){return cs=bn(mn().mark((function e(t,n){var r,i;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=rs(t,!1).get(n),e.next=3,new ns(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),cs.apply(this,arguments)}function ls(e,t){var n=rs(e,!0).delete(t);return new ns(n).toPromise()}var fs=function(){function e(){It(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return Tt(e,[{key:"_openDb",value:function(){var e=bn(mn().mark((function e(){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,as();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=bn(mn().mark((function e(t){var n,r;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=bn(mn().mark((function e(){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$u()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=bn(mn().mark((function e(){var t=this;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Ku._getInstance($u()?self:null),this.receiver._subscribe("keyChanged",function(){var e=bn(mn().mark((function e(n,r){var i;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=bn(mn().mark((function e(t,n){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=bn(mn().mark((function e(){var t,n,r;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yu();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Hu(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=bn(mn().mark((function e(t){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Ju()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=bn(mn().mark((function e(){var t;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,as();case 5:return t=e.sent,e.next=8,os(t,ju,"1");case 8:return e.next=10,ls(t,ju);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=bn(mn().mark((function e(t){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=bn(mn().mark((function e(t,n){var r=this;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(bn(mn().mark((function e(){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return os(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=bn(mn().mark((function e(t){var n;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return ss(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=bn(mn().mark((function e(t){var n=this;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(bn(mn().mark((function e(){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return ls(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=bn(mn().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=rs(e,!1).getAll();return new ns(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Ct(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(bn(mn().mark((function t(){return mn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();fs.type="LOCAL";var hs=fs;function ds(e,t){return Di(e,"POST","/v2/accounts/mfaSignIn:start",Pi(e,t))}function ps(e){return vs.apply(this,arguments)}function vs(){return vs=bn(mn().mark((function e(t){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Di(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),vs.apply(this,arguments)}function ms(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=vi("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function ys(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var gs=1e12,ks=function(){function e(t){It(this,e),this.auth=t,this.counter=gs,this._widgets=new Map}return Tt(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new bs(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||gs;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||gs;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=bn(mn().mark((function e(t){var n,r;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||gs,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),bs=function(){function e(t,n,r){var i=this;It(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;ki(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return Tt(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var ws=ys("rcb"),xs=new Ti(3e4,6e4),_s="https://www.google.com/recaptcha/api.js?",Ss=function(){function e(){var t;It(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=Qu().grecaptcha)||void 0===t?void 0:t.render)}return Tt(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return ki(Is(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(Qu().grecaptcha):new Promise((function(r,i){var a=Qu().setTimeout((function(){i(vi(e,"network-request-failed"))}),xs.get());Qu()[ws]=function(){Qu().clearTimeout(a),delete Qu()[ws];var o=Qu().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(vi(e,"internal-error"))},ms("".concat(_s,"?").concat(cn({onload:ws,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(vi(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=Qu().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function Is(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var Es=function(){function e(){It(this,e)}return Tt(e,[{key:"load",value:function(){var e=bn(mn().mark((function e(t){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new ks(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Ts="recaptcha",Cs={theme:"light",type:"image"},As=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},Cs),r=arguments.length>2?arguments[2]:void 0;It(this,e),this.parameters=n,this.type=Ts,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Pa(r),this.isInvisible="invisible"===this.parameters.size,ki("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;ki(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Es:new Ss,this.validateStartingState()}return Tt(e,[{key:"verify",value:function(){var e=bn(mn().mark((function e(){var t,n,r,i=this;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){ki(!this.parameters.sitekey,this.auth,"argument-error"),ki(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ki("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Qu()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){ki(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=bn(mn().mark((function e(){var t,n;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=bn(mn().mark((function e(){var t;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ki(Ii()&&!$u(),this.auth,"internal-error"),e.next=3,Os();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,ps(this.auth);case 8:ki(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return ki(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Os(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var Ns=function(){function e(t,n){It(this,e),this.verificationId=t,this.onConfirmation=n}return Tt(e,[{key:"confirm",value:function(e){var t=yo._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Ps(){return Ps=bn(mn().mark((function e(t,n,r){var i,a;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Pa(t),e.next=3,Ms(i,n,vn(r));case 3:return a=e.sent,e.abrupt("return",new Ns(a,(function(e){return Ho(i,e)})));case 5:case"end":return e.stop()}}),e)}))),Ps.apply(this,arguments)}function Ds(e,t,n){return Rs.apply(this,arguments)}function Rs(){return(Rs=bn(mn().mark((function e(t,n,r){var i,a;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=vn(t),e.next=3,zo(!1,i,"phone");case 3:return e.next=5,Ms(i.auth,n,vn(r));case 5:return a=e.sent,e.abrupt("return",new Ns(a,(function(e){return $o(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ls(){return(Ls=bn(mn().mark((function e(t,n,r){var i,a;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=vn(t),e.next=3,Ms(i.auth,n,vn(r));case 3:return a=e.sent,e.abrupt("return",new Ns(a,(function(e){return Xo(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ms(e,t,n){return Fs.apply(this,arguments)}function Fs(){return Fs=bn(mn().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,ki("string"===typeof a,t,"argument-error"),ki(r.type===Ts,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return ki("enroll"===u.type,t,"internal-error"),e.next=13,Ru(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return ki("signin"===u.type,t,"internal-error"),ki(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,ds(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,lo(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Fs.apply(this,arguments)}function js(){return(js=bn(mn().mark((function e(t,n){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Uo(vn(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Us=function(){function e(t){It(this,e),this.providerId=e.PROVIDER_ID,this.auth=Pa(t)}return Tt(e,[{key:"verifyPhoneNumber",value:function(e,t){return Ms(this.auth,e,vn(t))}}],[{key:"credential",value:function(e,t){return yo._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?yo._fromTokenResponse(n,r):null}}]),e}();function Vs(e,t){return t?_i(t):(ki(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Us.PROVIDER_ID="phone",Us.PHONE_SIGN_IN_METHOD="phone";var zs=function(e){Nt(n,e);var t=Mt(n);function n(e){var r;return It(this,n),(r=t.call(this,"custom","custom")).params=e,r}return Tt(n,[{key:"_getIdTokenResponse",value:function(e){return uo(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return uo(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return uo(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Fa);function Bs(e){return Ko(e.auth,new zs(e),e.bypassAuthState)}function qs(e){var t=e.auth,n=e.user;return ki(n,t,"internal-error"),qo(n,new zs(e),e.bypassAuthState)}function Ws(e){return Ks.apply(this,arguments)}function Ks(){return Ks=bn(mn().mark((function e(t){var n,r;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,ki(r=t.user,n,"internal-error"),e.abrupt("return",Uo(r,new zs(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),Ks.apply(this,arguments)}var Gs=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];It(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Tt(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=bn(mn().mark((function t(n,r){return mn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=bn(mn().mark((function e(t){var n,r,i,a,o,u,s;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Bs;case"linkViaPopup":case"linkViaRedirect":return Ws;case"reauthViaPopup":case"reauthViaRedirect":return qs;default:pi(this.auth,"internal-error")}}},{key:"resolve",value:function(e){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Hs=new Ti(2e3,1e4);function Qs(e,t,n){return $s.apply(this,arguments)}function $s(){return $s=bn(mn().mark((function e(t,n,r){var i,a,o;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Pa(t),yi(t,n,bo),a=Vs(i,r),o=new Zs(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),$s.apply(this,arguments)}function Ys(){return Ys=bn(mn().mark((function e(t,n,r){var i,a,o;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return yi((i=vn(t)).auth,n,bo),a=Vs(i.auth,r),o=new Zs(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Ys.apply(this,arguments)}function Xs(e,t,n){return Js.apply(this,arguments)}function Js(){return Js=bn(mn().mark((function e(t,n,r){var i,a,o;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return yi((i=vn(t)).auth,n,bo),a=Vs(i.auth,r),o=new Zs(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Js.apply(this,arguments)}var Zs=function(e){Nt(n,e);var t=Mt(n);function n(e,r,i,a,o){var u;return It(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=At(u),u}return Tt(n,[{key:"executeNotNull",value:function(){var e=bn(mn().mark((function e(){var t;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return ki(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=bn(mn().mark((function e(){var t,n=this;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return wi(1===this.filter.length,"Popup operations only handle one event"),t=Gu(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(vi(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(vi(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(vi(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Hs.get())}()}}]),n}(Gs);Zs.currentPopupAction=null;var ec=new Map,tc=function(e){Nt(n,e);var t=Mt(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return It(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return Tt(n,[{key:"execute",value:function(){var e=bn(mn().mark((function e(){var t,r;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=ec.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,nc(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Qr(Pt(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:ec.set(this.auth._key(),t);case 21:return this.bypassAuthState||ec.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=bn(mn().mark((function e(t){var r;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Qr(Pt(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Qr(Pt(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=bn(mn().mark((function e(){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Gs);function nc(e,t){return rc.apply(this,arguments)}function rc(){return rc=bn(mn().mark((function e(t,n){var r,i,a;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=sc(n),i=uc(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),rc.apply(this,arguments)}function ic(e,t){return ac.apply(this,arguments)}function ac(){return ac=bn(mn().mark((function e(t,n){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",uc(t)._set(sc(n),"true"));case 1:case"end":return e.stop()}}),e)}))),ac.apply(this,arguments)}function oc(e,t){ec.set(e._key(),t)}function uc(e){return _i(e._redirectPersistence)}function sc(e){return va("pendingRedirect",e.config.apiKey,e.name)}function cc(e,t,n){return function(e,t,n){return lc.apply(this,arguments)}(e,t,n)}function lc(){return lc=bn(mn().mark((function e(t,n,r){var i,a;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Pa(t),yi(t,n,bo),a=Vs(i,r),e.next=5,ic(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),lc.apply(this,arguments)}function fc(e,t,n){return function(e,t,n){return hc.apply(this,arguments)}(e,t,n)}function hc(){return hc=bn(mn().mark((function e(t,n,r){var i,a,o;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return yi((i=vn(t)).auth,n,bo),a=Vs(i.auth,r),e.next=5,ic(a,i.auth);case 5:return e.next=7,kc(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)}))),hc.apply(this,arguments)}function dc(e,t,n){return function(e,t,n){return pc.apply(this,arguments)}(e,t,n)}function pc(){return pc=bn(mn().mark((function e(t,n,r){var i,a,o;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return yi((i=vn(t)).auth,n,bo),a=Vs(i.auth,r),e.next=5,zo(!1,i,n.providerId);case 5:return e.next=7,ic(a,i.auth);case 7:return e.next=9,kc(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)}))),pc.apply(this,arguments)}function vc(e,t){return mc.apply(this,arguments)}function mc(){return mc=bn(mn().mark((function e(t,n){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pa(t)._initializationPromise;case 2:return e.abrupt("return",yc(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),mc.apply(this,arguments)}function yc(e,t){return gc.apply(this,arguments)}function gc(){return gc=bn(mn().mark((function e(t,n){var r,i,a,o,u,s=arguments;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=Pa(t),a=Vs(i,n),o=new tc(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),gc.apply(this,arguments)}function kc(e){return bc.apply(this,arguments)}function bc(){return(bc=bn(mn().mark((function e(t){var n;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Gu("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var wc=function(){function e(t){It(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Tt(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _c(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!_c(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(vi(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(xc(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(xc(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function xc(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function _c(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Sc(e){return Ic.apply(this,arguments)}function Ic(){return Ic=bn(mn().mark((function e(t){var n,r=arguments;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Di(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Ic.apply(this,arguments)}var Ec=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Tc=/^https?/;function Cc(){return Cc=bn(mn().mark((function e(t){var n,r,i,a,o;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Sc(t);case 4:n=e.sent,r=n.authorizedDomains,i=Ct(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Ac(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:pi(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),Cc.apply(this,arguments)}function Ac(e){var t=Si(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Tc.test(r))return!1;if(Ec.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Oc=new Ti(3e4,6e4);function Nc(){var e=Qu().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=gn(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Pc=null;function Dc(e){return Pc=Pc||function(e){return new Promise((function(t,n){var r,i,a;function o(){Nc(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Nc(),n(vi(e,"network-request-failed"))},timeout:Oc.get()})}if(null===(i=null===(r=Qu().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Qu().gapi)||void 0===a?void 0:a.load)){var u=ys("iframefcb");return Qu()[u]=function(){gapi.load?o():n(vi(e,"network-request-failed"))},ms("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Pc=null,e}))}(e),Pc}var Rc=new Ti(5e3,15e3),Lc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Mc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Fc(e){var t=e.config;ki(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Ci(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:mr},i=Mc.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(cn(r).slice(1))}function jc(e){return Uc.apply(this,arguments)}function Uc(){return Uc=bn(mn().mark((function e(t){var n,r;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dc(t);case 2:return n=e.sent,ki(r=Qu().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Fc(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Lc,dontclear:!0},(function(e){return new Promise(function(){var n=bn(mn().mark((function n(r,i){var a,o,u;return mn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){Qu().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=vi(t,"network-request-failed"),o=Qu().setTimeout((function(){i(a)}),Rc.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Uc.apply(this,arguments)}var Vc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},zc="_blank",Bc="http://localhost",qc=function(){function e(t){It(this,e),this.window=t,this.associatedEvent=null}return Tt(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Wc(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",c=Object.assign(Object.assign({},Vc),{width:r.toString(),height:i.toString(),top:a,left:o}),l=Wt().toLowerCase();n&&(s=ba(l)?zc:n),ga(l)&&(t=t||Bc,c.scrollbars="yes");var f=Object.entries(c).reduce((function(e,t){var n=u(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(Ea(l)&&"_self"!==s)return Kc(t||"",s),new qc(null);var h=window.open(t||"",s,f);ki(h,e,"popup-blocked");try{h.focus()}catch(d){}return new qc(h)}function Kc(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Gc="__/auth/handler",Hc="emulator/auth/handler";function Qc(e,t,n,r,i,a){ki(e.config.authDomain,e,"auth-domain-config-required"),ki(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:mr,eventId:i};if(t instanceof bo){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,c=Object.entries(a||{});s<c.length;s++){var l=u(c[s],2),f=l[0],h=l[1];o[f]=h}}if(t instanceof wo){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Gc);return Ci(t,Hc)}(e),"?").concat(cn(p).slice(1))}var $c="webStorageSupport",Yc=function(){function e(){It(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qu,this._completeRedirectFn=yc,this._overrideRedirectResult=oc}return Tt(e,[{key:"_openPopup",value:function(){var e=bn(mn().mark((function e(t,n,r,i){var a,o;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return wi(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=Qc(t,n,r,Si(),i),e.abrupt("return",Wc(t,o,Gu()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=bn(mn().mark((function e(t,n,r,i){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=Qc(t,n,r,Si(),i),Qu().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(wi(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=bn(mn().mark((function e(t){var n,r;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jc(t);case 2:return n=e.sent,r=new wc(t),n.register("authEvent",(function(e){return ki(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send($c,{type:$c},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),pi(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Cc.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Ca()||ka()||Ia()}}]),e}(),Xc=Yc,Jc=function(){function e(t){It(this,e),this.factorId=t}return Tt(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return bi("unexpected MultiFactorSessionType")}}}]),e}(),Zc=function(e){Nt(n,e);var t=Mt(n);function n(e){var r;return It(this,n),(r=t.call(this,"phone")).credential=e,r}return Tt(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Di(e,"POST","/v2/accounts/mfaEnrollment:finalize",Pi(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Di(e,"POST","/v2/accounts/mfaSignIn:finalize",Pi(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(Jc),el=function(){function e(){It(this,e)}return Tt(e,null,[{key:"assertion",value:function(e){return Zc._fromCredential(e)}}]),e}();el.FACTOR_ID="phone";var tl="@firebase/auth",nl="0.20.11",rl=function(){function e(t){It(this,e),this.auth=t,this.internalListeners=new Map}return Tt(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=bn(mn().mark((function e(t){var n;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){ki(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var il;!function(e){var t;null===(t=Xt())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function al(){return window}il="Browser",cr(new wn("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){ki(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),ki(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:il,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Aa(il)},i=new Na(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(_i);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),cr(new wn("auth-internal",(function(e){return function(e){return new rl(e)}(Pa(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),xr(tl,nl,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(il)),xr(tl,nl,"esm2017");function ol(e,t,n){return ul.apply(this,arguments)}function ul(){return ul=bn(mn().mark((function e(t,n,r){var i,a,o,u,s;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=al(),o=a.BuildInfo,wi(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,dl(n.sessionId);case 4:return u=e.sent,s={},Ia()?s.ibi=o.packageName:xa()?s.apn=o.packageName:pi(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",Qc(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),ul.apply(this,arguments)}function sl(){return sl=bn(mn().mark((function e(t){var n,r,i;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=al(),r=n.BuildInfo,i={},Ia()?i.iosBundleId=r.packageName:xa()?i.androidPackageName=r.packageName:pi(t,"operation-not-supported-in-this-environment"),e.next=5,Sc(t,i);case 5:case"end":return e.stop()}}),e)}))),sl.apply(this,arguments)}function cl(e){var t=al().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function ll(e,t,n){return fl.apply(this,arguments)}function fl(){return fl=bn(mn().mark((function e(t,n,r){var i,a,o;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=al(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(vi(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),xa()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),fl.apply(this,arguments)}function hl(e){var t,n,r,i,a,o,u,s,c,l,f=al();ki("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ki("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ki("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ki("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ki("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function dl(e){return pl.apply(this,arguments)}function pl(){return(pl=bn(mn().mark((function e(t){var n,r,i;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=vl(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vl(e){if(wi(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var ml=function(e){Nt(n,e);var t=Mt(n);function n(){var e;return It(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return Tt(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Qr(Pt(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=bn(mn().mark((function e(){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(wc);function yl(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:xl(),postBody:null,tenantId:e.tenantId,error:vi(e,"no-auth-event")}}function gl(e,t){return _l()._set(Sl(e),t)}function kl(e){return bl.apply(this,arguments)}function bl(){return bl=bn(mn().mark((function e(t){var n;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_l()._get(Sl(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,_l()._remove(Sl(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),bl.apply(this,arguments)}function wl(e,t){var n,r,i=function(e){var t=Il(e),n=t.link?decodeURIComponent(t.link):void 0,r=Il(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Il(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=Il(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?vi(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function xl(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function _l(){return _i(zu)}function Sl(e){return va("authEvent",e.config.apiKey,e.name)}function Il(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),i=r(t=n)||yn(t)||a(t)||o();i[0];return ln(i.slice(1).join("?"))}var El=function(){function e(){It(this,e),this._redirectPersistence=qu,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=yc,this._overrideRedirectResult=oc}return Tt(e,[{key:"_initialize",value:function(){var e=bn(mn().mark((function e(t){var n,r;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new ml(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){pi(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=bn(mn().mark((function e(t,n,r,i){var a,o,u,s;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hl(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),ec.clear(),e.next=10,this._originValidation(t);case 10:return o=yl(t,r,i),e.next=13,gl(t,o);case 13:return e.next=15,ol(t,o,n);case 15:return u=e.sent,e.next=18,cl(u);case 18:return s=e.sent,e.abrupt("return",ll(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return sl.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=al(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(bn(mn().mark((function n(){return mn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,kl(e);case 2:t.onEvent(Cl());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=bn(mn().mark((function n(r){var i,a;return mn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,kl(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=wl(i,r.url)),t.onEvent(a||Cl());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");al().handleOpenURL=function(){var e=bn(mn().mark((function e(t){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),Tl=El;function Cl(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:vi("no-auth-event")}}function Al(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Ol(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt();return!("file:"!==Al()&&"ionic:"!==Al()&&"capacitor:"!==Al()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Nl(){return Qt()&&11===(null===document||void 0===document?void 0:document.documentMode)}function Pl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt();return/Edge\/\d+/.test(e)}function Dl(){try{var e=self.localStorage,t=Gu();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt();return Nl()||Pl(e)}()||$t()}catch(n){return Rl()&&$t()}return!1}function Rl(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Ll(){return("http:"===Al()||"https:"===Al()||Gt()||Ol())&&!(Ht()||Kt())&&Dl()&&!Rl()}function Ml(){return Ol()&&"undefined"!==typeof document}function Fl(){return jl.apply(this,arguments)}function jl(){return(jl=bn(mn().mark((function e(){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ml()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ul={LOCAL:"local",NONE:"none",SESSION:"session"},Vl=ki,zl="persistence";function Bl(e,t){Vl(Object.values(Ul).includes(t),e,"invalid-persistence-type"),Ht()?Vl(t!==Ul.SESSION,e,"unsupported-persistence-type"):Kt()?Vl(t===Ul.NONE,e,"unsupported-persistence-type"):Rl()?Vl(t===Ul.NONE||t===Ul.LOCAL&&$t(),e,"unsupported-persistence-type"):Vl(t===Ul.NONE||Dl(),e,"unsupported-persistence-type")}function ql(e){return Wl.apply(this,arguments)}function Wl(){return Wl=bn(mn().mark((function e(t){var n,r;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=Kl(),r=va(zl,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),Wl.apply(this,arguments)}function Kl(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var Gl=ki,Hl=function(){function e(){It(this,e),this.browserResolver=_i(Xc),this.cordovaResolver=_i(Tl),this.underlyingResolver=null,this._redirectPersistence=qu,this._completeRedirectFn=yc,this._overrideRedirectResult=oc}return Tt(e,[{key:"_initialize",value:function(){var e=bn(mn().mark((function e(t){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=bn(mn().mark((function e(t,n,r,i){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=bn(mn().mark((function e(t,n,r,i){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Ml()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return Gl(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=bn(mn().mark((function e(){var t;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Fl();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ql(e){return e.unwrap()}function $l(e,t){var n,r,i=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===(r=t)||void 0===r?void 0:r.code))t.resolver=new ef(e,function(e,t){var n,r=vn(e),i=t;return ki(t.customData.operationType,r,"argument-error"),ki(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Du._fromError(r,i)}(e,t));else if(i){var a=Yl(t),o=t;a&&(o.credential=a,o.tenantId=i.tenantId||void 0,o.email=i.email||void 0,o.phoneNumber=i.phoneNumber||void 0)}}function Yl(e){var t=(e instanceof tn?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof tn)&&"temporaryProof"in t&&"phoneNumber"in t)return Us.credentialFromResult(e);var n,r=t.providerId;if(!r||r===ei)return null;switch(r){case Zr:n=So;break;case Xr:n=_o;break;case Jr:n=Io;break;case ti:n=Co;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?Eo._create(r,u):co._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new xo(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof tn?n.credentialFromError(e):n.credentialFromResult(e)}function Xl(e,t){return t.catch((function(t){throw t instanceof tn&&$l(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,Yl(t)),additionalUserInfo:Nu(e),user:tf.getOrCreate(r)}}))}function Jl(e,t){return Zl.apply(this,arguments)}function Zl(){return Zl=bn(mn().mark((function e(t,n){var r;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return Xl(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),Zl.apply(this,arguments)}var ef=function(){function e(t,n){It(this,e),this.resolver=n,this.auth=t.wrapped()}return Tt(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return Xl(Ql(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),tf=function(){function e(t){It(this,e),this._delegate=t,this.multiFactor=function(e){var t=vn(e);return Fu.has(t)||Fu.set(t,Mu._fromUser(t)),Fu.get(t)}(t)}return Tt(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=bn(mn().mark((function e(t){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xl(this.auth,$o(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=bn(mn().mark((function e(t,n){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Jl(this.auth,Ds(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=bn(mn().mark((function e(t){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xl(this.auth,Xs(this._delegate,t,Hl)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=bn(mn().mark((function e(t){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ql(Pa(this.auth));case 2:return e.abrupt("return",dc(this._delegate,t,Hl));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=bn(mn().mark((function e(t){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xl(this.auth,Xo(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return Jl(this.auth,function(e,t,n){return Ls.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return Xl(this.auth,function(e,t,n){return Ys.apply(this,arguments)}(this._delegate,e,Hl))}},{key:"reauthenticateWithRedirect",value:function(){var e=bn(mn().mark((function e(t){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ql(Pa(this.auth));case 2:return e.abrupt("return",fc(this._delegate,t,Hl));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return gu.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=bn(mn().mark((function e(t){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fo(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return _u(vn(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return _u(vn(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return js.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return xu.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return ku.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();tf.USER_MAP=new WeakMap;var nf=ki,rf=function(){function e(t,n){if(It(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;nf(r,"invalid-api-key",{appName:t.name}),nf(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?Hl:void 0;this._delegate=n.initialize({options:{persistence:of(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(ci),this.linkUnderlyingAuth()}return Tt(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?tf.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Ra(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return uu.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return su(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return ou.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=bn(mn().mark((function e(t,n){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xl(this._delegate,fu(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return yu.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=go.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=bn(mn().mark((function e(){var t;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return nf(Ll(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,vc(this._delegate,Hl);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",Xl(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Pa(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=af(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=af(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return du.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return au.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=bn(mn().mark((function e(t){var n,r;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Bl(this._delegate,t),e.t0=t,e.next=e.t0===Ul.SESSION?4:e.t0===Ul.LOCAL?6:e.t0===Ul.NONE?11:13;break;case 4:return n=qu,e.abrupt("break",14);case 6:return e.next=8,_i(hs)._isAvailable();case 8:return r=e.sent,n=r?hs:zu,e.abrupt("break",14);case 11:return n=pa,e.abrupt("break",14);case 13:return e.abrupt("return",pi("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return Xl(this._delegate,function(e){return Do.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return Xl(this._delegate,Ho(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return Xl(this._delegate,function(e,t){return tu.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return Xl(this._delegate,function(e,t,n){return Ho(vn(e),ko.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return Xl(this._delegate,function(e,t,n){return pu.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return Jl(this._delegate,function(e,t,n){return Ps.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=bn(mn().mark((function e(t){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return nf(Ll(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",Xl(this._delegate,Qs(this._delegate,t,Hl)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=bn(mn().mark((function e(t){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return nf(Ll(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,ql(this._delegate);case 3:return e.abrupt("return",cc(this._delegate,t,Hl));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return lu.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function af(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&tf.getOrCreate(e))},error:t,complete:n}}function of(e,t){var n=function(e,t){var n=Kl();if(!n)return[];var r=va(zl,e,t);switch(n.getItem(r)){case Ul.NONE:return[pa];case Ul.LOCAL:return[hs,qu];case Ul.SESSION:return[qu];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(hs)||n.push(hs),"undefined"!==typeof window)for(var r=0,i=[zu,qu];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(pa)||n.push(pa),n}rf.Persistence=Ul;var uf=function(){function e(){It(this,e),this.providerId="phone",this._delegate=new Us(Ql(Gr.auth()))}return Tt(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return Us.credential(e,t)}}]),e}();uf.PHONE_SIGN_IN_METHOD=Us.PHONE_SIGN_IN_METHOD,uf.PROVIDER_ID=Us.PROVIDER_ID;var sf,cf=ki,lf=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Gr.app();It(this,e),cf(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new As(t,n,i.auth()),this.type=this._delegate.type}return Tt(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(sf=Gr).INTERNAL.registerComponent(new wn("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new rf(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ni,PASSWORD_RESET:ri,RECOVER_EMAIL:ii,REVERT_SECOND_FACTOR_ADDITION:ai,VERIFY_AND_CHANGE_EMAIL:oi,VERIFY_EMAIL:ui}},EmailAuthProvider:ko,FacebookAuthProvider:_o,GithubAuthProvider:Io,GoogleAuthProvider:So,OAuthProvider:xo,SAMLAuthProvider:To,PhoneAuthProvider:uf,PhoneMultiFactorGenerator:el,RecaptchaVerifier:lf,TwitterAuthProvider:Co,Auth:rf,AuthCredential:Fa,Error:tn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),sf.registerVersion("@firebase/auth-compat","0.2.24");var ff,hf="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},df={},pf=pf||{},vf=hf||self;function mf(){}function yf(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function gf(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var kf="closure_uid_"+(1e9*Math.random()>>>0),bf=0;function wf(e,t,n){return e.call.apply(e.bind,arguments)}function xf(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function _f(e,t,n){return(_f=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?wf:xf).apply(null,arguments)}function Sf(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function If(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Ef(){this.s=this.s,this.o=this.o}Ef.prototype.s=!1,Ef.prototype.na=function(){var e;!this.s&&(this.s=!0,this.M(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,kf)&&e[kf]||(e[kf]=++bf))},Ef.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Tf=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Cf(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Af(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(yf(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function Of(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Of.prototype.h=function(){this.defaultPrevented=!0};var Nf=function(){if(!vf.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{vf.addEventListener("test",mf,t),vf.removeEventListener("test",mf,t)}catch(n){}return e}();function Pf(e){return/^[\s\xa0]*$/.test(e)}var Df=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Rf(e,t){return e<t?-1:e>t?1:0}function Lf(){var e=vf.navigator;return e&&(e=e.userAgent)?e:""}function Mf(e){return-1!=Lf().indexOf(e)}function Ff(e){return Ff[" "](e),e}Ff[" "]=mf;var jf,Uf=Mf("Opera"),Vf=Mf("Trident")||Mf("MSIE"),zf=Mf("Edge"),Bf=zf||Vf,qf=Mf("Gecko")&&!(-1!=Lf().toLowerCase().indexOf("webkit")&&!Mf("Edge"))&&!(Mf("Trident")||Mf("MSIE"))&&!Mf("Edge"),Wf=-1!=Lf().toLowerCase().indexOf("webkit")&&!Mf("Edge");function Kf(){var e=vf.document;return e?e.documentMode:void 0}e:{var Gf="",Hf=function(){var e=Lf();return qf?/rv:([^\);]+)(\)|;)/.exec(e):zf?/Edge\/([\d\.]+)/.exec(e):Vf?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Wf?/WebKit\/(\S+)/.exec(e):Uf?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Hf&&(Gf=Hf?Hf[1]:""),Vf){var Qf=Kf();if(null!=Qf&&Qf>parseFloat(Gf)){jf=String(Qf);break e}}jf=Gf}var $f,Yf={};function Xf(){return function(e){var t=Yf;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Df(String(jf)).split("."),n=Df("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Rf(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Rf(0==a[2].length,0==o[2].length)||Rf(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(vf.document&&Vf){var Jf=Kf();$f=Jf||(parseInt(jf,10)||void 0)}else $f=void 0;var Zf=$f;function eh(e,t){if(Of.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(qf){e:{try{Ff(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:th[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&eh.X.h.call(this)}}If(eh,Of);var th={2:"touch",3:"pen",4:"mouse"};eh.prototype.h=function(){eh.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var nh="closure_listenable_"+(1e6*Math.random()|0),rh=0;function ih(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++rh,this.ba=this.ea=!1}function ah(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function oh(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function uh(e){var t={};for(var n in e)t[n]=e[n];return t}var sh="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ch(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<sh.length;a++)n=sh[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function lh(e){this.src=e,this.g={},this.h=0}function fh(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Tf(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(ah(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function hh(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}lh.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=hh(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new ih(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var dh="closure_lm_"+(1e6*Math.random()|0),ph={};function vh(e,t,n,r,i){if(r&&r.once)return yh(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)vh(e,t[a],n,r,i);return null}return n=Sh(n),e&&e[nh]?e.N(t,n,gf(r)?!!r.capture:!!r,i):mh(e,t,n,!1,r,i)}function mh(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=gf(i)?!!i.capture:!!i,u=xh(e);if(u||(e[dh]=u=new lh(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=wh;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Nf||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(bh(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function yh(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)yh(e,t[a],n,r,i);return null}return n=Sh(n),e&&e[nh]?e.O(t,n,gf(r)?!!r.capture:!!r,i):mh(e,t,n,!0,r,i)}function gh(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)gh(e,t[a],n,r,i);else r=gf(r)?!!r.capture:!!r,n=Sh(n),e&&e[nh]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=hh(a=e.g[t],n,r,i))&&(ah(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=xh(e))&&(t=e.g[t.toString()],e=-1,t&&(e=hh(t,n,r,i)),(n=-1<e?t[e]:null)&&kh(n))}function kh(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[nh])fh(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(bh(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=xh(t))?(fh(n,e),0==n.h&&(n.src=null,t[dh]=null)):ah(e)}}}function bh(e){return e in ph?ph[e]:ph[e]="on"+e}function wh(e,t){if(e.ba)e=!0;else{t=new eh(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&kh(e),e=n.call(r,t)}return e}function xh(e){return(e=e[dh])instanceof lh?e:null}var _h="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sh(e){return"function"===typeof e?e:(e[_h]||(e[_h]=function(t){return e.handleEvent(t)}),e[_h])}function Ih(){Ef.call(this),this.i=new lh(this),this.P=this,this.I=null}function Eh(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Of(t,e);else if(t instanceof Of)t.target=t.target||e;else{var i=t;ch(t=new Of(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Th(o,r,!0,t)&&i}if(i=Th(o=t.g=e,r,!0,t)&&i,i=Th(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Th(o=t.g=n[a],r,!1,t)&&i}function Th(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var u=o.listener,s=o.ha||o.src;o.ea&&fh(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}If(Ih,Ef),Ih.prototype[nh]=!0,Ih.prototype.removeEventListener=function(e,t,n,r){gh(this,e,t,n,r)},Ih.prototype.M=function(){if(Ih.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ah(n[r]);delete t.g[e],t.h--}}this.I=null},Ih.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Ih.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Ch=vf.JSON.stringify;function Ah(){var e=Fh,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Oh,Nh=function(){function e(){It(this,e),this.h=this.g=null}return Tt(e,[{key:"add",value:function(e,t){var n=Ph.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Ph=new(function(){function e(t,n){It(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Tt(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Dh}),(function(e){return e.reset()})),Dh=function(){function e(){It(this,e),this.next=this.g=this.h=null}return Tt(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Rh(e){vf.setTimeout((function(){throw e}),0)}function Lh(e,t){Oh||function(){var e=vf.Promise.resolve(void 0);Oh=function(){e.then(jh)}}(),Mh||(Oh(),Mh=!0),Fh.add(e,t)}var Mh=!1,Fh=new Nh;function jh(){for(var e;e=Ah();){try{e.h.call(e.g)}catch(n){Rh(n)}var t=Ph;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Mh=!1}function Uh(e,t){Ih.call(this),this.h=e||1,this.g=t||vf,this.j=_f(this.lb,this),this.l=Date.now()}function Vh(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function zh(e,t,n){if("function"===typeof e)n&&(e=_f(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=_f(e.handleEvent,e)}return 2147483647<Number(t)?-1:vf.setTimeout(e,t||0)}function Bh(e){e.g=zh((function(){e.g=null,e.i&&(e.i=!1,Bh(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}If(Uh,Ih),(ff=Uh.prototype).ca=!1,ff.R=null,ff.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Eh(this,"tick"),this.ca&&(Vh(this),this.start()))}},ff.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ff.M=function(){Uh.X.M.call(this),Vh(this),delete this.g};var qh=function(e){Nt(n,e);var t=Mt(n);function n(e,r){var i;return It(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Tt(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Bh(this)}},{key:"M",value:function(){Qr(Pt(n.prototype),"M",this).call(this),this.g&&(vf.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Ef);function Wh(e){Ef.call(this),this.h=e,this.g={}}If(Wh,Ef);var Kh=[];function Gh(e,t,n,r){Array.isArray(n)||(n&&(Kh[0]=n.toString()),n=Kh);for(var i=0;i<n.length;i++){var a=vh(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Hh(e){oh(e.g,(function(e,t){this.g.hasOwnProperty(t)&&kh(e)}),e),e.g={}}function Qh(){this.g=!0}function $h(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Ch(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}Wh.prototype.M=function(){Wh.X.M.call(this),Hh(this)},Wh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Qh.prototype.Aa=function(){this.g=!1},Qh.prototype.info=function(){};var Yh={},Xh=null;function Jh(){return Xh=Xh||new Ih}function Zh(e){Of.call(this,Yh.Pa,e)}function ed(e){var t=Jh();Eh(t,new Zh(t))}function td(e,t){Of.call(this,Yh.STAT_EVENT,e),this.stat=t}function nd(e){var t=Jh();Eh(t,new td(t,e))}function rd(e,t){Of.call(this,Yh.Qa,e),this.size=t}function id(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return vf.setTimeout((function(){e()}),t)}Yh.Pa="serverreachability",If(Zh,Of),Yh.STAT_EVENT="statevent",If(td,Of),Yh.Qa="timingevent",If(rd,Of);var ad={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},od={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function ud(){}function sd(e){return e.h||(e.h=e.i())}function cd(){}ud.prototype.h=null;var ld,fd={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function hd(){Of.call(this,"d")}function dd(){Of.call(this,"c")}function pd(){}function vd(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new Wh(this),this.O=yd,e=Bf?125:void 0,this.T=new Uh(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new md}function md(){this.i=null,this.g="",this.h=!1}If(hd,Of),If(dd,Of),If(pd,ud),pd.prototype.g=function(){return new XMLHttpRequest},pd.prototype.i=function(){return{}},ld=new pd;var yd=45e3,gd={},kd={};function bd(e,t,n){e.K=1,e.v=Ud(Rd(t)),e.s=n,e.P=!0,wd(e,null)}function wd(e,t){e.F=Date.now(),Id(e),e.A=Rd(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),Jd(n.i,"t",r),e.C=0,n=e.l.H,e.h=new md,e.g=Zp(e.l,n?t:null,!e.s),0<e.N&&(e.L=new qh(_f(e.La,e,e.g),e.N)),Gh(e.S,e.g,"readystatechange",e.ib),t=e.H?uh(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),ed(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function xd(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function _d(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Sd(e,n))==kd){4==t&&(e.o=4,nd(14),i=!1),$h(e.j,e.m,null,"[Incomplete Response]");break}if(r==gd){e.o=4,nd(15),$h(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}$h(e.j,e.m,r,null),Od(e,r)}xd(e)&&r!=kd&&r!=gd&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,nd(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Kp(t),t.K=!0,nd(11))):($h(e.j,e.m,n,"[Invalid Chunked Response]"),Ad(e),Cd(e))}function Sd(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?kd:(n=Number(t.substring(n,r)),isNaN(n)?gd:(r+=1)+n>t.length?kd:(t=t.substr(r,n),e.C=r+n,t))}function Id(e){e.V=Date.now()+e.O,Ed(e,e.O)}function Ed(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=id(_f(e.gb,e),t)}function Td(e){e.B&&(vf.clearTimeout(e.B),e.B=null)}function Cd(e){0==e.l.G||e.I||Qp(e.l,e)}function Ad(e){Td(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Vh(e.T),Hh(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Od(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||op(n.h,e)))if(!e.J&&op(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Hp(n),Fp(n)}Wp(n),nd(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=id(_f(n.cb,n),6e3));if(1>=ap(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else Yp(n,11)}else if((e.J||n.g==e)&&Hp(n),!Pf(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var u=a[4];null!=u&&(n.Ca=u,n.j.info("SVER="+n.Ca));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(up(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.za=h,jd(r.F,r.D,h))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var d=e;if((r=n).sa=Jp(r,r.H?r.ka:null,r.V),d.J){sp(r.h,d);var p=d,v=r.J;v&&p.setTimeout(v),p.B&&(Td(p),Id(p)),r.g=d}else qp(r);0<n.i.length&&Up(n)}else"stop"!=a[0]&&"close"!=a[0]||Yp(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Yp(n,7):Mp(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}ed()}catch(a){}}function Nd(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(yf(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(yf(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(yf(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(ff=vd.prototype).setTimeout=function(e){this.O=e},ff.ib=function(e){e=e.target;var t=this.L;t&&3==Op(e)?t.l():this.La(e)},ff.La=function(e){try{if(e==this.g)e:{var t=Op(this.g),n=this.g.Ea();this.g.aa();if(!(3>t)&&(3!=t||Bf||this.g&&(this.h.h||this.g.fa()||Np(this.g)))){this.I||4!=t||7==n||ed(),Td(this);var r=this.g.aa();this.Y=r;t:if(xd(this)){var i=Np(this.g);e="";var a=i.length,o=4==Op(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ad(this),Cd(this);var u="";break t}this.h.i=new vf.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,r),this.i){if(this.Z&&!this.J){t:{if(this.g){var s,c=this.g;if((s=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Pf(s)){var l=s;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,nd(12),Ad(this),Cd(this);break e}$h(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Od(this,r)}this.P?(_d(this,t,u),Bf&&this.i&&3==t&&(Gh(this.S,this.T,"tick",this.hb),this.T.start())):($h(this.j,this.m,u,null),Od(this,u)),4==t&&Ad(this),this.i&&!this.I&&(4==t?Qp(this.l,this):(this.i=!1,Id(this)))}else 400==r&&0<u.indexOf("Unknown SID")?(this.o=3,nd(12)):(this.o=0,nd(13)),Ad(this),Cd(this)}}}catch(t){}},ff.hb=function(){if(this.g){var e=Op(this.g),t=this.g.fa();this.C<t.length&&(Td(this),_d(this,e,t),this.i&&4!=e&&Id(this))}},ff.cancel=function(){this.I=!0,Ad(this)},ff.gb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(ed(),nd(17)),Ad(this),this.o=2,Cd(this)):Ed(this,this.V-e)};var Pd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Dd(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Dd){this.h=void 0!==t?t:e.h,Ld(this,e.j),this.s=e.s,this.g=e.g,Md(this,e.m),this.l=e.l,t=e.i;var n=new Qd;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Fd(this,n),this.o=e.o}else e&&(n=String(e).match(Pd))?(this.h=!!t,Ld(this,n[1]||"",!0),this.s=Vd(n[2]||""),this.g=Vd(n[3]||"",!0),Md(this,n[4]),this.l=Vd(n[5]||"",!0),Fd(this,n[6]||"",!0),this.o=Vd(n[7]||"")):(this.h=!!t,this.i=new Qd(null,this.h))}function Rd(e){return new Dd(e)}function Ld(e,t,n){e.j=n?Vd(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Md(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Fd(e,t,n){t instanceof Qd?(e.i=t,function(e,t){t&&!e.j&&($d(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Yd(this,t),Jd(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=zd(t,Gd)),e.i=new Qd(t,e.h))}function jd(e,t,n){e.i.set(t,n)}function Ud(e){return jd(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Vd(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function zd(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Bd),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Bd(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Dd.prototype.toString=function(){var e=[],t=this.j;t&&e.push(zd(t,qd,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(zd(t,qd,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(zd(n,"/"==n.charAt(0)?Kd:Wd,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",zd(n,Hd)),e.join("")};var qd=/[#\/\?@]/g,Wd=/[#\?:]/g,Kd=/[#\?]/g,Gd=/[#\?@]/g,Hd=/#/g;function Qd(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function $d(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Yd(e,t){$d(e),t=Zd(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Xd(e,t){return $d(e),t=Zd(e,t),e.g.has(t)}function Jd(e,t,n){Yd(e,t),0<n.length&&(e.i=null,e.g.set(Zd(e,t),Cf(n)),e.h+=n.length)}function Zd(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(ff=Qd.prototype).add=function(e,t){$d(this),this.i=null,e=Zd(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},ff.forEach=function(e,t){$d(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},ff.oa=function(){$d(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},ff.W=function(e){$d(this);var t=[];if("string"===typeof e)Xd(this,e)&&(t=t.concat(this.g.get(Zd(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},ff.set=function(e,t){return $d(this),this.i=null,Xd(this,e=Zd(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},ff.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},ff.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var ep=Tt((function e(t,n){It(this,e),this.h=t,this.g=n}));function tp(e){this.l=e||rp,vf.PerformanceNavigationTiming?e=0<(e=vf.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(vf.g&&vf.g.Ga&&vf.g.Ga()&&vf.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var np,rp=10;function ip(e){return!!e.h||!!e.g&&e.g.size>=e.j}function ap(e){return e.h?1:e.g?e.g.size:0}function op(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function up(e,t){e.g?e.g.add(t):e.h=t}function sp(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function cp(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Ct(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Cf(e.i)}function lp(){}function fp(){this.g=new lp}function hp(e,t,n){var r=n||"";try{Nd(e,(function(e,n){var i=e;gf(e)&&(i=Ch(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function dp(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function pp(e){this.l=e.ac||null,this.j=e.jb||!1}function vp(e,t){Ih.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=mp,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}tp.prototype.cancel=function(){if(this.i=cp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Ct(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},lp.prototype.stringify=function(e){return vf.JSON.stringify(e,void 0)},lp.prototype.parse=function(e){return vf.JSON.parse(e,void 0)},If(pp,ud),pp.prototype.g=function(){return new vp(this.l,this.j)},pp.prototype.i=(np={},function(){return np}),If(vp,Ih);var mp=0;function yp(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function gp(e){e.readyState=4,e.l=null,e.j=null,e.A=null,kp(e)}function kp(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(ff=vp.prototype).open=function(e,t){if(this.readyState!=mp)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,kp(this)},ff.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||vf).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},ff.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,gp(this)),this.readyState=mp},ff.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,kp(this)),this.g&&(this.readyState=3,kp(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof vf.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;yp(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},ff.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?gp(this):kp(this),3==this.readyState&&yp(this)}},ff.Va=function(e){this.g&&(this.response=this.responseText=e,gp(this))},ff.Ua=function(e){this.g&&(this.response=e,gp(this))},ff.ga=function(){this.g&&gp(this)},ff.setRequestHeader=function(e,t){this.v.append(e,t)},ff.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},ff.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(vp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var bp=vf.JSON.parse;function wp(e){Ih.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=xp,this.K=this.L=!1}If(wp,Ih);var xp="",_p=/^https?$/i,Sp=["POST","PUT"];function Ip(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Ep(e),Cp(e)}function Ep(e){e.D||(e.D=!0,Eh(e,"complete"),Eh(e,"error"))}function Tp(e){if(e.h&&"undefined"!=typeof pf&&(!e.C[1]||4!=Op(e)||2!=e.aa()))if(e.v&&4==Op(e))zh(e.Ha,0,e);else if(Eh(e,"readystatechange"),4==Op(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Pd)[1]||null;if(!a&&vf.self&&vf.self.location){var o=vf.self.location.protocol;a=o.substr(0,o.length-1)}i=!_p.test(a?a.toLowerCase():"")}t=i}if(t)Eh(e,"complete"),Eh(e,"success");else{e.m=6;try{var u=2<Op(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.aa()+"]",Ep(e)}}finally{Cp(e)}}}function Cp(e,t){if(e.g){Ap(e);var n=e.g,r=e.C[0]?mf:null;e.g=null,e.C=null,t||Eh(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Ap(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(vf.clearTimeout(e.A),e.A=null)}function Op(e){return e.g?e.g.readyState:0}function Np(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case xp:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(I){return null}}function Pp(e){var t="";return oh(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Dp(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Pp(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):jd(e,t,n))}function Rp(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Lp(e){this.Ca=0,this.i=[],this.j=new Qh,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Rp("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Rp("baseRetryDelayMs",5e3,e),this.bb=Rp("retryDelaySeedMs",1e4,e),this.$a=Rp("forwardChannelMaxRetries",2,e),this.ta=Rp("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new tp(e&&e.concurrentRequestLimit),this.Fa=new fp,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Mp(e){if(jp(e),3==e.G){var t=e.U++,n=Rd(e.F);jd(n,"SID",e.I),jd(n,"RID",t),jd(n,"TYPE","terminate"),zp(e,n),(t=new vd(e,e.j,t,void 0)).K=2,t.v=Ud(Rd(n)),n=!1,vf.navigator&&vf.navigator.sendBeacon&&(n=vf.navigator.sendBeacon(t.v.toString(),"")),!n&&vf.Image&&((new Image).src=t.v,n=!0),n||(t.g=Zp(t.l,null),t.g.da(t.v)),t.F=Date.now(),Id(t)}Xp(e)}function Fp(e){e.g&&(Kp(e),e.g.cancel(),e.g=null)}function jp(e){Fp(e),e.u&&(vf.clearTimeout(e.u),e.u=null),Hp(e),e.h.cancel(),e.m&&("number"===typeof e.m&&vf.clearTimeout(e.m),e.m=null)}function Up(e){ip(e.h)||e.m||(e.m=!0,Lh(e.Ja,e),e.C=0)}function Vp(e,t){var n;n=t?t.m:e.U++;var r=Rd(e.F);jd(r,"SID",e.I),jd(r,"RID",n),jd(r,"AID",e.T),zp(e,r),e.o&&e.s&&Dp(r,e.o,e.s),n=new vd(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=Bp(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),up(e.h,n),bd(n,r,t)}function zp(e,t){e.ia&&oh(e.ia,(function(e,n){jd(t,n,e)})),e.l&&Nd({},(function(e,n){jd(t,n,e)}))}function Bp(e,t,n){n=Math.min(e.i.length,n);var r=e.l?_f(e.l.Ra,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{hp(l,o,"req"+c+"_")}catch(B){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function qp(e){e.g||e.u||(e.Z=1,Lh(e.Ia,e),e.A=0)}function Wp(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=id(_f(e.Ia,e),$p(e,e.A)),e.A++,!0)}function Kp(e){null!=e.B&&(vf.clearTimeout(e.B),e.B=null)}function Gp(e){e.g=new vd(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=Rd(e.sa);jd(t,"RID","rpc"),jd(t,"SID",e.I),jd(t,"CI",e.L?"0":"1"),jd(t,"AID",e.T),jd(t,"TYPE","xmlhttp"),zp(e,t),e.o&&e.s&&Dp(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=Ud(Rd(t)),n.s=null,n.P=!0,wd(n,e)}function Hp(e){null!=e.v&&(vf.clearTimeout(e.v),e.v=null)}function Qp(e,t){var n=null;if(e.g==t){Hp(e),Kp(e),e.g=null;var r=2}else{if(!op(e.h,t))return;n=t.D,sp(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Eh(r=Jh(),new rd(r,n)),Up(e)}else qp(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(ap(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=id(_f(e.Ja,e,t),$p(e,e.C)),e.C++,!0))}(e,t)||2==r&&Wp(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:Yp(e,5);break;case 4:Yp(e,10);break;case 3:Yp(e,6);break;default:Yp(e,2)}}function $p(e,t){var n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function Yp(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=_f(e.kb,e);n||(n=new Dd("//www.google.com/images/cleardot.gif"),vf.location&&"http"==vf.location.protocol||Ld(n,"https"),Ud(n)),function(e,t){var n=new Qh;if(vf.Image){var r=new Image;r.onload=Sf(dp,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Sf(dp,n,r,"TestLoadImage: error",!1,t),r.onabort=Sf(dp,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Sf(dp,n,r,"TestLoadImage: timeout",!1,t),vf.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else nd(2);e.G=0,e.l&&e.l.va(t),Xp(e),jp(e)}function Xp(e){if(e.G=0,e.la=[],e.l){var t=cp(e.h);0==t.length&&0==e.i.length||(Af(e.la,t),Af(e.la,e.i),e.h.i.length=0,Cf(e.i),e.i.length=0),e.l.ua()}}function Jp(e,t,n){var r=n instanceof Dd?Rd(n):new Dd(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),Md(r,r.m);else{var i=vf.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new Dd(null,void 0);r&&Ld(a,r),t&&(a.g=t),i&&Md(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&jd(r,n,t),jd(r,"VER",e.ma),zp(e,r),r}function Zp(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new wp(new pp({jb:!0})):new wp(e.ra)).Ka(e.H),t}function ev(){}function tv(){if(Vf&&!(10<=Number(Zf)))throw Error("Environmental error: no available transport.")}function nv(e,t){Ih.call(this),this.g=new Lp(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!Pf(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Pf(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new av(this)}function rv(e){hd.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function iv(){dd.call(this),this.status=1}function av(e){this.g=e}(ff=wp.prototype).Ka=function(e){this.L=e},ff.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ld.g(),this.C=this.u?sd(this.u):sd(ld),this.g.onreadystatechange=_f(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){return void Ip(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=Ct(r.keys());try{for(o.s();!(a=o.n()).done;){var s=a.value;n.set(s,r.get(s))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=vf.FormData&&e instanceof vf.FormData,!(0<=Tf(Sp,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var c,l=Ct(n);try{for(l.s();!(c=l.n()).done;){var f=u(c.value,2),h=f[0],d=f[1];this.g.setRequestHeader(h,d)}}catch(p){l.e(p)}finally{l.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Ap(this),0<this.B&&((this.K=function(e){return Vf&&Xf()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=_f(this.qa,this)):this.A=zh(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Ip(this,s)}},ff.qa=function(){"undefined"!=typeof pf&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Eh(this,"timeout"),this.abort(8))},ff.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Eh(this,"complete"),Eh(this,"abort"),Cp(this))},ff.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Cp(this,!0)),wp.X.M.call(this)},ff.Ha=function(){this.s||(this.F||this.v||this.l?Tp(this):this.fb())},ff.fb=function(){Tp(this)},ff.aa=function(){try{return 2<Op(this)?this.g.status:-1}catch(np){return-1}},ff.fa=function(){try{return this.g?this.g.responseText:""}catch(np){return""}},ff.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),bp(t)}},ff.Ea=function(){return this.m},ff.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},(ff=Lp.prototype).ma=8,ff.G=1,ff.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new vd(this,this.j,e,void 0),n=this.s;if(this.S&&(n?ch(n=uh(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Bp(this,t,r),jd(i=Rd(this.F),"RID",e),jd(i,"CVER",22),this.D&&jd(i,"X-HTTP-Session-Id",this.D),zp(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(Pp(n)))+"&"+r:this.o&&Dp(i,this.o,n)),up(this.h,t),this.Ya&&jd(i,"TYPE","init"),this.O?(jd(i,"$req",r),jd(i,"SID","null"),t.Z=!0,bd(t,i,null)):bd(t,i,r),this.G=2}}else 3==this.G&&(e?Vp(this,e):0==this.i.length||ip(this.h)||Vp(this))},ff.Ia=function(){if(this.u=null,Gp(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=id(_f(this.eb,this),e)}},ff.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,nd(10),Fp(this),Gp(this))},ff.cb=function(){null!=this.v&&(this.v=null,Fp(this),Wp(this),nd(19))},ff.kb=function(e){e?(this.j.info("Successfully pinged google.com"),nd(2)):(this.j.info("Failed to ping google.com"),nd(1))},(ff=ev.prototype).xa=function(){},ff.wa=function(){},ff.va=function(){},ff.ua=function(){},ff.Ra=function(){},tv.prototype.g=function(e,t){return new nv(e,t)},If(nv,Ih),nv.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;nd(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=Jp(e,null,e.V),Up(e)},nv.prototype.close=function(){Mp(this.g)},nv.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Ch(e),e=n);t.i.push(new ep(t.ab++,e)),3==t.G&&Up(t)},nv.prototype.M=function(){this.g.l=null,delete this.j,Mp(this.g),delete this.g,nv.X.M.call(this)},If(rv,hd),If(iv,dd),If(av,ev),av.prototype.xa=function(){Eh(this.g,"a")},av.prototype.wa=function(e){Eh(this.g,new rv(e))},av.prototype.va=function(e){Eh(this.g,new iv)},av.prototype.ua=function(){Eh(this.g,"b")},tv.prototype.createWebChannel=tv.prototype.g,nv.prototype.send=nv.prototype.u,nv.prototype.open=nv.prototype.m,nv.prototype.close=nv.prototype.close,ad.NO_ERROR=0,ad.TIMEOUT=8,ad.HTTP_ERROR=6,od.COMPLETE="complete",cd.EventType=fd,fd.OPEN="a",fd.CLOSE="b",fd.ERROR="c",fd.MESSAGE="d",Ih.prototype.listen=Ih.prototype.N,wp.prototype.listenOnce=wp.prototype.O,wp.prototype.getLastError=wp.prototype.Oa,wp.prototype.getLastErrorCode=wp.prototype.Ea,wp.prototype.getStatus=wp.prototype.aa,wp.prototype.getResponseJson=wp.prototype.Sa,wp.prototype.getResponseText=wp.prototype.fa,wp.prototype.send=wp.prototype.da,wp.prototype.setWithCredentials=wp.prototype.Ka;var ov=df.createWebChannelTransport=function(){return new tv},uv=df.getStatEventTarget=function(){return Jh()},sv=df.ErrorCode=ad,cv=df.EventType=od,lv=df.Event=Yh,fv=df.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},hv=df.FetchXmlHttpFactory=pp,dv=df.WebChannel=cd,pv=df.XhrIo=wp,vv="@firebase/firestore",mv=function(){function e(t){It(this,e),this.uid=t}return Tt(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();mv.UNAUTHENTICATED=new mv(null),mv.GOOGLE_CREDENTIALS=new mv("google-credentials-uid"),mv.FIRST_PARTY=new mv("first-party-uid"),mv.MOCK_USER=new mv("mock-user");var yv="9.14.0",gv=new Pn("@firebase/firestore");function kv(){return gv.logLevel}function bv(e){if(gv.logLevel<=In.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(_v);gv.debug.apply(gv,["Firestore (".concat(yv,"): ").concat(e)].concat(gn(i)))}}function wv(e){if(gv.logLevel<=In.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(_v);gv.error.apply(gv,["Firestore (".concat(yv,"): ").concat(e)].concat(gn(i)))}}function xv(e){if(gv.logLevel<=In.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(_v);gv.warn.apply(gv,["Firestore (".concat(yv,"): ").concat(e)].concat(gn(i)))}}function _v(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Sv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(yv,") INTERNAL ASSERTION FAILED: ")+e;throw wv(t),new Error(t)}function Iv(e,t){e||Sv()}function Ev(e,t){return e}var Tv={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Cv=function(e){Nt(n,e);var t=Mt(n);function n(e,r){var i;return It(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return Tt(n)}(tn),Av=Tt((function e(){var t=this;It(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Ov=Tt((function e(t,n){It(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Nv=function(){function e(){It(this,e)}return Tt(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(mv.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Pv=function(){function e(t){It(this,e),this.token=t,this.changeListener=null}return Tt(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Dv=function(){function e(t){It(this,e),this.t=t,this.currentUser=mv.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Tt(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Av;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Av,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(bn(mn().mark((function e(){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){bv("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(bv("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Av)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(bv("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Iv("string"==typeof n.accessToken),new Ov(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Iv(null===e||"string"==typeof e),new mv(e)}}]),e}(),Rv=function(){function e(t,n,r,i){It(this,e),this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=mv.FIRST_PARTY,this.p=new Map}return Tt(e,[{key:"I",value:function(){return this.g?this.g():(Iv(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),Lv=function(){function e(t,n,r,i){It(this,e),this.h=t,this.l=n,this.m=r,this.g=i}return Tt(e,[{key:"getToken",value:function(){return Promise.resolve(new Rv(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(mv.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Mv=Tt((function e(t){It(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Fv=function(){function e(t){It(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return Tt(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&bv("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,bv("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){bv("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?i(e):bv("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Iv("string"==typeof t.token),e.A=t.token,new Mv(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function jv(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Uv=function(){function e(){It(this,e)}return Tt(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=jv(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Vv(e,t){return e<t?-1:e>t?1:0}function zv(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Bv(e){return e+"\0"}var qv=function(){function e(t,n){if(It(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Cv(Tv.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Cv(Tv.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Cv(Tv.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Cv(Tv.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Tt(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Vv(this.nanoseconds,e.nanoseconds):Vv(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Wv=function(){function e(t){It(this,e),this.timestamp=t}return Tt(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new qv(0,0))}},{key:"max",value:function(){return new e(new qv(253402300799,999999999))}}]),e}(),Kv=function(){function e(t,n,r){It(this,e),void 0===n?n=0:n>t.length&&Sv(),void 0===r?r=t.length-n:r>t.length-n&&Sv(),this.segments=t,this.offset=n,this.len=r}return Tt(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Gv=function(e){Nt(n,e);var t=Mt(n);function n(){return It(this,n),t.apply(this,arguments)}return Tt(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Cv(Tv.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,gn(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Kv),Hv=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Qv=function(e){Nt(n,e);var t=Mt(n);function n(){return It(this,n),t.apply(this,arguments)}return Tt(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Hv.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Cv(Tv.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Cv(Tv.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Cv(Tv.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Cv(Tv.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Kv),$v=function(){function e(t){It(this,e),this.path=t}return Tt(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Gv.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Gv.fromString(t))}},{key:"fromName",value:function(t){return new e(Gv.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Gv.emptyPath())}},{key:"comparator",value:function(e,t){return Gv.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Gv(t.slice()))}}]),e}(),Yv=Tt((function e(t,n,r,i){It(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Xv(e){return e.fields.find((function(e){return 2===e.kind}))}function Jv(e){return e.fields.filter((function(e){return 2!==e.kind}))}Yv.UNKNOWN_ID=-1;var Zv=Tt((function e(t,n){It(this,e),this.fieldPath=t,this.kind=n}));var em=function(){function e(t,n){It(this,e),this.sequenceNumber=t,this.offset=n}return Tt(e,null,[{key:"empty",value:function(){return new e(0,rm.min())}}]),e}();function tm(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Wv.fromTimestamp(1e9===r?new qv(n+1,0):new qv(n,r));return new rm(i,$v.empty(),t)}function nm(e){return new rm(e.readTime,e.key,-1)}var rm=function(){function e(t,n,r){It(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return Tt(e,null,[{key:"min",value:function(){return new e(Wv.min(),$v.empty(),-1)}},{key:"max",value:function(){return new e(Wv.max(),$v.empty(),-1)}}]),e}();function im(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=$v.comparator(e.documentKey,t.documentKey))?n:Vv(e.largestBatchId,t.largestBatchId)}var am="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",om=function(){function e(){It(this,e),this.onCommittedListeners=[]}return Tt(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function um(e){return sm.apply(this,arguments)}function sm(){return sm=bn(mn().mark((function e(t){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Tv.FAILED_PRECONDITION&&t.message===am){e.next=2;break}throw t;case 2:bv("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),sm.apply(this,arguments)}var cm=function(){function e(t){var n=this;It(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Tt(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Sv(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Ct(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(u){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u(s)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),lm=function(){function e(t,n){var r=this;It(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.P=new Av,this.transaction.oncomplete=function(){r.P.resolve()},this.transaction.onabort=function(){n.error?r.P.reject(new dm(t,n.error)):r.P.resolve()},this.transaction.onerror=function(e){var n=gm(e.target.error);r.P.reject(new dm(t,n))}}return Tt(e,[{key:"v",get:function(){return this.P.promise}},{key:"abort",value:function(e){e&&this.P.reject(e),this.aborted||(bv("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"V",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new vm(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new dm(n,t)}}}]),e}(),fm=function(){function e(t,n,r){It(this,e),this.name=t,this.version=n,this.S=r,12.2===e.D(Wt())&&wv("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return Tt(e,[{key:"F",value:function(){var e=bn(mn().mark((function e(t){var n=this;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return bv("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new dm(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Cv(Tv.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Cv(Tv.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new dm(t,n))},i.onupgradeneeded=function(e){bv("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.$(t,i.transaction,e.oldVersion,n.version).next((function(){bv("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.B&&(this.db.onversionchange=function(e){return n.B(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"L",value:function(e){this.B=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=bn(mn().mark((function e(t,n,r,i){var a,o,u,s,c,l=this;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(mn().mark((function e(){var n,o;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.F(t);case 2:return l.db=e.sent,n=lm.open(l.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.V(),e})).catch((function(e){return n.abort(e),cm.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.v;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s=e.t1,c="FirebaseError"!==s.name&&o<3,bv("SimpleDb","Transaction failed with error:",s.message,"Retrying:",c),this.close(),c){e.next=15;break}return e.abrupt("return",Promise.reject(s));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return bv("SimpleDb","Removing database:",e),mm(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"C",value:function(){if(!$t())return!1;if(e.N())return!0;var t=Wt(),n=e.D(t),r=0<n&&n<10,i=e.k(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"N",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/webchat",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.O)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"k",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),hm=function(){function e(t){It(this,e),this.U=t,this.q=!1,this.K=null}return Tt(e,[{key:"isDone",get:function(){return this.q}},{key:"G",get:function(){return this.K}},{key:"cursor",set:function(e){this.U=e}},{key:"done",value:function(){this.q=!0}},{key:"j",value:function(e){this.K=e}},{key:"delete",value:function(){return mm(this.U.delete())}}]),e}(),dm=function(e){Nt(n,e);var t=Mt(n);function n(e,r){var i;return It(this,n),(i=t.call(this,Tv.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return Tt(n)}(Cv);function pm(e){return"IndexedDbTransactionError"===e.name}var vm=function(){function e(t){It(this,e),this.store=t}return Tt(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(bv("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(bv("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),mm(n)}},{key:"add",value:function(e){return bv("SimpleDb","ADD",this.store.name,e,e),mm(this.store.add(e))}},{key:"get",value:function(e){var t=this;return mm(this.store.get(e)).next((function(n){return void 0===n&&(n=null),bv("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return bv("SimpleDb","DELETE",this.store.name,e),mm(this.store.delete(e))}},{key:"count",value:function(){return bv("SimpleDb","COUNT",this.store.name),mm(this.store.count())}},{key:"W",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.H(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new cm((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new cm((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Y",value:function(e,t){bv("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.X=!1;var r=this.cursor(n);return this.H(r,(function(e,t,n){return n.delete()}))}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.H(r,t)}},{key:"tt",value:function(e){var t=this.cursor({});return new cm((function(n,r){t.onerror=function(e){var t=gm(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"H",value:function(e,t){var n=[];return new cm((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new hm(i),o=t(i.primaryKey,i.value,a);if(o instanceof cm){var u=o.catch((function(e){return a.done(),cm.reject(e)}));n.push(u)}a.isDone?r():null===a.G?i.continue():i.continue(a.G)}else r()}})).next((function(){return cm.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.X?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function mm(e){return new cm((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=gm(e.target.error);n(t)}}))}var ym=!1;function gm(e){var t=fm.D(Wt());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Cv("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return ym||(ym=!0,setTimeout((function(){throw r}),0)),r}}return e}var km=function(){function e(t,n){It(this,e),this.asyncQueue=t,this.et=n,this.task=null}return Tt(e,[{key:"start",value:function(){this.nt(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"nt",value:function(e){var t=this;bv("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,bn(mn().mark((function e(){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=bv,e.t1="Documents written: ",e.next=6,t.et.st();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!pm(e.t4)){e.next=17;break}bv("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,um(e.t4);case 19:return e.next=21,t.nt(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),bm=function(){function e(t,n){It(this,e),this.localStore=t,this.persistence=n}return Tt(e,[{key:"st",value:function(){var e=bn(mn().mark((function e(){var t,n=this,r=arguments;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.it(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"it",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return cm.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return bv("IndexBackiller","Processing collection: ".concat(t)),n.rt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"rt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.ot(i,n)})).next((function(n){return bv("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"ot",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=nm(t);im(r,n)>0&&(n=r)})),new rm(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),wm=function(){function e(t,n){var r=this;It(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return Tt(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();function xm(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function _m(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Sm(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}wm.at=-1;var Im=function(){function e(t,n){It(this,e),this.comparator=t,this.root=n||Tm.EMPTY}return Tt(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Tm.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Tm.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Em(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Em(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Em(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Em(this.root,e,this.comparator,!0)}}]),e}(),Em=function(){function e(t,n,r,i){It(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Tt(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Tm=function(){function e(t,n,r,i,a){It(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Tt(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Sv();if(this.right.isRed())throw Sv();var e=this.left.check();if(e!==this.right.check())throw Sv();return e+(this.isRed()?0:1)}}]),e}();Tm.EMPTY=null,Tm.RED=!0,Tm.BLACK=!1,Tm.EMPTY=new(function(){function e(){It(this,e),this.size=0}return Tt(e,[{key:"key",get:function(){throw Sv()}},{key:"value",get:function(){throw Sv()}},{key:"color",get:function(){throw Sv()}},{key:"left",get:function(){throw Sv()}},{key:"right",get:function(){throw Sv()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Tm(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Cm=function(){function e(t){It(this,e),this.comparator=t,this.data=new Im(this.comparator)}return Tt(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Am(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Am(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Am=function(){function e(t){It(this,e),this.iter=t}return Tt(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Om(e){return e.hasNext()?e.getNext():void 0}var Nm=function(){function e(t){It(this,e),this.fields=t,t.sort(Qv.comparator)}return Tt(e,[{key:"unionWith",value:function(t){var n,r=new Cm(Qv.comparator),i=Ct(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=Ct(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=Ct(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return zv(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}();var Pm=function(e){function t(e){It(this,t),this.binaryString=e}return Tt(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Vv(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Pm.EMPTY_BYTE_STRING=new Pm("");var Dm=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rm(e){if(Iv(!!e),"string"==typeof e){var t=0,n=Dm.exec(e);if(Iv(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Lm(e.seconds),nanos:Lm(e.nanos)}}function Lm(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Mm(e){return"string"==typeof e?Pm.fromBase64String(e):Pm.fromUint8Array(e)}function Fm(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function jm(e){var t=e.mapValue.fields.__previous_value__;return Fm(t)?jm(t):t}function Um(e){var t=Rm(e.mapValue.fields.__local_write_time__.timestampValue);return new qv(t.seconds,t.nanos)}var Vm=Tt((function e(t,n,r,i,a,o,u,s){It(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),zm=function(){function e(t,n){It(this,e),this.projectId=t,this.database=n||"(default)"}return Tt(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function Bm(e){return null==e}function qm(e){return 0===e&&1/e==-1/0}function Wm(e){return"number"==typeof e&&Number.isInteger(e)&&!qm(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Km={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Gm={nullValue:"NULL_VALUE"};function Hm(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Fm(e)?4:uy(e)?9007199254740991:10:Sv()}function Qm(e,t){if(e===t)return!0;var n=Hm(e);if(n!==Hm(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Um(e).isEqual(Um(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Rm(e.timestampValue),r=Rm(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Mm(e.bytesValue).isEqual(Mm(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Lm(e.geoPointValue.latitude)===Lm(t.geoPointValue.latitude)&&Lm(e.geoPointValue.longitude)===Lm(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Lm(e.integerValue)===Lm(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Lm(e.doubleValue),r=Lm(t.doubleValue);return n===r?qm(n)===qm(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return zv(e.arrayValue.values||[],t.arrayValue.values||[],Qm);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(xm(n)!==xm(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Qm(n[i],r[i])))return!1;return!0}(e,t);default:return Sv()}}function $m(e,t){return void 0!==(e.values||[]).find((function(e){return Qm(e,t)}))}function Ym(e,t){if(e===t)return 0;var n=Hm(e),r=Hm(t);if(n!==r)return Vv(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Vv(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Lm(e.integerValue||e.doubleValue),r=Lm(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Xm(e.timestampValue,t.timestampValue);case 4:return Xm(Um(e),Um(t));case 5:return Vv(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Mm(e),r=Mm(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Vv(n[i],r[i]);if(0!==a)return a}return Vv(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Vv(Lm(e.latitude),Lm(t.latitude));return 0!==n?n:Vv(Lm(e.longitude),Lm(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Ym(n[i],r[i]);if(a)return a}return Vv(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Km.mapValue&&t===Km.mapValue)return 0;if(e===Km.mapValue)return 1;if(t===Km.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Vv(r[o],a[o]);if(0!==u)return u;var s=Ym(n[r[o]],i[a[o]]);if(0!==s)return s}return Vv(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Sv()}}function Xm(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Vv(e,t);var n=Rm(e),r=Rm(t),i=Vv(n.seconds,r.seconds);return 0!==i?i:Vv(n.nanos,r.nanos)}function Jm(e){return Zm(e)}function Zm(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Rm(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Mm(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,$v.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Ct(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Zm(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Ct(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Zm(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Sv();var t,n}function ey(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function ty(e){return!!e&&"integerValue"in e}function ny(e){return!!e&&"arrayValue"in e}function ry(e){return!!e&&"nullValue"in e}function iy(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ay(e){return!!e&&"mapValue"in e}function oy(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return _m(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=oy(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=oy(e.arrayValue.values[r]);return n}return Object.assign({},e)}function uy(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function sy(e){return"nullValue"in e?Gm:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?ey(zm.empty(),$v.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Sv()}function cy(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?ey(zm.empty(),$v.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Km:Sv()}function ly(e,t){var n=Ym(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function fy(e,t){var n=Ym(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var hy=function(){function e(t){It(this,e),this.value=t}return Tt(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!ay(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=oy(t)}},{key:"setAll",value:function(e){var t=this,n=Qv.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=oy(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());ay(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Qm(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];ay(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){_m(t,(function(t,n){return e[t]=n}));var r,i=Ct(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(oy(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function dy(e){var t=[];return _m(e.fields,(function(e,n){var r=new Qv([e]);if(ay(n)){var i=dy(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Ct(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new Nm(t)}var py=function(){function e(t,n,r,i,a,o){It(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return Tt(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=hy.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=hy.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Wv.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Wv.min(),Wv.min(),hy.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,Wv.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Wv.min(),hy.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Wv.min(),hy.empty(),2)}}]),e}(),vy=Tt((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;It(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ht=null}));function my(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new vy(e,t,n,r,i,a,o)}function yy(e){var t=Ev(e);if(null===t.ht){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+Jm(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Bm(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Jm(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Jm(e)})).join(",")),t.ht=n}return t.ht}function gy(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Ry(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Qm(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!My(e.startAt,t.startAt)&&My(e.endAt,t.endAt)}function ky(e){return $v.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function by(e,t){return e.filters.filter((function(e){return e instanceof _y&&e.field.isEqual(t)}))}function wy(e,t,n){var r,i=Gm,a=!0,o=Ct(by(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Gm,c=!0;switch(u.op){case"<":case"<=":s=sy(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=Gm}ly({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];ly({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function xy(e,t,n){var r,i=Km,a=!0,o=Ct(by(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Km,c=!0;switch(u.op){case">=":case">":s=cy(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=Km}fy({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];fy({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var _y=function(e){Nt(n,e);var t=Mt(n);function n(e,r,i){var a;return It(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Tt(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(Ym(t,this.value)):null!==t&&Hm(this.value)===Hm(t)&&this.ft(Ym(t,this.value))}},{key:"ft",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Sv()}}},{key:"dt",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new Sy(e,t,r):"array-contains"===t?new Cy(e,r):"in"===t?new Ay(e,r):"not-in"===t?new Oy(e,r):"array-contains-any"===t?new Ny(e,r):new n(e,t,r)}},{key:"lt",value:function(e,t,n){return"in"===t?new Iy(e,n):new Ey(e,n)}}]),n}(function(){return Tt((function e(){It(this,e)}))}()),Sy=function(e){Nt(n,e);var t=Mt(n);function n(e,r,i){var a;return It(this,n),(a=t.call(this,e,r,i)).key=$v.fromName(i.referenceValue),a}return Tt(n,[{key:"matches",value:function(e){var t=$v.comparator(e.key,this.key);return this.ft(t)}}]),n}(_y),Iy=function(e){Nt(n,e);var t=Mt(n);function n(e,r){var i;return It(this,n),(i=t.call(this,e,"in",r)).keys=Ty("in",r),i}return Tt(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(_y),Ey=function(e){Nt(n,e);var t=Mt(n);function n(e,r){var i;return It(this,n),(i=t.call(this,e,"not-in",r)).keys=Ty("not-in",r),i}return Tt(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(_y);function Ty(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return $v.fromName(e.referenceValue)}))}var Cy=function(e){Nt(n,e);var t=Mt(n);function n(e,r){return It(this,n),t.call(this,e,"array-contains",r)}return Tt(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return ny(t)&&$m(t.arrayValue,this.value)}}]),n}(_y),Ay=function(e){Nt(n,e);var t=Mt(n);function n(e,r){return It(this,n),t.call(this,e,"in",r)}return Tt(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&$m(this.value.arrayValue,t)}}]),n}(_y),Oy=function(e){Nt(n,e);var t=Mt(n);function n(e,r){return It(this,n),t.call(this,e,"not-in",r)}return Tt(n,[{key:"matches",value:function(e){if($m(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!$m(this.value.arrayValue,t)}}]),n}(_y),Ny=function(e){Nt(n,e);var t=Mt(n);function n(e,r){return It(this,n),t.call(this,e,"array-contains-any",r)}return Tt(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!ny(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return $m(t.value.arrayValue,e)}))}}]),n}(_y),Py=Tt((function e(t,n){It(this,e),this.position=t,this.inclusive=n})),Dy=Tt((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";It(this,e),this.field=t,this.dir=n}));function Ry(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Ly(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?$v.comparator($v.fromName(o.referenceValue),n.key):Ym(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function My(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Qm(e.position[n],t.position[n]))return!1;return!0}var Fy=Tt((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;It(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this._t=null,this.wt=null,this.startAt,this.endAt}));function jy(e,t,n,r,i,a,o,u){return new Fy(e,t,n,r,i,a,o,u)}function Uy(e){return new Fy(e)}function Vy(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function zy(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function By(e){var t,n=Ct(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.dt())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function qy(e){return null!==e.collectionGroup}function Wy(e){var t=Ev(e);if(null===t._t){t._t=[];var n=By(t),r=zy(t);if(null!==n&&null===r)n.isKeyField()||t._t.push(new Dy(n)),t._t.push(new Dy(Qv.keyField(),"asc"));else{var i,a=!1,o=Ct(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t._t.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t._t.push(new Dy(Qv.keyField(),s))}}}return t._t}function Ky(e){var t=Ev(e);if(!t.wt)if("F"===t.limitType)t.wt=my(t.path,t.collectionGroup,Wy(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Ct(Wy(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Dy(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new Py(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Py(t.startAt.position,t.startAt.inclusive):null;t.wt=my(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.wt}function Gy(e,t,n){return new Fy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Hy(e,t){return gy(Ky(e),Ky(t))&&e.limitType===t.limitType}function Qy(e){return"".concat(yy(Ky(e)),"|lt:").concat(e.limitType)}function $y(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Jm(t.value));var t})).join(", "),"]")),Bm(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Jm(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Jm(e)})).join(",")),"Target(".concat(t,")")}(Ky(e)),"; limitType=").concat(e.limitType,")")}function Yy(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):$v.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Ct(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Ct(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Ly(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Wy(e),t))&&!(e.endAt&&!function(e,t,n){var r=Ly(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Wy(e),t))}(e,t)}function Xy(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Jy(e){return function(t,n){var r,i=!1,a=Ct(Wy(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=Zy(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function Zy(e,t,n){var r=e.field.isKeyField()?$v.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Ym(r,i):Sv()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Sv()}}function eg(e,t){if(e.gt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qm(t)?"-0":t}}function tg(e){return{integerValue:""+e}}function ng(e,t){return Wm(t)?tg(t):eg(e,t)}var rg=Tt((function e(){It(this,e),this._=void 0}));function ig(e,t,n){return e instanceof ug?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof sg?cg(e,t):e instanceof lg?fg(e,t):function(e,t){var n=og(e,t),r=dg(n)+dg(e.yt);return ty(n)&&ty(e.yt)?tg(r):eg(e.It,r)}(e,t)}function ag(e,t,n){return e instanceof sg?cg(e,t):e instanceof lg?fg(e,t):n}function og(e,t){return e instanceof hg?ty(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var ug=function(e){Nt(n,e);var t=Mt(n);function n(){return It(this,n),t.apply(this,arguments)}return Tt(n)}(rg),sg=function(e){Nt(n,e);var t=Mt(n);function n(e){var r;return It(this,n),(r=t.call(this)).elements=e,r}return Tt(n)}(rg);function cg(e,t){var n,r=pg(t),i=Ct(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Qm(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var lg=function(e){Nt(n,e);var t=Mt(n);function n(e){var r;return It(this,n),(r=t.call(this)).elements=e,r}return Tt(n)}(rg);function fg(e,t){var n,r=pg(t),i=Ct(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Qm(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var hg=function(e){Nt(n,e);var t=Mt(n);function n(e,r){var i;return It(this,n),(i=t.call(this)).It=e,i.yt=r,i}return Tt(n)}(rg);function dg(e){return Lm(e.integerValue||e.doubleValue)}function pg(e){return ny(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var vg=Tt((function e(t,n){It(this,e),this.field=t,this.transform=n}));var mg=Tt((function e(t,n){It(this,e),this.version=t,this.transformResults=n})),yg=function(){function e(t,n){It(this,e),this.updateTime=t,this.exists=n}return Tt(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function gg(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var kg=Tt((function e(){It(this,e)}));function bg(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Pg(e.key,yg.none()):new Ig(e.key,e.data,yg.none());var n,r=e.data,i=hy.empty(),a=new Cm(Qv.comparator),o=Ct(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new Eg(e.key,i,new Nm(a.toArray()),yg.none())}function wg(e,t,n){e instanceof Ig?function(e,t,n){var r=e.value.clone(),i=Cg(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Eg?function(e,t,n){if(gg(e.precondition,t)){var r=Cg(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Tg(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function xg(e,t,n,r){return e instanceof Ig?function(e,t,n,r){if(!gg(e.precondition,t))return n;var i=e.value.clone(),a=Ag(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Eg?function(e,t,n,r){if(!gg(e.precondition,t))return n;var i=Ag(e.fieldTransforms,r,t),a=t.data;return a.setAll(Tg(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return gg(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function _g(e,t){var n,r=null,i=Ct(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=og(a.transform,o||null);null!=u&&(null===r&&(r=hy.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function Sg(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&zv(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof sg&&t instanceof sg||e instanceof lg&&t instanceof lg?zv(e.elements,t.elements,Qm):e instanceof hg&&t instanceof hg?Qm(e.yt,t.yt):e instanceof ug&&t instanceof ug}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Ig=function(e){Nt(n,e);var t=Mt(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return It(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Tt(n,[{key:"getFieldMask",value:function(){return null}}]),n}(kg),Eg=function(e){Nt(n,e);var t=Mt(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return It(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return Tt(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(kg);function Tg(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Cg(e,t,n){var r=new Map;Iv(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,ag(o,u,n[i]))}return r}function Ag(e,t,n){var r,i=new Map,a=Ct(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,ig(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Og,Ng,Pg=function(e){Nt(n,e);var t=Mt(n);function n(e,r){var i;return It(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Tt(n,[{key:"getFieldMask",value:function(){return null}}]),n}(kg),Dg=function(e){Nt(n,e);var t=Mt(n);function n(e,r){var i;return It(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Tt(n,[{key:"getFieldMask",value:function(){return null}}]),n}(kg),Rg=Tt((function e(t){It(this,e),this.count=t}));function Lg(e){switch(e){default:return Sv();case Tv.CANCELLED:case Tv.UNKNOWN:case Tv.DEADLINE_EXCEEDED:case Tv.RESOURCE_EXHAUSTED:case Tv.INTERNAL:case Tv.UNAVAILABLE:case Tv.UNAUTHENTICATED:return!1;case Tv.INVALID_ARGUMENT:case Tv.NOT_FOUND:case Tv.ALREADY_EXISTS:case Tv.PERMISSION_DENIED:case Tv.FAILED_PRECONDITION:case Tv.ABORTED:case Tv.OUT_OF_RANGE:case Tv.UNIMPLEMENTED:case Tv.DATA_LOSS:return!0}}function Mg(e){if(void 0===e)return wv("GRPC error has no .code"),Tv.UNKNOWN;switch(e){case Og.OK:return Tv.OK;case Og.CANCELLED:return Tv.CANCELLED;case Og.UNKNOWN:return Tv.UNKNOWN;case Og.DEADLINE_EXCEEDED:return Tv.DEADLINE_EXCEEDED;case Og.RESOURCE_EXHAUSTED:return Tv.RESOURCE_EXHAUSTED;case Og.INTERNAL:return Tv.INTERNAL;case Og.UNAVAILABLE:return Tv.UNAVAILABLE;case Og.UNAUTHENTICATED:return Tv.UNAUTHENTICATED;case Og.INVALID_ARGUMENT:return Tv.INVALID_ARGUMENT;case Og.NOT_FOUND:return Tv.NOT_FOUND;case Og.ALREADY_EXISTS:return Tv.ALREADY_EXISTS;case Og.PERMISSION_DENIED:return Tv.PERMISSION_DENIED;case Og.FAILED_PRECONDITION:return Tv.FAILED_PRECONDITION;case Og.ABORTED:return Tv.ABORTED;case Og.OUT_OF_RANGE:return Tv.OUT_OF_RANGE;case Og.UNIMPLEMENTED:return Tv.UNIMPLEMENTED;case Og.DATA_LOSS:return Tv.DATA_LOSS;default:return Sv()}}(Ng=Og||(Og={}))[Ng.OK=0]="OK",Ng[Ng.CANCELLED=1]="CANCELLED",Ng[Ng.UNKNOWN=2]="UNKNOWN",Ng[Ng.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ng[Ng.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ng[Ng.NOT_FOUND=5]="NOT_FOUND",Ng[Ng.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ng[Ng.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ng[Ng.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ng[Ng.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ng[Ng.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ng[Ng.ABORTED=10]="ABORTED",Ng[Ng.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ng[Ng.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ng[Ng.INTERNAL=13]="INTERNAL",Ng[Ng.UNAVAILABLE=14]="UNAVAILABLE",Ng[Ng.DATA_LOSS=15]="DATA_LOSS";var Fg=function(){function e(t,n){It(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return Tt(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Ct(n);try{for(i.s();!(r=i.n()).done;){var a=u(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(c){i.e(c)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){_m(this.inner,(function(t,n){var r,i=Ct(n);try{for(i.s();!(r=i.n()).done;){var a=u(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(c){i.e(c)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Sm(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),jg=new Im($v.comparator);function Ug(){return jg}var Vg=new Im($v.comparator);function zg(){for(var e=Vg,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function Bg(e){var t=Vg;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function qg(){return Kg()}function Wg(){return Kg()}function Kg(){return new Fg((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Gg=new Im($v.comparator),Hg=new Cm($v.comparator);function Qg(){for(var e=Hg,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var $g=new Cm(Vv);function Yg(){return $g}var Xg=function(){function e(t,n,r,i,a){It(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Tt(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,Jg.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(Wv.min(),i,Yg(),Ug(),Qg())}}]),e}(),Jg=function(){function e(t,n,r,i,a){It(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Tt(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,Qg(),Qg(),Qg())}}]),e}(),Zg=Tt((function e(t,n,r,i){It(this,e),this.Tt=t,this.removedTargetIds=n,this.key=r,this.Et=i})),ek=Tt((function e(t,n){It(this,e),this.targetId=t,this.At=n})),tk=Tt((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Pm.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;It(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),nk=function(){function e(){It(this,e),this.Rt=0,this.bt=ak(),this.Pt=Pm.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}return Tt(e,[{key:"current",get:function(){return this.vt}},{key:"resumeToken",get:function(){return this.Pt}},{key:"St",get:function(){return 0!==this.Rt}},{key:"Dt",get:function(){return this.Vt}},{key:"Ct",value:function(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}},{key:"xt",value:function(){var e=Qg(),t=Qg(),n=Qg();return this.bt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Sv()}})),new Jg(this.Pt,this.vt,e,t,n)}},{key:"Nt",value:function(){this.Vt=!1,this.bt=ak()}},{key:"kt",value:function(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}},{key:"Ot",value:function(e){this.Vt=!0,this.bt=this.bt.remove(e)}},{key:"Mt",value:function(){this.Rt+=1}},{key:"Ft",value:function(){this.Rt-=1}},{key:"$t",value:function(){this.Vt=!0,this.vt=!0}}]),e}(),rk=function(){function e(t){It(this,e),this.Bt=t,this.Lt=new Map,this.Ut=Ug(),this.qt=ik(),this.Kt=new Cm(Vv)}return Tt(e,[{key:"Gt",value:function(e){var t,n=Ct(e.Tt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Et&&e.Et.isFoundDocument()?this.Qt(r,e.Et):this.jt(r,e.key,e.Et)}}catch(u){n.e(u)}finally{n.f()}var i,a=Ct(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.jt(o,e.key,e.Et)}}catch(u){a.e(u)}finally{a.f()}}},{key:"Wt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.zt(n);switch(e.state){case 0:t.Ht(n)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||t.removeTarget(n);break;case 3:t.Ht(n)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:t.Ht(n)&&(t.Jt(n),r.Ct(e.resumeToken));break;default:Sv()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((function(e,r){n.Ht(r)&&t(r)}))}},{key:"Yt",value:function(e){var t=e.targetId,n=e.At.count,r=this.Xt(t);if(r){var i=r.target;if(ky(i))if(0===n){var a=new $v(i.path);this.jt(t,a,py.newNoDocument(a,Wv.min()))}else Iv(1===n);else this.Zt(t)!==n&&(this.Jt(t),this.Kt=this.Kt.add(t))}}},{key:"te",value:function(e){var t=this,n=new Map;this.Lt.forEach((function(r,i){var a=t.Xt(i);if(a){if(r.current&&ky(a.target)){var o=new $v(a.target.path);null!==t.Ut.get(o)||t.ee(i,o)||t.jt(i,o,py.newNoDocument(o,e))}r.Dt&&(n.set(i,r.xt()),r.Nt())}}));var r=Qg();this.qt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Xt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Ut.forEach((function(t,n){return n.setReadTime(e)}));var i=new Xg(e,n,this.Kt,this.Ut,r);return this.Ut=Ug(),this.qt=ik(),this.Kt=new Cm(Vv),i}},{key:"Qt",value:function(e,t){if(this.Ht(e)){var n=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,n),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}}},{key:"jt",value:function(e,t,n){if(this.Ht(e)){var r=this.zt(e);this.ee(e,t)?r.kt(t,1):r.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),n&&(this.Ut=this.Ut.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Lt.delete(e)}},{key:"Zt",value:function(e){var t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Mt",value:function(e){this.zt(e).Mt()}},{key:"zt",value:function(e){var t=this.Lt.get(e);return t||(t=new nk,this.Lt.set(e,t)),t}},{key:"ne",value:function(e){var t=this.qt.get(e);return t||(t=new Cm(Vv),this.qt=this.qt.insert(e,t)),t}},{key:"Ht",value:function(e){var t=null!==this.Xt(e);return t||bv("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Xt",value:function(e){var t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}},{key:"Jt",value:function(e){var t=this;this.Lt.set(e,new nk),this.Bt.getRemoteKeysForTarget(e).forEach((function(n){t.jt(e,n,null)}))}},{key:"ee",value:function(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}]),e}();function ik(){return new Im($v.comparator)}function ak(){return new Im($v.comparator)}var ok={asc:"ASCENDING",desc:"DESCENDING"},uk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sk=Tt((function e(t,n){It(this,e),this.databaseId=t,this.gt=n}));function ck(e,t){return e.gt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function lk(e,t){return e.gt?t.toBase64():t.toUint8Array()}function fk(e,t){return ck(e,t.toTimestamp())}function hk(e){return Iv(!!e),Wv.fromTimestamp(function(e){var t=Rm(e);return new qv(t.seconds,t.nanos)}(e))}function dk(e,t){return function(e){return new Gv(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function pk(e){var t=Gv.fromString(e);return Iv(Fk(t)),t}function vk(e,t){return dk(e.databaseId,t.path)}function mk(e,t){var n=pk(t);if(n.get(1)!==e.databaseId.projectId)throw new Cv(Tv.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Cv(Tv.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new $v(bk(n))}function yk(e,t){return dk(e.databaseId,t)}function gk(e){var t=pk(e);return 4===t.length?Gv.emptyPath():bk(t)}function kk(e){return new Gv(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function bk(e){return Iv(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function wk(e,t,n){return{name:vk(e,t),fields:n.value.mapValue.fields}}function xk(e,t,n){var r=mk(e,t.name),i=hk(t.updateTime),a=new hy({mapValue:{fields:t.fields}}),o=py.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function _k(e,t){return"found"in t?function(e,t){Iv(!!t.found),t.found.name,t.found.updateTime;var n=mk(e,t.found.name),r=hk(t.found.updateTime),i=new hy({mapValue:{fields:t.found.fields}});return py.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Iv(!!t.missing),Iv(!!t.readTime);var n=mk(e,t.missing),r=hk(t.readTime);return py.newNoDocument(n,r)}(e,t):Sv()}function Sk(e,t){var n;if(t instanceof Ig)n={update:wk(e,t.key,t.value)};else if(t instanceof Pg)n={delete:vk(e,t.key)};else if(t instanceof Eg)n={update:wk(e,t.key,t.data),updateMask:Mk(t.fieldMask)};else{if(!(t instanceof Dg))return Sv();n={verify:vk(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof ug)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof sg)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof lg)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof hg)return{fieldPath:t.field.canonicalString(),increment:n.yt};throw Sv()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:fk(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Sv()}(e,t.precondition)),n}function Ik(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?yg.updateTime(hk(e.updateTime)):void 0!==e.exists?yg.exists(e.exists):yg.none()}(t.currentDocument):yg.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Iv("REQUEST_TIME"===t.setToServerValue),n=new ug;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new sg(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new lg(i)}else"increment"in t?n=new hg(e,t.increment):Sv();var a=Qv.fromServerFormat(t.fieldPath);return new vg(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=mk(e,t.update.name),a=new hy({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Nm(t.map((function(e){return Qv.fromServerFormat(e)})))}(t.updateMask);return new Eg(i,a,o,n,r)}return new Ig(i,a,n,r)}if(t.delete){var u=mk(e,t.delete);return new Pg(u,n)}if(t.verify){var s=mk(e,t.verify);return new Dg(s,n)}return Sv()}function Ek(e,t){return{documents:[yk(e,t.path)]}}function Tk(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=yk(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=yk(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(iy(e.value))return{unaryFilter:{field:Pk(e.field),op:"IS_NAN"}};if(ry(e.value))return{unaryFilter:{field:Pk(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(iy(e.value))return{unaryFilter:{field:Pk(e.field),op:"IS_NOT_NAN"}};if(ry(e.value))return{unaryFilter:{field:Pk(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pk(e.field),op:Nk(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Pk(e.field),direction:Ok(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.gt||Bm(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Ck(e){var t=gk(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Iv(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=Ak(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new Dy(Dk(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return Bm(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Py(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Py(n,t)}(n.endAt)),jy(t,i,u,o,s,"F",c,l)}function Ak(e){return e?void 0!==e.unaryFilter?[Lk(e)]:void 0!==e.fieldFilter?[Rk(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Ak(e)})).reduce((function(e,t){return e.concat(t)})):Sv():[]}function Ok(e){return ok[e]}function Nk(e){return uk[e]}function Pk(e){return{fieldPath:e.canonicalString()}}function Dk(e){return Qv.fromServerFormat(e.fieldPath)}function Rk(e){return _y.create(Dk(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Sv()}}(e.fieldFilter.op),e.fieldFilter.value)}function Lk(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Dk(e.unaryFilter.field);return _y.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Dk(e.unaryFilter.field);return _y.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Dk(e.unaryFilter.field);return _y.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Dk(e.unaryFilter.field);return _y.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Sv()}}function Mk(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Fk(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function jk(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Vk(t)),t=Uk(e.get(n),t);return Vk(t)}function Uk(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Vk(e){return e+"\x01\x01"}function zk(e){var t=e.length;if(Iv(t>=2),2===t)return Iv("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Gv.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Sv(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Sv()}a=o+2}return new Gv(r)}var Bk=["userId","batchId"];function qk(e,t){return[e,jk(t)]}function Wk(e,t,n){return[e,jk(t),n]}var Kk={},Gk=["prefixPath","collectionGroup","readTime","documentId"],Hk=["prefixPath","collectionGroup","documentId"],Qk=["collectionGroup","readTime","prefixPath","documentId"],$k=["canonicalId","targetId"],Yk=["targetId","path"],Xk=["path","targetId"],Jk=["collectionId","parent"],Zk=["indexId","uid"],eb=["uid","sequenceNumber"],tb=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],nb=["indexId","uid","orderedDocumentKey"],rb=["userId","collectionPath","documentId"],ib=["userId","collectionPath","largestBatchId"],ab=["userId","collectionGroup","largestBatchId"],ob=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),ub=[].concat(gn(ob),["documentOverlays"]),sb=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],cb=sb,lb=[].concat(cb,["indexConfiguration","indexState","indexEntries"]),fb=function(e){Nt(n,e);var t=Mt(n);function n(e,r){var i;return It(this,n),(i=t.call(this)).ie=e,i.currentSequenceNumber=r,i}return Tt(n)}(om);function hb(e,t){var n=Ev(e);return fm.M(n.ie,t)}var db=function(){function e(t,n,r,i){It(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Tt(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&wg(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=Ct(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=xg(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=Ct(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=xg(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Wg();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=bg(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(Wv.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Qg())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&zv(this.mutations,e.mutations,(function(e,t){return Sg(e,t)}))&&zv(this.baseMutations,e.baseMutations,(function(e,t){return Sg(e,t)}))}}]),e}(),pb=function(){function e(t,n,r,i){It(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Tt(e,null,[{key:"from",value:function(t,n,r){Iv(t.mutations.length===r.length);for(var i=Gg,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),vb=function(){function e(t,n){It(this,e),this.largestBatchId=t,this.mutation=n}return Tt(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),mb=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Wv.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Wv.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Pm.EMPTY_BYTE_STRING;It(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return Tt(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),yb=Tt((function e(t){It(this,e),this.re=t}));function gb(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:kb(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:vk(e,t.key),fields:t.data.value.mapValue.fields,updateTime:ck(e,t.version.toTimestamp())}}(e.re,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:bb(t.version)};else{if(!t.isUnknownDocument())return Sv();r.unknownDocument={path:n.path.toArray(),version:bb(t.version)}}return r}function kb(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function bb(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function wb(e){var t=new qv(e.seconds,e.nanoseconds);return Wv.fromTimestamp(t)}function xb(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Ik(e.re,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Ik(e.re,t)})),u=qv.fromMillis(t.localWriteTimeMs);return new db(t.batchId,u,n,o)}function _b(e){var t,n,r=wb(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?wb(e.lastLimboFreeSnapshotVersion):Wv.min();return void 0!==e.query.documents?(Iv(1===(n=e.query).documents.length),t=Ky(Uy(gk(n.documents[0])))):t=function(e){return Ky(Ck(e))}(e.query),new mb(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Pm.fromBase64String(e.resumeToken))}function Sb(e,t){var n,r=bb(t.snapshotVersion),i=bb(t.lastLimboFreeSnapshotVersion);n=ky(t.target)?Ek(e.re,t.target):Tk(e.re,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:yy(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function Ib(e){var t=Ck({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Gy(t,t.limit,"L"):t}function Eb(e,t){return new vb(t.largestBatchId,Ik(e.re,t.overlayMutation))}function Tb(e,t){var n=t.path.lastSegment();return[e,jk(t.path.popLast()),n]}function Cb(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:bb(r.readTime),documentKey:jk(r.documentKey.path),largestBatchId:r.largestBatchId}}var Ab=function(){function e(){It(this,e)}return Tt(e,[{key:"getBundleMetadata",value:function(e,t){return Ob(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:wb(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return Ob(e).put({bundleId:(n=t).id,createTime:bb(hk(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Nb(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Ib(t.bundledQuery),readTime:wb(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Nb(e).put(function(e){return{name:e.name,readTime:bb(hk(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Ob(e){return hb(e,"bundles")}function Nb(e){return hb(e,"namedQueries")}var Pb=function(){function e(t,n){It(this,e),this.It=t,this.userId=n}return Tt(e,[{key:"getOverlay",value:function(e,t){var n=this;return Db(e).get(Tb(this.userId,t)).next((function(e){return e?Eb(n.It,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=qg();return cm.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new vb(t,a);i.push(r.ue(e,o))})),cm.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(jk(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(Db(e).Y("collectionPathOverlayIndex",i))})),cm.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=qg(),a=jk(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Db(e).W("collectionPathOverlayIndex",o).next((function(e){var t,n=Ct(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=Eb(r.It,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=qg(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Db(e).Z({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=Eb(a.It,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"ue",value:function(e,t){return Db(e).put(function(e,t,n){var r=u(Tb(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Sk(e.re,n.mutation)}}(this.It,this.userId,t))}}],[{key:"oe",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function Db(e){return hb(e,"documentOverlays")}var Rb=function(){function e(){It(this,e)}return Tt(e,[{key:"ce",value:function(e,t){this.ae(e,t),t.he()}},{key:"ae",value:function(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(Lm(e.integerValue));else if("doubleValue"in e){var n=Lm(e.doubleValue);isNaN(n)?this.le(t,13):(this.le(t,15),qm(n)?t.fe(0):t.fe(n))}else if("timestampValue"in e){var r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de("".concat(r.seconds||"")),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(Mm(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.le(t,45),t.fe(i.latitude||0),t.fe(i.longitude||0)}else"mapValue"in e?uy(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):Sv()}},{key:"_e",value:function(e,t){this.le(t,25),this.Ie(e,t)}},{key:"Ie",value:function(e,t){t.de(e)}},{key:"ye",value:function(e,t){var n=e.fields||{};this.le(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this._e(a,t),this.ae(n[a],t)}}},{key:"pe",value:function(e,t){var n=e.values||[];this.le(t,50);var r,i=Ct(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.ae(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ge",value:function(e,t){var n=this;this.le(t,37),$v.fromName(e).path.forEach((function(e){n.le(t,60),n.Ie(e,t)}))}},{key:"le",value:function(e,t){e.fe(t)}},{key:"we",value:function(e){e.fe(2)}}]),e}();function Lb(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Mb(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=Lb(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Rb.Te=new Rb;var Fb=function(){function e(){It(this,e),this.buffer=new Uint8Array(1024),this.position=0}return Tt(e,[{key:"Ee",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ae(n.value),n=t.next();this.Re()}},{key:"be",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Pe(n.value),n=t.next();this.ve()}},{key:"Ve",value:function(e){var t,n=Ct(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{var a=r.codePointAt(0);this.Ae(240|a>>>18),this.Ae(128|63&a>>>12),this.Ae(128|63&a>>>6),this.Ae(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Re()}},{key:"Se",value:function(e){var t,n=Ct(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Pe(i);else if(i<2048)this.Pe(960|i>>>6),this.Pe(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Pe(480|i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i);else{var a=r.codePointAt(0);this.Pe(240|a>>>18),this.Pe(128|63&a>>>12),this.Pe(128|63&a>>>6),this.Pe(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ve()}},{key:"De",value:function(e){var t=this.Ce(e),n=Mb(t);this.xe(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Ne",value:function(e){var t=this.Ce(e),n=Mb(t);this.xe(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"ke",value:function(){this.Oe(255),this.Oe(255)}},{key:"Me",value:function(){this.Fe(255),this.Fe(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"$e",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ce",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ae",value:function(e){var t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}},{key:"Pe",value:function(e){var t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}},{key:"Re",value:function(){this.Oe(0),this.Oe(1)}},{key:"ve",value:function(){this.Fe(0),this.Fe(1)}},{key:"Oe",value:function(e){this.xe(1),this.buffer[this.position++]=e}},{key:"Fe",value:function(e){this.xe(1),this.buffer[this.position++]=~e}},{key:"xe",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),jb=function(){function e(t){It(this,e),this.Be=t}return Tt(e,[{key:"me",value:function(e){this.Be.Ee(e)}},{key:"de",value:function(e){this.Be.Ve(e)}},{key:"fe",value:function(e){this.Be.De(e)}},{key:"he",value:function(){this.Be.ke()}}]),e}(),Ub=function(){function e(t){It(this,e),this.Be=t}return Tt(e,[{key:"me",value:function(e){this.Be.be(e)}},{key:"de",value:function(e){this.Be.Se(e)}},{key:"fe",value:function(e){this.Be.Ne(e)}},{key:"he",value:function(){this.Be.Me()}}]),e}(),Vb=function(){function e(){It(this,e),this.Be=new Fb,this.Le=new jb(this.Be),this.Ue=new Ub(this.Be)}return Tt(e,[{key:"seed",value:function(e){this.Be.seed(e)}},{key:"qe",value:function(e){return 0===e?this.Le:this.Ue}},{key:"$e",value:function(){return this.Be.$e()}},{key:"reset",value:function(){this.Be.reset()}}]),e}(),zb=function(){function e(t,n,r,i){It(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return Tt(e,[{key:"Ke",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function Bb(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=qb(e.arrayValue,t.arrayValue))?n:0!==(n=qb(e.directionalValue,t.directionalValue))?n:$v.comparator(e.documentKey,t.documentKey)}function qb(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var Wb=function(){function e(t){It(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ge=t.orderBy,this.Qe=[];var n,r=Ct(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.dt()?this.je=i:this.Qe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return Tt(e,[{key:"We",value:function(e){var t=Xv(e);if(void 0!==t&&!this.ze(t))return!1;for(var n=Jv(e),r=0,i=0;r<n.length&&this.ze(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.je){var a=n[r];if(!this.He(this.je,a)||!this.Je(this.Ge[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ge.length||!this.Je(this.Ge[i++],o))return!1}return!0}},{key:"ze",value:function(e){var t,n=Ct(this.Qe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.He(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"He",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Je",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),Kb=function(){function e(){It(this,e),this.Ye=new Gb}return Tt(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Ye.add(t),cm.resolve()}},{key:"getCollectionParents",value:function(e,t){return cm.resolve(this.Ye.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return cm.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return cm.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return cm.resolve(null)}},{key:"getIndexType",value:function(e,t){return cm.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return cm.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return cm.resolve(null)}},{key:"getMinOffset",value:function(e,t){return cm.resolve(rm.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return cm.resolve(rm.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return cm.resolve()}},{key:"updateIndexEntries",value:function(e,t){return cm.resolve()}}]),e}(),Gb=function(){function e(){It(this,e),this.index={}}return Tt(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Cm(Gv.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Cm(Gv.comparator)).toArray()}}]),e}(),Hb=new Uint8Array(0),Qb=function(){function e(t,n){It(this,e),this.user=t,this.databaseId=n,this.Xe=new Gb,this.Ze=new Fg((function(e){return yy(e)}),(function(e,t){return gy(e,t)})),this.uid=t.uid||""}return Tt(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Xe.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Xe.add(t)}));var a={collectionId:r,parent:jk(i)};return $b(e).put(a)}return cm.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Bv(t),""],!1,!0);return $b(e).W(r).next((function(e){var r,i=Ct(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(zk(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=Xb(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=Jb(e);return a.next((function(e){o.put(Cb(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=Xb(e),r=Jb(e),i=Yb(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=Yb(e),i=!0,a=new Map;return cm.forEach(this.tn(t),(function(t){return n.en(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=Qg(),o=[];return cm.forEach(a,(function(i,a){var u;bv("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(yy(t)));var s=function(e,t){var n=Xv(t);if(void 0===n)return null;var r,i=Ct(by(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=Ct(Jv(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=Ct(by(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=Ct(Jv(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?wy(e,o.fieldPath,e.startAt):xy(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Py(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=Ct(Jv(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?xy(e,o.fieldPath,e.endAt):wy(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Py(r,i)}(a,i),h=n.nn(i,a,l),d=n.nn(i,a,f),p=n.sn(i,a,c),v=n.rn(i.indexId,s,h,l.inclusive,d,f.inclusive,p);return cm.forEach(v,(function(n){return r.J(n,t.limit).next((function(t){t.forEach((function(t){var n=$v.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return cm.resolve(null)}))}},{key:"tn",value:function(e){var t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}},{key:"rn",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.on(t[s/c]):Hb,h=u.un(e,f,n[s%c],r),d=u.cn(e,f,i[s%c],a),p=o.map((function(t){return u.un(e,f,t,!0)}));l.push.apply(l,gn(u.createRange(h,d,p)))},h=0;h<s;++h)f(h);return l}},{key:"un",value:function(e,t,n,r){var i=new zb(e,$v.empty(),t,n);return r?i:i.Ke()}},{key:"cn",value:function(e,t,n,r){var i=new zb(e,$v.empty(),t,n);return r?i.Ke():i}},{key:"en",value:function(e,t){var n=new Wb(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=Ct(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.We(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2;return cm.forEach(this.tn(t),(function(t){return n.en(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new Cm(Qv.comparator),r=!1,i=Ct(e.filters);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.field.isKeyField()||("array-contains"===a.op||"array-contains-any"===a.op?r=!0:n=n.add(a.field))}}catch(c){i.e(c)}finally{i.f()}var o,u=Ct(e.orderBy);try{for(u.s();!(o=u.n()).done;){var s=o.value;s.field.isKeyField()||(n=n.add(s.field))}}catch(c){u.e(c)}finally{u.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return r}))}},{key:"an",value:function(e,t){var n,r=new Vb,i=Ct(Jv(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.qe(a.kind);Rb.Te.ce(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.$e()}},{key:"on",value:function(e){var t=new Vb;return Rb.Te.ce(e,t.qe(0)),t.$e()}},{key:"hn",value:function(e,t){var n=new Vb;return Rb.Te.ce(ey(this.databaseId,t),n.qe(function(e){var t=Jv(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.$e()}},{key:"sn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new Vb);var i,a=0,o=Ct(Jv(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=Ct(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.ln(t,s.fieldPath)&&ny(c))r=this.fn(r,s,c);else{var h=f.qe(s.kind);Rb.Te.ce(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.dn(r)}},{key:"nn",value:function(e,t,n){return this.sn(e,t,n.position)}},{key:"dn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].$e();return t}},{key:"fn",value:function(e,t,n){var r,i=gn(e),a=[],o=Ct(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=Ct(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new Vb;f.seed(l.$e()),Rb.Te.ce(s,f.qe(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"ln",value:function(e,t){return!!e.filters.find((function(e){return e instanceof _y&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=Xb(e),i=Jb(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next((function(e){var t=[];return cm.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new em(t.sequenceNumber,new rm(wb(t.readTime),new $v(zk(t.documentKey)),t.largestBatchId)):em.empty(),r=e.fields.map((function(e){var t=u(e,2),n=t[0],r=t[1];return new Zv(Qv.fromServerFormat(n),r)}));return new Yv(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Vv(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=Xb(e),a=Jb(e);return this._n(e).next((function(e){return i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return cm.forEach(t,(function(t){return a.put(Cb(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return cm.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?cm.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),cm.forEach(a,(function(r){return n.wn(e,t,r).next((function(t){var a=n.mn(i,r);return t.isEqual(a)?cm.resolve():n.gn(e,i,r,t,a)}))}))}))}))}},{key:"yn",value:function(e,t,n,r){return Yb(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.hn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"pn",value:function(e,t,n,r){return Yb(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.hn(n,t.key),t.key.path.toArray()])}},{key:"wn",value:function(e,t,n){var r=Yb(e),i=new Cm(Bb);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.hn(n,t)])},(function(e,r){i=i.add(new zb(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"mn",value:function(e,t){var n=new Cm(Bb),r=this.an(t,e);if(null==r)return n;var i=Xv(t);if(null!=i){var a=e.data.field(i.fieldPath);if(ny(a)){var o,u=Ct(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new zb(t.indexId,e.key,this.on(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new zb(t.indexId,e.key,Hb,r));return n}},{key:"gn",value:function(e,t,n,r,i){var a=this;bv("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=Om(a),s=Om(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=Om(o)):l?(i(u),u=Om(a)):(u=Om(a),s=Om(o))}}(r,i,Bb,(function(r){o.push(a.yn(e,t,n,r))}),(function(r){o.push(a.pn(e,t,n,r))})),cm.waitFor(o)}},{key:"_n",value:function(e){var t=1;return Jb(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return Bb(e,t)})).filter((function(e,t,n){return!t||0!==Bb(e,n[t-1])}));var r=[];r.push(e);var i,a=Ct(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=Bb(o,e),s=Bb(o,t);if(0===u)r[0]=e.Ke();else if(u>0&&s<0)r.push(o),r.push(o.Ke());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,Hb,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,Hb,[]]));return c}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(Zb)}},{key:"getMinOffset",value:function(e,t){var n=this;return cm.mapArray(this.tn(t),(function(t){return n.en(e,t).next((function(e){return e||Sv()}))})).next(Zb)}}]),e}();function $b(e){return hb(e,"collectionParents")}function Yb(e){return hb(e,"indexEntries")}function Xb(e){return hb(e,"indexConfiguration")}function Jb(e){return hb(e,"indexState")}function Zb(e){Iv(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;im(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new rm(t.readTime,t.documentKey,n)}var ew={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tw=function(){function e(t,n,r){It(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Tt(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function nw(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Z({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){Iv(1===u)})));var c,l=[],f=Ct(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=Wk(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return cm.waitFor(a).next((function(){return l}))}function rw(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Sv();t=e.noDocument}return JSON.stringify(t).length}tw.DEFAULT_COLLECTION_PERCENTILE=10,tw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tw.DEFAULT=new tw(41943040,tw.DEFAULT_COLLECTION_PERCENTILE,tw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tw.DISABLED=new tw(-1,0,0);var iw=function(){function e(t,n,r,i){It(this,e),this.userId=t,this.It=n,this.indexManager=r,this.referenceDelegate=i,this.In={}}return Tt(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ow(e).Z({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=uw(e),o=ow(e);return o.add({}).next((function(u){Iv("number"==typeof u);var s,c=new db(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Sk(e.re,t)})),i=n.mutations.map((function(t){return Sk(e.re,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.It,i.userId,c),f=[],h=new Cm((function(e,t){return Vv(e.canonicalString(),t.canonicalString())})),d=Ct(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=Wk(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,Kk))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.In[u]=c.keys()})),cm.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return ow(e).get(t).next((function(e){return e?(Iv(e.userId===n.userId),xb(n.It,e)):null}))}},{key:"Tn",value:function(e,t){var n=this;return this.In[t]?cm.resolve(this.In[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.In[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return ow(e).Z({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Iv(t.batchId>=r),a=xb(n.It,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return ow(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ow(e).W("userMutationsIndex",n).next((function(e){return e.map((function(e){return xb(t.It,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=qk(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return uw(e).Z({range:i},(function(r,i,o){var s=u(r,3),c=s[0],l=s[1],f=s[2],h=zk(l);if(c===n.userId&&t.path.isEqual(h))return ow(e).get(f).next((function(e){if(!e)throw Sv();Iv(e.userId===n.userId),a.push(xb(n.It,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Cm(Vv),i=[];return t.forEach((function(t){var a=qk(n.userId,t.path),o=IDBKeyRange.lowerBound(a),s=uw(e).Z({range:o},(function(e,i,a){var o=u(e,3),s=o[0],c=o[1],l=o[2],f=zk(c);s===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(s)})),cm.waitFor(i).next((function(){return n.En(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=qk(this.userId,r),o=IDBKeyRange.lowerBound(a),s=new Cm(Vv);return uw(e).Z({range:o},(function(e,t,a){var o=u(e,3),c=o[0],l=o[1],f=o[2],h=zk(l);c===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(f)):a.done()})).next((function(){return n.En(e,s)}))}},{key:"En",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(ow(e).get(t).next((function(e){if(null===e)throw Sv();Iv(e.userId===n.userId),r.push(xb(n.It,e))})))})),cm.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return nw(e.ie,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.An(t.batchId)})),cm.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"An",value:function(e){delete this.In[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return cm.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return uw(e).Z({range:r},(function(e,n,r){if(e[0]===t.userId){var a=zk(e[1]);i.push(a)}else r.done()})).next((function(){Iv(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return aw(e,this.userId,t)}},{key:"Rn",value:function(e){var t=this;return sw(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"oe",value:function(t,n,r,i){return Iv(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function aw(e,t,n){var r=qk(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return uw(e).Z({range:a,X:!0},(function(e,n,r){var a=u(e,3),s=a[0],c=a[1];a[2];s===t&&c===i&&(o=!0),r.done()})).next((function(){return o}))}function ow(e){return hb(e,"mutations")}function uw(e){return hb(e,"documentMutations")}function sw(e){return hb(e,"mutationQueues")}var cw=function(){function e(t){It(this,e),this.bn=t}return Tt(e,[{key:"next",value:function(){return this.bn+=2,this.bn}}],[{key:"Pn",value:function(){return new e(0)}},{key:"vn",value:function(){return new e(-1)}}]),e}(),lw=function(){function e(t,n){It(this,e),this.referenceDelegate=t,this.It=n}return Tt(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Vn(e).next((function(n){var r=new cw(n.highestTargetId);return n.highestTargetId=r.next(),t.Sn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Vn(e).next((function(e){return Wv.fromTimestamp(new qv(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Vn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Vn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Sn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Dn(e,t).next((function(){return n.Vn(e).next((function(r){return r.targetCount+=1,n.Cn(t,r),n.Sn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Dn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return fw(e).delete(t.targetId)})).next((function(){return n.Vn(e)})).next((function(t){return Iv(t.targetCount>0),t.targetCount-=1,n.Sn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return fw(e).Z((function(o,u){var s=_b(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return cm.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return fw(e).Z((function(e,n){var r=_b(n);t(r)}))}},{key:"Vn",value:function(e){return hw(e).get("targetGlobalKey").next((function(e){return Iv(null!==e),e}))}},{key:"Sn",value:function(e,t){return hw(e).put("targetGlobalKey",t)}},{key:"Dn",value:function(e,t){return fw(e).put(Sb(this.It,t))}},{key:"Cn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Vn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=yy(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return fw(e).Z({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=_b(n);gy(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=dw(e);return t.forEach((function(t){var o=jk(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),cm.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=dw(e);return cm.forEach(t,(function(t){var a=jk(t.path);return cm.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=dw(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=dw(e),i=Qg();return r.Z({range:n,X:!0},(function(e,t,n){var r=zk(e[1]),a=new $v(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=jk(t.path),r=IDBKeyRange.bound([n],[Bv(n)],!1,!0),i=0;return dw(e).Z({index:"documentTargetsIndex",X:!0,range:r},(function(e,t,n){var r=u(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"se",value:function(e,t){return fw(e).get(t).next((function(e){return e?_b(e):null}))}}]),e}();function fw(e){return hb(e,"targets")}function hw(e){return hb(e,"targetGlobal")}function dw(e){return hb(e,"targetDocuments")}function pw(e,t){var n=u(e,2),r=n[0],i=n[1],a=u(t,2),o=a[0],s=a[1],c=Vv(r,o);return 0===c?Vv(i,s):c}var vw=function(){function e(t){It(this,e),this.xn=t,this.buffer=new Cm(pw),this.Nn=0}return Tt(e,[{key:"kn",value:function(){return++this.Nn}},{key:"On",value:function(e){var t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();pw(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),mw=function(){function e(t,n,r){It(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Mn=null}return Tt(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}},{key:"stop",value:function(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}},{key:"started",get:function(){return null!==this.Mn}},{key:"Fn",value:function(e){var t=this;bv("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,bn(mn().mark((function e(){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Mn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!pm(e.t0)){e.next=12;break}bv("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,um(e.t0);case 14:return e.next=16,t.Fn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),yw=function(){function e(t,n){It(this,e),this.$n=t,this.params=n}return Tt(e,[{key:"calculateTargetCount",value:function(e,t){return this.$n.Bn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return cm.resolve(wm.at);var r=new vw(t);return this.$n.forEachTarget(e,(function(e){return r.On(e.sequenceNumber)})).next((function(){return n.$n.Ln(e,(function(e){return r.On(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.$n.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.$n.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(bv("LruGarbageCollector","Garbage collection skipped; disabled"),cm.resolve(ew)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(bv("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),ew):n.Un(e,t)}))}},{key:"getCacheSize",value:function(e){return this.$n.getCacheSize(e)}},{key:"Un",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(bv("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),kv()<=In.DEBUG&&bv("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),cm.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),gw=function(){function e(t,n){It(this,e),this.db=t,this.garbageCollector=function(e,t){return new yw(e,t)}(this,n)}return Tt(e,[{key:"Bn",value:function(e){var t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"qn",value:function(e){var t=0;return this.Ln(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Ln",value:function(e,t){return this.Kn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return kw(e,n)}},{key:"removeReference",value:function(e,t,n){return kw(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return kw(e,t)}},{key:"Gn",value:function(e,t){return function(e,t){var n=!1;return sw(e).tt((function(r){return aw(e,r,t).next((function(e){return e&&(n=!0),cm.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Kn(e,(function(o,u){if(u<=t){var s=n.Gn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Wv.min()),dw(e).delete([0,jk(o.path)])}))}));i.push(s)}})).next((function(){return cm.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return kw(e,t)}},{key:"Kn",value:function(e,t){var n,r=dw(e),i=wm.at;return r.Z({index:"documentTargetsIndex"},(function(e,r){var a=u(e,2),o=a[0],s=(a[1],r.path),c=r.sequenceNumber;0===o?(i!==wm.at&&t(new $v(zk(n)),i),i=c,n=s):i=wm.at})).next((function(){i!==wm.at&&t(new $v(zk(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function kw(e,t){return dw(e).put(function(e,t){return{targetId:0,path:jk(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var bw=function(){function e(){It(this,e),this.changes=new Fg((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Tt(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,py.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?cm.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),ww=function(){function e(t){It(this,e),this.It=t}return Tt(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return Iw(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return Iw(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],kb(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Qn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=py.newInvalidDocument(t);return Iw(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Ew(t))},(function(e,i){r=n.jn(t,i)})).next((function(){return r}))}},{key:"Wn",value:function(e,t){var n=this,r={size:0,document:py.newInvalidDocument(t)};return Iw(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Ew(t))},(function(e,i){r={document:n.jn(t,i),size:rw(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=Ug();return this.zn(e,t,(function(e,t){var i=n.jn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Hn",value:function(e,t){var n=this,r=Ug(),i=new Im($v.comparator);return this.zn(e,t,(function(e,t){var a=n.jn(e,t);r=r.insert(e,a),i=i.insert(e,rw(t))})).next((function(){return{documents:r,Jn:i}}))}},{key:"zn",value:function(e,t,n){if(t.isEmpty())return cm.resolve();var r=new Cm(Cw);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(Ew(r.first()),Ew(r.last())),a=r.getIterator(),o=a.getNext();return Iw(e).Z({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=$v.fromSegments([].concat(gn(t.prefixPath),[t.collectionGroup,t.documentId]));o&&Cw(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.j(Ew(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),kb(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Iw(e).W(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=Ug(),i=Ct(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.jn($v.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Ug(),o=Tw(t,n),u=Tw(t,rm.max());return Iw(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.jn($v.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new _w(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return Sw(e).get("remoteDocumentGlobalKey").next((function(e){return Iv(!!e),e}))}},{key:"Qn",value:function(e,t){return Sw(e).put("remoteDocumentGlobalKey",t)}},{key:"jn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=xk(e.re,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=$v.fromSegments(t.noDocument.path),i=wb(t.noDocument.readTime);n=py.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Sv();var a=$v.fromSegments(t.unknownDocument.path),o=wb(t.unknownDocument.version);n=py.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new qv(e[0],e[1]);return Wv.fromTimestamp(t)}(t.readTime)),n}(this.It,t);if(!n.isNoDocument()||!n.version.isEqual(Wv.min()))return n}return py.newInvalidDocument(e)}}]),e}();function xw(e){return new ww(e)}var _w=function(e){Nt(n,e);var t=Mt(n);function n(e,r){var i;return It(this,n),(i=t.call(this)).Yn=e,i.trackRemovals=r,i.Xn=new Fg((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return Tt(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Cm((function(e,t){return Vv(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Xn.get(a);if(n.push(t.Yn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=gb(t.Yn.It,o);i=i.add(a.path.popLast());var c=rw(s);r+=c-u.size,n.push(t.Yn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=gb(t.Yn.It,o.convertToNoDocument(Wv.min()));n.push(t.Yn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Yn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Yn.updateMetadata(e,r)),cm.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Yn.Wn(e,t).next((function(e){return n.Xn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Yn.Hn(e,t).next((function(e){var t=e.documents;return e.Jn.forEach((function(e,r){n.Xn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(bw);function Sw(e){return hb(e,"remoteDocumentGlobal")}function Iw(e){return hb(e,"remoteDocumentsV14")}function Ew(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Tw(e,t){var n=t.documentKey.path.toArray();return[e,kb(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Cw(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Vv(n[a],r[a]))return i;return(i=Vv(n.length,r.length))||((i=Vv(n[n.length-2],r[r.length-2]))||Vv(n[n.length-1],r[r.length-1]))}var Aw=Tt((function e(t,n){It(this,e),this.overlayedDocument=t,this.mutatedFields=n})),Ow=function(){function e(t,n,r,i){It(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return Tt(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.getBaseDocument(e,t,r)})).next((function(e){return null!==r&&xg(r.mutation,e,Nm.empty(),qv.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Qg()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Qg(),i=qg();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=zg();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=qg();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Qg())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Ug(),a=Kg(),o=Kg();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Eg)?i=i.insert(t.key,t):void 0!==o&&(a.set(t.key,o.mutation.getFieldMask()),xg(o.mutation,t,o.mutation.getFieldMask(),qv.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new Aw(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Kg(),i=new Im((function(e,t){return e-t})),a=Qg();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=Ct(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Nm.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||Qg()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=Wg();c.forEach((function(e){if(!a.has(e)){var n=bg(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return cm.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return $v.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):qy(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):cm.resolve(qg()),u=-1,s=a;return o.next((function(t){return cm.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?cm.resolve():i.getBaseDocument(e,t,n).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,Qg())})).next((function(e){return{batchId:u,changes:Bg(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new $v(t)).next((function(e){var t=zg();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=zg();return this.indexManager.getCollectionParents(e,i).next((function(o){return cm.forEach(o,(function(o){var u=function(e,t){return new Fy(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,py.newInvalidDocument(n)))}));var n=zg();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&xg(a.mutation,i,Nm.empty(),qv.now()),Yy(t,i)&&(n=n.insert(r,i))})),n}))}},{key:"getBaseDocument",value:function(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):cm.resolve(py.newInvalidDocument(t))}}]),e}(),Nw=function(){function e(t){It(this,e),this.It=t,this.Zn=new Map,this.ts=new Map}return Tt(e,[{key:"getBundleMetadata",value:function(e,t){return cm.resolve(this.Zn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:hk(n.createTime)}),cm.resolve()}},{key:"getNamedQuery",value:function(e,t){return cm.resolve(this.ts.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ts.set(t.name,function(e){return{name:e.name,query:Ib(e.bundledQuery),readTime:hk(e.readTime)}}(t)),cm.resolve()}}]),e}(),Pw=function(){function e(){It(this,e),this.overlays=new Im($v.comparator),this.es=new Map}return Tt(e,[{key:"getOverlay",value:function(e,t){return cm.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=qg();return cm.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ue(e,t,i)})),cm.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.es.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.es.delete(n)),cm.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=qg(),i=t.length+1,a=new $v(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return cm.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Im((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=qg(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=qg(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return cm.resolve(s)}},{key:"ue",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.es.get(r.largestBatchId).delete(n.key);this.es.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new vb(t,n));var a=this.es.get(t);void 0===a&&(a=Qg(),this.es.set(t,a)),this.es.set(t,a.add(n.key))}}]),e}(),Dw=function(){function e(){It(this,e),this.ns=new Cm(Rw.ss),this.rs=new Cm(Rw.os)}return Tt(e,[{key:"isEmpty",value:function(){return this.ns.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Rw(e,t);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}},{key:"us",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.cs(new Rw(e,t))}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ls",value:function(e){var t=this,n=new $v(new Gv([])),r=new Rw(n,e),i=new Rw(n,e+1),a=[];return this.rs.forEachInRange([r,i],(function(e){t.cs(e),a.push(e.key)})),a}},{key:"fs",value:function(){var e=this;this.ns.forEach((function(t){return e.cs(t)}))}},{key:"cs",value:function(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}},{key:"ds",value:function(e){var t=new $v(new Gv([])),n=new Rw(t,e),r=new Rw(t,e+1),i=Qg();return this.rs.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Rw(e,0),n=this.ns.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Rw=function(){function e(t,n){It(this,e),this.key=t,this._s=n}return Tt(e,null,[{key:"ss",value:function(e,t){return $v.comparator(e.key,t.key)||Vv(e._s,t._s)}},{key:"os",value:function(e,t){return Vv(e._s,t._s)||$v.comparator(e.key,t.key)}}]),e}(),Lw=function(){function e(t,n){It(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new Cm(Rw.ss)}return Tt(e,[{key:"checkEmpty",value:function(e){return cm.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new db(i,t,n,r);this.mutationQueue.push(a);var o,u=Ct(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.gs=this.gs.add(new Rw(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return cm.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return cm.resolve(this.ys(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ps(n),i=r<0?0:r;return cm.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return cm.resolve(0===this.mutationQueue.length?-1:this.ws-1)}},{key:"getAllMutationBatches",value:function(e){return cm.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Rw(t,0),i=new Rw(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],(function(e){var t=n.ys(e._s);a.push(t)})),cm.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Cm(Vv);return t.forEach((function(e){var t=new Rw(e,0),i=new Rw(e,Number.POSITIVE_INFINITY);n.gs.forEachInRange([t,i],(function(e){r=r.add(e._s)}))})),cm.resolve(this.Is(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;$v.isDocumentKey(i)||(i=i.child(""));var a=new Rw(new $v(i),0),o=new Cm(Vv);return this.gs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e._s)),!0)}),a),cm.resolve(this.Is(o))}},{key:"Is",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ys(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Iv(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();var r=this.gs;return cm.forEach(t.mutations,(function(i){var a=new Rw(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.gs=r}))}},{key:"An",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Rw(t,0),r=this.gs.firstAfterOrEqual(n);return cm.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,cm.resolve()}},{key:"Ts",value:function(e,t){return this.ps(e)}},{key:"ps",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"ys",value:function(e){var t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),Mw=function(){function e(t){It(this,e),this.Es=t,this.docs=new Im($v.comparator),this.size=0}return Tt(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Es(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return cm.resolve(n?n.document.mutableCopy():py.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Ug();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():py.newInvalidDocument(e))})),cm.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=Ug(),i=new $v(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||im(nm(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return cm.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Sv()}},{key:"As",value:function(e,t){return cm.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Fw(this)}},{key:"getSize",value:function(e){return cm.resolve(this.size)}}]),e}(),Fw=function(e){Nt(n,e);var t=Mt(n);function n(e){var r;return It(this,n),(r=t.call(this)).Yn=e,r}return Tt(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Yn.addEntry(e,i)):t.Yn.removeEntry(r)})),cm.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Yn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Yn.getEntries(e,t)}}]),n}(bw),jw=function(){function e(t){It(this,e),this.persistence=t,this.Rs=new Fg((function(e){return yy(e)}),gy),this.lastRemoteSnapshotVersion=Wv.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Dw,this.targetCount=0,this.vs=cw.Pn()}return Tt(e,[{key:"forEachTarget",value:function(e,t){return this.Rs.forEach((function(e,n){return t(n)})),cm.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return cm.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return cm.resolve(this.bs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.vs.next(),cm.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),cm.resolve()}},{key:"Dn",value:function(e){this.Rs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.vs=new cw(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Dn(t),this.targetCount+=1,cm.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Dn(t),cm.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,cm.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Rs.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Rs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),cm.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return cm.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Rs.get(t)||null;return cm.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Ps.us(t,n),cm.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Ps.hs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),cm.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Ps.ls(t),cm.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Ps.ds(t);return cm.resolve(n)}},{key:"containsKey",value:function(e,t){return cm.resolve(this.Ps.containsKey(t))}}]),e}(),Uw=function(){function e(t,n){var r=this;It(this,e),this.Vs={},this.overlays={},this.Ss=new wm(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new jw(this),this.indexManager=new Kb,this.remoteDocumentCache=new Mw((function(e){return r.referenceDelegate.xs(e)})),this.It=new yb(n),this.Ns=new Nw(this.It)}return Tt(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ds=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ds}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Pw,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Vs[e.toKey()];return n||(n=new Lw(t,this.referenceDelegate),this.Vs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;bv("MemoryPersistence","Starting transaction:",e);var i=new Vw(this.Ss.next());return this.referenceDelegate.ks(),n(i).next((function(e){return r.referenceDelegate.Os(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ms",value:function(e,t){return cm.or(Object.values(this.Vs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Vw=function(e){Nt(n,e);var t=Mt(n);function n(e){var r;return It(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return Tt(n)}(om),zw=function(){function e(t){It(this,e),this.persistence=t,this.Fs=new Dw,this.$s=null}return Tt(e,[{key:"Ls",get:function(){if(this.$s)return this.$s;throw Sv()}},{key:"addReference",value:function(e,t,n){return this.Fs.addReference(n,t),this.Ls.delete(n.toString()),cm.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Fs.removeReference(n,t),this.Ls.add(n.toString()),cm.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ls.add(t.toString()),cm.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Fs.ls(t.targetId).forEach((function(e){return n.Ls.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ls.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ks",value:function(){this.$s=new Set}},{key:"Os",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return cm.forEach(this.Ls,(function(r){var i=$v.fromPath(r);return t.Us(e,i).next((function(e){e||n.removeEntry(i,Wv.min())}))})).next((function(){return t.$s=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Us(e,t).next((function(e){e?n.Ls.delete(t.toString()):n.Ls.add(t.toString())}))}},{key:"xs",value:function(e){return 0}},{key:"Us",value:function(e,t){var n=this;return cm.or([function(){return cm.resolve(n.Fs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ms(e,t)}])}}],[{key:"Bs",value:function(t){return new e(t)}}]),e}(),Bw=function(){function e(t){It(this,e),this.It=t}return Tt(e,[{key:"$",value:function(e,t,n,r){var i=this,a=new lm("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Bk,{unique:!0}),e.createObjectStore("documentMutations")}(e),qw(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=cm.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),qw(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Wv.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").W().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Bk,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return cm.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.qs(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ks(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Gs(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Qs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.js(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:rb});t.createIndex("collectionPathOverlayIndex",ib,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",ab,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:Gk});t.createIndex("documentKeyIndex",Hk),t.createIndex("collectionGroupIndex",Qk)}(e)})).next((function(){return i.Ws(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.zs(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Zk}).createIndex("sequenceNumberIndex",eb,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:tb}).createIndex("documentKeyIndex",nb,{unique:!1})}(e)}))),o}},{key:"Ks",value:function(e){var t=0;return e.store("remoteDocuments").Z((function(e,n){t+=rw(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"qs",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next((function(n){return cm.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",i).next((function(r){return cm.forEach(r,(function(r){Iv(r.userId===n.userId);var i=xb(t.It,r);return nw(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Gs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Z((function(n,i){var a=new Gv(n),o=function(e){return[0,jk(e)]}(a);r.push(t.get(o).next((function(n){return n?cm.resolve():function(n){return t.put({targetId:0,path:jk(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return cm.waitFor(r)}))}))}},{key:"Qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:Jk});var n=t.store("collectionParents"),r=new Gb,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:jk(i)})}};return t.store("remoteDocuments").Z({X:!0},(function(e,t){var n=new Gv(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Z({X:!0},(function(e,t){var n=u(e,3),r=(n[0],n[1]),a=(n[2],zk(r));return i(a.popLast())}))}))}},{key:"js",value:function(e){var t=this,n=e.store("targets");return n.Z((function(e,r){var i=_b(r),a=Sb(t.It,i);return n.put(a)}))}},{key:"Ws",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new $v(Gv.fromString(i.document.name).popFirst(5)):i.noDocument?$v.fromSegments(i.noDocument.path):i.unknownDocument?$v.fromSegments(i.unknownDocument.path):Sv()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return cm.waitFor(r)}))}},{key:"zs",value:function(e,t){var n=this,r=t.store("mutations"),i=xw(this.It),a=new Uw(zw.Bs,this.It.re);return r.W().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:Qg();xb(n.It,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),cm.forEach(r,(function(e,r){var o=new mv(r),u=Pb.oe(n.It,o),s=a.getIndexManager(o),c=iw.oe(o,n.It,s,a.referenceDelegate);return new Ow(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new fb(t,wm.at),e).next()}))}))}}]),e}();function qw(e){e.createObjectStore("targetDocuments",{keyPath:Yk}).createIndex("documentTargetsIndex",Xk,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",$k,{unique:!0}),e.createObjectStore("targetGlobal")}var Ww="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Kw=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(It(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Hs=a,this.window=o,this.document=u,this.Js=c,this.Ys=l,this.Xs=f,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=function(e){return Promise.resolve()},!e.C())throw new Cv(Tv.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new gw(this,i),this.ii=n+"main",this.It=new yb(s),this.ri=new fm(this.ii,this.Xs,new Bw(this.It)),this.Cs=new lw(this.referenceDelegate,this.It),this.remoteDocumentCache=xw(this.It),this.Ns=new Ab,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===l&&wv("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return Tt(e,[{key:"start",value:function(){var e=this;return this.ui().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Cv(Tv.FAILED_PRECONDITION,Ww);return e.ci(),e.ai(),e.hi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Cs.getHighestSequenceNumber(t)}))})).then((function(t){e.Ss=new wm(t,e.Js)})).then((function(){e.Ds=!0})).catch((function(t){return e.ri&&e.ri.close(),Promise.reject(t)}))}},{key:"li",value:function(e){var t=this;return this.si=function(){var n=bn(mn().mark((function n(r){return mn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ri.L(function(){var t=bn(mn().mark((function t(n){return mn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget(bn(mn().mark((function e(){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ui();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ui",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Hw(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.fi(t).next((function(t){t||(e.isPrimary=!1,e.Hs.enqueueRetryable((function(){return e.si(!1)})))}))})).next((function(){return e.di(t)})).next((function(n){return e.isPrimary&&!n?e._i(t).next((function(){return!1})):!!n&&e.wi(t).next((function(){return!0}))}))})).catch((function(t){if(pm(t))return bv("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return bv("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Hs.enqueueRetryable((function(){return e.si(t)})),e.isPrimary=t}))}},{key:"fi",value:function(e){var t=this;return Gw(e).get("owner").next((function(e){return cm.resolve(t.mi(e))}))}},{key:"gi",value:function(e){return Hw(e).delete(this.clientId)}},{key:"yi",value:function(){var e=bn(mn().mark((function e(){var t,n,r,i,a=this;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.pi(this.ni,18e5)){e.next=6;break}return this.ni=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=hb(e,"clientMetadata");return t.W().next((function(e){var n=a.Ii(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return cm.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.oi){n=Ct(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.oi.removeItem(this.Ti(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"hi",value:function(){var e=this;this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ui().then((function(){return e.yi()})).then((function(){return e.hi()}))}))}},{key:"mi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"di",value:function(e){var t=this;return this.Ys?cm.resolve(!0):Gw(e).get("owner").next((function(n){if(null!==n&&t.pi(n.leaseTimestampMs,5e3)&&!t.Ei(n.ownerId)){if(t.mi(n)&&t.networkEnabled)return!0;if(!t.mi(n)){if(!n.allowTabSynchronization)throw new Cv(Tv.FAILED_PRECONDITION,Ww);return!1}}return!(!t.networkEnabled||!t.inForeground)||Hw(e).W().next((function(e){return void 0===t.Ii(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&bv("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=bn(mn().mark((function e(){var t=this;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ds=!1,this.Ai(),this.ei&&(this.ei.cancel(),this.ei=null),this.Ri(),this.bi(),e.next=7,this.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new fb(e,wm.at);return t._i(n).next((function(){return t.gi(n)}))}));case 7:this.ri.close(),this.Pi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ii",value:function(e,t){var n=this;return e.filter((function(e){return n.pi(e.updateTimeMs,t)&&!n.Ei(e.clientId)}))}},{key:"vi",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Hw(t).W().next((function(t){return e.Ii(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ds}},{key:"getMutationQueue",value:function(e,t){return iw.oe(e,this.It,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new Qb(e,this.It.re.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return Pb.oe(this.It,e)}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;bv("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.Xs)?lb:14===i?cb:13===i?sb:12===i?ub:11===i?ob:void Sv();return this.ri.runTransaction(e,o,u,(function(i){return a=new fb(i,r.Ss?r.Ss.next():wm.at),"readwrite-primary"===t?r.fi(a).next((function(e){return!!e||r.di(a)})).next((function(t){if(!t)throw wv("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Hs.enqueueRetryable((function(){return r.si(!1)})),new Cv(Tv.FAILED_PRECONDITION,am);return n(a)})).next((function(e){return r.wi(a).next((function(){return e}))})):r.Vi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Vi",value:function(e){var t=this;return Gw(e).get("owner").next((function(e){if(null!==e&&t.pi(e.leaseTimestampMs,5e3)&&!t.Ei(e.ownerId)&&!t.mi(e)&&!(t.Ys||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Cv(Tv.FAILED_PRECONDITION,Ww)}))}},{key:"wi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Gw(e).put("owner",t)}},{key:"_i",value:function(e){var t=this,n=Gw(e);return n.get("owner").next((function(e){return t.mi(e)?(bv("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):cm.resolve()}))}},{key:"pi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(wv("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ci",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=function(){e.Hs.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ui()}))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ri",value:function(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}},{key:"ai",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=function(){t.Ai(),!Kt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Hs.enterRestrictedMode(!0),t.Hs.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Zs))}},{key:"bi",value:function(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}},{key:"Ei",value:function(e){var t;try{var n=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return bv("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return wv("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ai",value:function(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(If){wv("Failed to set zombie client id.",If)}}},{key:"Pi",value:function(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(If){}}},{key:"Ti",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"C",value:function(){return fm.C()}}]),e}();function Gw(e){return hb(e,"owner")}function Hw(e){return hb(e,"clientMetadata")}function Qw(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var $w=function(){function e(t,n,r,i){It(this,e),this.targetId=t,this.fromCache=n,this.Si=r,this.Di=i}return Tt(e,null,[{key:"Ci",value:function(t,n){var r,i=Qg(),a=Qg(),o=Ct(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Yw=function(){function e(){It(this,e),this.xi=!1}return Tt(e,[{key:"initialize",value:function(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.ki(e,t).next((function(a){return a||i.Oi(e,t,r,n)})).next((function(n){return n||i.Mi(e,t)}))}},{key:"ki",value:function(e,t){var n=this;if(Vy(t))return cm.resolve(null);var r=Ky(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=Gy(t,null,"F"),r=Ky(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=Qg.apply(void 0,gn(i));return n.Ni.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Fi(t,i);return n.$i(t,o,a,r.readTime)?n.ki(e,Gy(t,null,"F")):n.Bi(e,o,t,r)}))}))})))}))}},{key:"Oi",value:function(e,t,n,r){var i=this;return Vy(t)||r.isEqual(Wv.min())?this.Mi(e,t):this.Ni.getDocuments(e,n).next((function(a){var o=i.Fi(t,a);return i.$i(t,o,n,r)?i.Mi(e,t):(kv()<=In.DEBUG&&bv("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),$y(t)),i.Bi(e,o,t,tm(r,-1)))}))}},{key:"Fi",value:function(e,t){var n=new Cm(Jy(e));return t.forEach((function(t,r){Yy(e,r)&&(n=n.add(r))})),n}},{key:"$i",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Mi",value:function(e,t){return kv()<=In.DEBUG&&bv("QueryEngine","Using full collection scan to execute query:",$y(t)),this.Ni.getDocumentsMatchingQuery(e,t,rm.min())}},{key:"Bi",value:function(e,t,n,r){return this.Ni.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),Xw=function(){function e(t,n,r,i){It(this,e),this.persistence=t,this.Li=n,this.It=i,this.Ui=new Im(Vv),this.qi=new Fg((function(e){return yy(e)}),gy),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(r)}return Tt(e,[{key:"Qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ow(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ui)}))}}]),e}();function Jw(e,t,n,r){return new Xw(e,t,n,r)}function Zw(e,t){return ex.apply(this,arguments)}function ex(){return ex=bn(mn().mark((function e(t,n){var r;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ev(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=Qg(),s=Ct(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=Ct(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=Ct(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=Ct(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{ji:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),ex.apply(this,arguments)}function tx(e,t){var n=Ev(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Gi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=cm.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Iv(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Qg(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function nx(e){var t=Ev(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Cs.getLastRemoteSnapshotVersion(e)}))}function rx(e,t){var n=Ev(e),r=t.snapshotVersion,i=n.Ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.Ui;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Cs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Cs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(Pm.EMPTY_BYTE_STRING,Wv.min()).withLastLimboFreeSnapshotVersion(Wv.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Cs.updateTargetData(e,c))}}));var u=Ug(),s=Qg();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(ix(e,a,t.documentUpdates).next((function(e){u=e.Wi,s=e.zi}))),!r.isEqual(Wv.min())){var c=n.Cs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Cs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return cm.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.Ui=i,e}))}function ix(e,t,n){var r=Qg(),i=Qg();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Ug();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Wv.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):bv("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Wi:r,zi:i}}))}function ax(e,t){var n=Ev(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function ox(e,t){var n=Ev(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Cs.getTargetData(e,t).next((function(i){return i?(r=i,cm.resolve(r)):n.Cs.allocateTargetId(e).next((function(i){return r=new mb(t,i,0,e.currentSequenceNumber),n.Cs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ui.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ui=n.Ui.insert(e.targetId,e),n.qi.set(t,e.targetId)),e}))}function ux(e,t,n){return sx.apply(this,arguments)}function sx(){return sx=bn(mn().mark((function e(t,n,r){var i,a,o;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Ev(t),a=i.Ui.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),pm(e.t1)){e.next=12;break}throw e.t1;case 12:bv("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ui=i.Ui.remove(n),i.qi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),sx.apply(this,arguments)}function cx(e,t,n){var r=Ev(e),i=Wv.min(),a=Qg();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Ev(e),i=r.qi.get(n);return void 0!==i?cm.resolve(r.Ui.get(i)):r.Cs.getTargetData(t,n)}(r,e,Ky(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Li.getDocumentsMatchingQuery(e,t,n?i:Wv.min(),n?a:Qg())})).next((function(e){return hx(r,Xy(t),e),{documents:e,Hi:a}}))}))}function lx(e,t){var n=Ev(e),r=Ev(n.Cs),i=n.Ui.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.se(e,t).next((function(e){return e?e.target:null}))}))}function fx(e,t){var n=Ev(e),r=n.Ki.get(t)||Wv.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Gi.getAllFromCollectionGroup(e,t,tm(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return hx(n,t,e),e}))}function hx(e,t,n){var r=e.Ki.get(t)||Wv.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ki.set(t,r)}function dx(e,t,n,r){return px.apply(this,arguments)}function px(){return px=bn(mn().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Ev(t),o=Qg(),u=Ug(),s=Ct(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Ji(l.metadata.name),l.document&&(o=o.add(f)),(h=n.Yi(l)).setReadTime(n.Xi(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.Gi.newChangeBuffer({trackRemovals:!0}),e.next=7,ox(a,function(e){return Ky(Uy(Gv.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return ix(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.Cs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Cs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Wi,t.zi)})).next((function(){return t.Wi}))}))})));case 9:case"end":return e.stop()}}),e)}))),px.apply(this,arguments)}function vx(e,t){return mx.apply(this,arguments)}function mx(){return mx=bn(mn().mark((function e(t,n){var r,i,a,o=arguments;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Qg(),e.next=3,ox(t,Ky(Ib(n.bundledQuery)));case 3:return i=e.sent,a=Ev(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=hk(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ns.saveNamedQuery(e,n);var o=i.withResumeToken(Pm.EMPTY_BYTE_STRING,t);return a.Ui=a.Ui.insert(o.targetId,o),a.Cs.updateTargetData(e,o).next((function(){return a.Cs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Cs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ns.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),mx.apply(this,arguments)}function yx(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function gx(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function kx(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var bx=function(){function e(t,n,r,i){It(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return Tt(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Cv(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(wv("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),wx=function(){function e(t,n,r){It(this,e),this.targetId=t,this.state=n,this.error=r}return Tt(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Cv(i.error.code,i.error.message))),a?new e(t,i.state,r):(wv("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),xx=function(){function e(t,n){It(this,e),this.clientId=t,this.activeTargetIds=n}return Tt(e,null,[{key:"Zi",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Yg(),o=0;i&&o<r.activeTargetIds.length;++o)i=Wm(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(wv("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),_x=function(){function e(t,n){It(this,e),this.clientId=t,this.onlineState=n}return Tt(e,null,[{key:"Zi",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(wv("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),Sx=function(){function e(){It(this,e),this.activeTargetIds=Yg()}return Tt(e,[{key:"er",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"tr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Ix=function(){function e(t,n,r,i,a){It(this,e),this.window=t,this.Hs=n,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Im(Vv),this.started=!1,this.cr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=yx(this.persistenceKey,this.sr),this.hr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ur=this.ur.insert(this.sr,new Sx),this.lr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.dr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this._r=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.wr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.mr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}return Tt(e,[{key:"start",value:function(){var e=bn(mn().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.vi();case 2:t=e.sent,n=Ct(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.sr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(yx(this.persistenceKey,i)))&&(o=xx.Zi(i,a))&&(this.ur=this.ur.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.gr(),(u=this.storage.getItem(this.wr))&&(s=this.yr(u))&&this.pr(s),c=Ct(this.cr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.rr(f)}catch(d){c.e(d)}finally{c.f()}this.cr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.hr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Ir(this.ur)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ur.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Tr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Tr(e,t,n),this.Er(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(kx(this.persistenceKey,e));if(n){var r=wx.Zi(e,n);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ar.nr(e),this.gr()}},{key:"isLocalQueryTarget",value:function(e){return this.Ar.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(kx(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Rr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Er(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.br(e)}},{key:"notifyBundleLoaded",value:function(e){this.Pr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return bv("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){bv("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){bv("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"rr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(bv("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ar)return void wv("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable(bn(mn().mark((function e(){var r,i,a,o,u,s,c;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.lr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.vr(n.key),e.abrupt("return",t.Vr(r,null));case 6:if(!(i=t.Sr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Vr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.dr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Dr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Cr(a));case 16:e.next=41;break;case 18:if(!t._r.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Nr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.kr(o));case 23:e.next=41;break;case 25:if(n.key!==t.wr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.yr(n.newValue))){e.next=30;break}return e.abrupt("return",t.pr(u));case 30:e.next=41;break;case 32:if(n.key!==t.hr){e.next=37;break}s=function(e){var t=wm.at;if(null!=e)try{var n=JSON.parse(e);Iv("number"==typeof n),t=n}catch(e){wv("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==wm.at&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.mr){e.next=41;break}return c=t.Or(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Mr(e)})));case 41:e.next=44;break;case 43:t.cr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ar",get:function(){return this.ur.get(this.sr)}},{key:"gr",value:function(){this.setItem(this.ar,this.Ar.tr())}},{key:"Tr",value:function(e,t,n){var r=new bx(this.currentUser,e,t,n),i=gx(this.persistenceKey,this.currentUser,e);this.setItem(i,r.tr())}},{key:"Er",value:function(e){var t=gx(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"br",value:function(e){var t={clientId:this.sr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(t))}},{key:"Rr",value:function(e,t,n){var r=kx(this.persistenceKey,e),i=new wx(e,t,n);this.setItem(r,i.tr())}},{key:"Pr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}},{key:"vr",value:function(e){var t=this.lr.exec(e);return t?t[1]:null}},{key:"Sr",value:function(e,t){var n=this.vr(e);return xx.Zi(n,t)}},{key:"Dr",value:function(e,t){var n=this.dr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return bx.Zi(new mv(i),r,t)}},{key:"Nr",value:function(e,t){var n=this._r.exec(e),r=Number(n[1]);return wx.Zi(r,t)}},{key:"yr",value:function(e){return _x.Zi(e)}},{key:"Or",value:function(e){return JSON.parse(e)}},{key:"Cr",value:function(){var e=bn(mn().mark((function e(t){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Fr(t.batchId,t.state,t.error));case 2:bv("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"kr",value:function(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}},{key:"Vr",value:function(e,t){var n=this,r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),a=this.Ir(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Br(o,u).then((function(){n.ur=r}))}},{key:"pr",value:function(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Ir",value:function(e){var t=Yg();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"C",value:function(e){return!(!e||!e.localStorage)}}]),e}(),Ex=function(){function e(){It(this,e),this.Lr=new Sx,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Tt(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Lr.er(e),this.Ur[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Ur[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Lr.nr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Ur[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Lr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Lr=new Sx,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Tx=function(){function e(){It(this,e)}return Tt(e,[{key:"qr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Cx=function(){function e(){var t=this;It(this,e),this.Kr=function(){return t.Gr()},this.Qr=function(){return t.jr()},this.Wr=[],this.zr()}return Tt(e,[{key:"qr",value:function(e){this.Wr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}},{key:"zr",value:function(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}},{key:"Gr",value:function(){bv("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Ct(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"jr",value:function(){bv("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Ct(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Ax={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Ox=function(){function e(t){It(this,e),this.Hr=t.Hr,this.Jr=t.Jr}return Tt(e,[{key:"Yr",value:function(e){this.Xr=e}},{key:"Zr",value:function(e){this.eo=e}},{key:"onMessage",value:function(e){this.no=e}},{key:"close",value:function(){this.Jr()}},{key:"send",value:function(e){this.Hr(e)}},{key:"so",value:function(){this.Xr()}},{key:"io",value:function(e){this.eo(e)}},{key:"ro",value:function(e){this.no(e)}}]),e}(),Nx=function(e){Nt(n,e);var t=Mt(n);function n(e){var r;return It(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return Tt(n,[{key:"fo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new pv;o.setWithCredentials(!0),o.listenOnce(cv.COMPLETE,(function(){var t;try{switch(o.getLastErrorCode()){case sv.NO_ERROR:var n=o.getResponseJson();bv("Connection","XHR received:",JSON.stringify(n)),i(n);break;case sv.TIMEOUT:bv("Connection",'RPC "'+e+'" timed out'),a(new Cv(Tv.DEADLINE_EXCEEDED,"Request time out"));break;case sv.HTTP_ERROR:var r=o.getStatus();if(bv("Connection",'RPC "'+e+'" failed with status:',r,"response text:",o.getResponseText()),r>0){var u=o.getResponseJson();Array.isArray(u)&&(u=u[0]);var s=null===(t=u)||void 0===t?void 0:t.error;if(s&&s.status&&s.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Tv).indexOf(t)>=0?t:Tv.UNKNOWN}(s.status);a(new Cv(c,s.message))}else a(new Cv(Tv.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Cv(Tv.UNAVAILABLE,"Connection failed."));break;default:Sv()}}finally{bv("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"wo",value:function(e,t,n){var r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=ov(),a=uv(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new hv({})),this.lo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;var u=r.join("");bv("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new Ox({Hr:function(e){l?bv("Connection","Not sending because WebChannel is closed:",e):(c||(bv("Connection","Opening WebChannel transport."),s.open(),c=!0),bv("Connection","WebChannel sending:",e),s.send(e))},Jr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,dv.EventType.OPEN,(function(){l||bv("Connection","WebChannel transport opened.")})),h(s,dv.EventType.CLOSE,(function(){l||(l=!0,bv("Connection","WebChannel transport closed"),f.io())})),h(s,dv.EventType.ERROR,(function(e){l||(l=!0,xv("Connection","WebChannel transport errored:",e),f.io(new Cv(Tv.UNAVAILABLE,"The operation could not be completed")))})),h(s,dv.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Iv(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){bv("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Og[e];if(void 0!==t)return Mg(t)}(a),u=i.message;void 0===o&&(o=Tv.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.io(new Cv(o,u)),s.close()}else bv("Connection","WebChannel received:",n),f.ro(n)}})),h(a,lv.STAT_EVENT,(function(e){e.stat===fv.PROXY?bv("Connection","Detected buffering proxy"):e.stat===fv.NOPROXY&&bv("Connection","Detected no buffering proxy")})),setTimeout((function(){f.so()}),0),f}}]),n}(function(){function e(t){It(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.oo=n+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Tt(e,[{key:"co",get:function(){return!1}},{key:"ao",value:function(e,t,n,r,i){var a=this.ho(e,t);bv("RestConnection","Sending: ",a,n);var o={};return this.lo(o,r,i),this.fo(e,a,o,n).then((function(e){return bv("RestConnection","Received: ",e),e}),(function(t){throw xv("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"_o",value:function(e,t,n,r,i,a){return this.ao(e,t,n,r,i)}},{key:"lo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+yv,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ho",value:function(e,t){var n=Ax[e];return"".concat(this.oo,"/v1/").concat(t,":").concat(n)}}]),e}());function Px(){return"undefined"!=typeof window?window:null}function Dx(){return"undefined"!=typeof document?document:null}function Rx(e){return new sk(e,!0)}var Lx=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;It(this,e),this.Hs=t,this.timerId=n,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}return Tt(e,[{key:"reset",value:function(){this.Io=0}},{key:"Ao",value:function(){this.Io=this.po}},{key:"Ro",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&bv("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Io," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,(function(){return t.Eo=Date.now(),e()})),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}},{key:"Po",value:function(){null!==this.To&&(this.To.skipDelay(),this.To=null)}},{key:"cancel",value:function(){null!==this.To&&(this.To.cancel(),this.To=null)}},{key:"bo",value:function(){return(Math.random()-.5)*this.Io}}]),e}(),Mx=function(){function e(t,n,r,i,a,o,u,s){It(this,e),this.Hs=t,this.vo=r,this.Vo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Lx(t,n)}return Tt(e,[{key:"No",value:function(){return 1===this.state||5===this.state||this.ko()}},{key:"ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Oo()}},{key:"stop",value:function(){var e=bn(mn().mark((function e(){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.No(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Mo",value:function(){this.state=0,this.xo.reset()}},{key:"Fo",value:function(){var e=this;this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,(function(){return e.$o()})))}},{key:"Bo",value:function(e){this.Lo(),this.stream.send(e)}},{key:"$o",value:function(){var e=bn(mn().mark((function e(){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Lo",value:function(){this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"Uo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"close",value:function(){var e=bn(mn().mark((function e(t,n){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Lo(),this.Uo(),this.xo.cancel(),this.So++,4!==t?this.xo.reset():n&&n.code===Tv.RESOURCE_EXHAUSTED?(wv(n.toString()),wv("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):n&&n.code===Tv.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.qo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Zr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"qo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=u(t,2),i=r[0],a=r[1];e.So===n&&e.Go(i,a)}),(function(n){t((function(){var t=new Cv(Tv.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Qo(t)}))}))}},{key:"Go",value:function(e,t){var n=this,r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr((function(){r((function(){return n.state=2,n.Co=n.Hs.enqueueAfterDelay(n.Vo,1e4,(function(){return n.ko()&&(n.state=3),Promise.resolve()})),n.listener.Yr()}))})),this.stream.Zr((function(e){r((function(){return n.Qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Oo",value:function(){var e=this;this.state=5,this.xo.Ro(bn(mn().mark((function t(){return mn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Qo",value:function(e){return bv("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Ko",value:function(e){var t=this;return function(n){t.Hs.enqueueAndForget((function(){return t.So===e?n():(bv("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Fx=function(e){Nt(n,e);var t=Mt(n);function n(e,r,i,a,o,u){var s;return It(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).It=o,s}return Tt(n,[{key:"jo",value:function(e,t){return this.connection.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.xo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Sv()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.gt?(Iv(void 0===t||"string"==typeof t),Pm.fromBase64String(t||"")):(Iv(void 0===t||t instanceof Uint8Array),Pm.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?Tv.UNKNOWN:Mg(e.code);return new Cv(t,e.message||"")}(o);n=new tk(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=mk(e,s.document.name),l=hk(s.document.updateTime),f=new hy({mapValue:{fields:s.document.fields}}),h=py.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new Zg(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=mk(e,v.document),y=v.readTime?hk(v.readTime):Wv.min(),g=py.newNoDocument(m,y),k=v.removedTargetIds||[];n=new Zg([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=mk(e,b.document),x=b.removedTargetIds||[];n=new Zg([],x,w,null)}else{if(!("filter"in t))return Sv();t.filter;var _=t.filter;_.targetId;var S=_.count||0,I=new Rg(S),E=_.targetId;n=new ek(E,I)}return n}(this.It,e),n=function(e){if(!("targetChange"in e))return Wv.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Wv.min():t.readTime?hk(t.readTime):Wv.min()}(e);return this.listener.Wo(t,n)}},{key:"zo",value:function(e){var t={};t.database=kk(this.It),t.addTarget=function(e,t){var n,r=t.target;return(n=ky(r)?{documents:Ek(e,r)}:{query:Tk(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=lk(e,t.resumeToken):t.snapshotVersion.compareTo(Wv.min())>0&&(n.readTime=ck(e,t.snapshotVersion.toTimestamp())),n}(this.It,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Sv()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.It,e);n&&(t.labels=n),this.Bo(t)}},{key:"Ho",value:function(e){var t={};t.database=kk(this.It),t.removeTarget=e,this.Bo(t)}}]),n}(Mx),jx=function(e){Nt(n,e);var t=Mt(n);function n(e,r,i,a,o,u){var s;return It(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).It=o,s.Jo=!1,s}return Tt(n,[{key:"Yo",get:function(){return this.Jo}},{key:"start",value:function(){this.Jo=!1,this.lastStreamToken=void 0,Qr(Pt(n.prototype),"start",this).call(this)}},{key:"qo",value:function(){this.Jo&&this.Xo([])}},{key:"jo",value:function(e,t){return this.connection.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(Iv(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();var t=function(e,t){return e&&e.length>0?(Iv(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?hk(e.updateTime):hk(t);return n.isEqual(Wv.min())&&(n=hk(t)),new mg(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=hk(e.commitTime);return this.listener.Zo(n,t)}return Iv(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}},{key:"eu",value:function(){var e={};e.database=kk(this.It),this.Bo(e)}},{key:"Xo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Sk(t.It,e)}))};this.Bo(n)}}]),n}(Mx),Ux=function(e){Nt(n,e);var t=Mt(n);function n(e,r,i,a){var o;return It(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.It=a,o.nu=!1,o}return Tt(n,[{key:"su",value:function(){if(this.nu)throw new Cv(Tv.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ao",value:function(e,t,n){var r=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=u(i,2),o=a[0],s=a[1];return r.connection.ao(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Tv.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Cv(Tv.UNKNOWN,e.toString())}))}},{key:"_o",value:function(e,t,n,r){var i=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=u(a,2),s=o[0],c=o[1];return i.connection._o(e,t,n,s,c,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Tv.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new Cv(Tv.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.nu=!0}}]),n}(function(){return Tt((function e(){It(this,e)}))}());var Vx=function(){function e(t,n){It(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}return Tt(e,[{key:"uu",value:function(){var e=this;0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ru=null,e.au("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"hu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"au",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ou?(wv(t),this.ou=!1):bv("OnlineStateTracker",t)}},{key:"lu",value:function(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}]),e}(),zx=Tt((function e(t,n,r,i,a){var o=this;It(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.qr((function(e){r.enqueueAndForget(bn(mn().mark((function e(){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Jx(o),!e.t0){e.next=5;break}return bv("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=bn(mn().mark((function e(t){var n;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Ev(t))._u.add(4),e.next=4,Wx(n);case 4:return n.gu.set("Unknown"),n._u.delete(4),e.next=8,Bx(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.gu=new Vx(r,i)}));function Bx(e){return qx.apply(this,arguments)}function qx(){return qx=bn(mn().mark((function e(t){var n,r,i;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Jx(t)){e.next=18;break}n=Ct(t.wu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),qx.apply(this,arguments)}function Wx(e){return Kx.apply(this,arguments)}function Kx(){return Kx=bn(mn().mark((function e(t){var n,r,i;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Ct(t.wu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),Kx.apply(this,arguments)}function Gx(e,t){var n=Ev(e);n.du.has(t.targetId)||(n.du.set(t.targetId,t),Xx(n)?Yx(n):T_(n).ko()&&Qx(n,t))}function Hx(e,t){var n=Ev(e),r=T_(n);n.du.delete(t),r.ko()&&$x(n,t),0===n.du.size&&(r.ko()?r.Fo():Jx(n)&&n.gu.set("Unknown"))}function Qx(e,t){e.yu.Mt(t.targetId),T_(e).zo(t)}function $x(e,t){e.yu.Mt(t),T_(e).Ho(t)}function Yx(e){e.yu=new rk({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},se:function(t){return e.du.get(t)||null}}),T_(e).start(),e.gu.uu()}function Xx(e){return Jx(e)&&!T_(e).No()&&e.du.size>0}function Jx(e){return 0===Ev(e)._u.size}function Zx(e){e.yu=void 0}function e_(e){return t_.apply(this,arguments)}function t_(){return t_=bn(mn().mark((function e(t){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.du.forEach((function(e,n){Qx(t,e)}));case 1:case"end":return e.stop()}}),e)}))),t_.apply(this,arguments)}function n_(e,t){return r_.apply(this,arguments)}function r_(){return r_=bn(mn().mark((function e(t,n){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Zx(t),Xx(t)?(t.gu.hu(n),Yx(t)):t.gu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),r_.apply(this,arguments)}function i_(e,t,n){return a_.apply(this,arguments)}function a_(){return a_=bn(mn().mark((function e(t,n,r){var i;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.gu.set("Online"),!(n instanceof tk&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=bn(mn().mark((function e(t,n){var r,i,a,o;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Ct(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.du.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.du.delete(o),t.yu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),bv("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,o_(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Zg?t.yu.Gt(n):n instanceof ek?t.yu.Yt(n):t.yu.Wt(n),r.isEqual(Wv.min())){e.next=29;break}return e.prev=14,e.next=17,nx(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.yu.te(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.du.get(r);i&&e.du.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.du.get(t);if(n){e.du.set(t,n.withResumeToken(Pm.EMPTY_BYTE_STRING,n.snapshotVersion)),$x(e,t);var r=new mb(n.target,t,1,n.sequenceNumber);Qx(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),bv("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,o_(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),a_.apply(this,arguments)}function o_(e,t,n){return u_.apply(this,arguments)}function u_(){return u_=bn(mn().mark((function e(t,n,r){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(pm(n)){e.next=2;break}throw n;case 2:return t._u.add(1),e.next=5,Wx(t);case 5:t.gu.set("Offline"),r||(r=function(){return nx(t.localStore)}),t.asyncQueue.enqueueRetryable(bn(mn().mark((function e(){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return bv("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t._u.delete(1),e.next=6,Bx(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),u_.apply(this,arguments)}function s_(e,t){return t().catch((function(n){return o_(e,n,t)}))}function c_(e){return l_.apply(this,arguments)}function l_(){return l_=bn(mn().mark((function e(t){var n,r,i,a;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Ev(t),r=C_(n),i=n.fu.length>0?n.fu[n.fu.length-1].batchId:-1;case 2:if(!f_(n)){e.next=19;break}return e.prev=3,e.next=6,ax(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.fu.length&&r.Fo(),e.abrupt("break",19);case 10:i=a.batchId,h_(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,o_(n,e.t0);case 17:e.next=2;break;case 19:d_(n)&&p_(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),l_.apply(this,arguments)}function f_(e){return Jx(e)&&e.fu.length<10}function h_(e,t){e.fu.push(t);var n=C_(e);n.ko()&&n.Yo&&n.Xo(t.mutations)}function d_(e){return Jx(e)&&!C_(e).No()&&e.fu.length>0}function p_(e){C_(e).start()}function v_(e){return m_.apply(this,arguments)}function m_(){return m_=bn(mn().mark((function e(t){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:C_(t).eu();case 1:case"end":return e.stop()}}),e)}))),m_.apply(this,arguments)}function y_(e){return g_.apply(this,arguments)}function g_(){return g_=bn(mn().mark((function e(t){var n,r,i,a;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=C_(t),r=Ct(t.fu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Xo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),g_.apply(this,arguments)}function k_(e,t,n){return b_.apply(this,arguments)}function b_(){return b_=bn(mn().mark((function e(t,n,r){var i,a;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.fu.shift(),a=pb.from(i,n,r),e.next=3,s_(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,c_(t);case 5:case"end":return e.stop()}}),e)}))),b_.apply(this,arguments)}function w_(e,t){return x_.apply(this,arguments)}function x_(){return x_=bn(mn().mark((function e(t,n){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&C_(t).Yo,!e.t0){e.next=4;break}return e.next=4,function(){var e=bn(mn().mark((function e(t,n){var r,i;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Lg(i=n.code)||i===Tv.ABORTED){e.next=7;break}return r=t.fu.shift(),C_(t).Mo(),e.next=5,s_(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,c_(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:d_(t)&&p_(t);case 5:case"end":return e.stop()}}),e)}))),x_.apply(this,arguments)}function __(e,t){return S_.apply(this,arguments)}function S_(){return S_=bn(mn().mark((function e(t,n){var r,i;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Ev(t)).asyncQueue.verifyOperationInProgress(),bv("RemoteStore","RemoteStore received new credentials"),i=Jx(r),r._u.add(3),e.next=6,Wx(r);case 6:return i&&r.gu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r._u.delete(3),e.next=12,Bx(r);case 12:case"end":return e.stop()}}),e)}))),S_.apply(this,arguments)}function I_(e,t){return E_.apply(this,arguments)}function E_(){return E_=bn(mn().mark((function e(t,n){var r;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ev(t),!n){e.next=7;break}return r._u.delete(2),e.next=5,Bx(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r._u.add(2),e.next=12,Wx(r);case 12:r.gu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),E_.apply(this,arguments)}function T_(e){return e.pu||(e.pu=function(e,t,n){var r=Ev(e);return r.su(),new Fx(t,r.connection,r.authCredentials,r.appCheckCredentials,r.It,n)}(e.datastore,e.asyncQueue,{Yr:e_.bind(null,e),Zr:n_.bind(null,e),Wo:i_.bind(null,e)}),e.wu.push(function(){var t=bn(mn().mark((function t(n){return mn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.pu.Mo(),Xx(e)?Yx(e):e.gu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.pu.stop();case 6:Zx(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.pu}function C_(e){return e.Iu||(e.Iu=function(e,t,n){var r=Ev(e);return r.su(),new jx(t,r.connection,r.authCredentials,r.appCheckCredentials,r.It,n)}(e.datastore,e.asyncQueue,{Yr:v_.bind(null,e),Zr:w_.bind(null,e),tu:y_.bind(null,e),Zo:k_.bind(null,e)}),e.wu.push(function(){var t=bn(mn().mark((function t(n){return mn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Iu.Mo(),t.next=4,c_(e);case 4:t.next=9;break;case 6:return t.next=8,e.Iu.stop();case 8:e.fu.length>0&&(bv("RemoteStore","Stopping write stream with ".concat(e.fu.length," pending writes")),e.fu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}var A_=function(){function e(t,n,r,i,a){It(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Av,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Tt(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Cv(Tv.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function O_(e,t){if(wv("AsyncQueue","".concat(t,": ").concat(e)),pm(e))return new Cv(Tv.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var N_=function(){function e(t){It(this,e),this.comparator=t?function(e,n){return t(e,n)||$v.comparator(e.key,n.key)}:function(e,t){return $v.comparator(e.key,t.key)},this.keyedMap=zg(),this.sortedSet=new Im(this.comparator)}return Tt(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),P_=function(){function e(){It(this,e),this.Tu=new Im($v.comparator)}return Tt(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Tu.get(t);n?0!==e.type&&3===n.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==n.type?this.Tu=this.Tu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Tu=this.Tu.remove(t):1===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):Sv():this.Tu=this.Tu.insert(t,e)}},{key:"Eu",value:function(){var e=[];return this.Tu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),D_=function(){function e(t,n,r,i,a,o,u,s,c){It(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s,this.hasCachedResults=c}return Tt(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,N_.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),R_=Tt((function e(){It(this,e),this.Au=void 0,this.listeners=[]})),L_=Tt((function e(){It(this,e),this.queries=new Fg((function(e){return Qy(e)}),Hy),this.onlineState="Unknown",this.Ru=new Set}));function M_(e,t){return F_.apply(this,arguments)}function F_(){return F_=bn(mn().mark((function e(t,n){var r,i,a,o,u;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ev(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new R_),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Au=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=O_(e.t0,"Initialization of query '".concat($y(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.bu(r.onlineState),o.Au&&n.Pu(o.Au)&&B_(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),F_.apply(this,arguments)}function j_(e,t){return U_.apply(this,arguments)}function U_(){return U_=bn(mn().mark((function e(t,n){var r,i,a,o,u;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ev(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),U_.apply(this,arguments)}function V_(e,t){var n,r=Ev(e),i=!1,a=Ct(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=Ct(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Pu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Au=o}}}catch(f){a.e(f)}finally{a.f()}i&&B_(r)}function z_(e,t,n){var r=Ev(e),i=r.queries.get(t);if(i){var a,o=Ct(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function B_(e){e.Ru.forEach((function(e){e.next()}))}var q_=function(){function e(t,n,r){It(this,e),this.query=t,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}return Tt(e,[{key:"Pu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Ct(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new D_(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),a=!0):this.Cu(e,this.onlineState)&&(this.xu(e),a=!0),this.Su=e,a}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"bu",value:function(e){this.onlineState=e;var t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}},{key:"Cu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Nu||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Du",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"xu",value:function(e){e=D_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}]),e}(),W_=function(){function e(t,n){It(this,e),this.ku=t,this.byteLength=n}return Tt(e,[{key:"Ou",value:function(){return"metadata"in this.ku}}]),e}(),K_=function(){function e(t){It(this,e),this.It=t}return Tt(e,[{key:"Ji",value:function(e){return mk(this.It,e)}},{key:"Yi",value:function(e){return e.metadata.exists?xk(this.It,e.document,!1):py.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}},{key:"Xi",value:function(e){return hk(e)}}]),e}(),G_=function(){function e(t,n,r){It(this,e),this.Mu=t,this.localStore=n,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=H_(t)}return Tt(e,[{key:"Fu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;var n=Gv.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"$u",value:function(e){var t,n=new Map,r=new K_(this.It),i=Ct(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Ji(a.metadata.name),s=Ct(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||Qg()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=bn(mn().mark((function e(){var t,n,r,i,a;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dx(this.localStore,new K_(this.It),this.documents,this.Mu.id);case 2:t=e.sent,n=this.$u(this.documents),r=Ct(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,vx(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Bu:this.collectionGroups,Lu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function H_(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var Q_=Tt((function e(t){It(this,e),this.key=t})),$_=Tt((function e(t){It(this,e),this.key=t})),Y_=function(){function e(t,n){It(this,e),this.query=t,this.Uu=n,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Qg(),this.mutatedKeys=Qg(),this.Gu=Jy(t),this.Qu=new N_(this.Gu)}return Tt(e,[{key:"ju",get:function(){return this.Uu}},{key:"Wu",value:function(e,t){var n=this,r=t?t.zu:new P_,i=t?t.Qu:this.Qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Yy(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Hu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Gu(f,s)>0||c&&n.Gu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Qu:o,zu:r,$i:u,mutatedKeys:a}}},{key:"Hu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;var a=e.zu.Eu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Sv()}};return n(e)-n(t)}(e.type,t.type)||r.Gu(e.doc,t.doc)})),this.Ju(n);var o=t?this.Yu():[],u=0===this.Ku.size&&this.current?1:0,s=u!==this.qu;return this.qu=u,0!==a.length||s?{snapshot:new D_(this.query,e.Qu,i,a,e.mutatedKeys,0===u,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}},{key:"bu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new P_,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}},{key:"Zu",value:function(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}},{key:"Ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Uu=t.Uu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Uu=t.Uu.delete(e)})),this.current=e.current)}},{key:"Yu",value:function(){var e=this;if(!this.current)return[];var t=this.Ku;this.Ku=Qg(),this.Qu.forEach((function(t){e.Zu(t.key)&&(e.Ku=e.Ku.add(t.key))}));var n=[];return t.forEach((function(t){e.Ku.has(t)||n.push(new $_(t))})),this.Ku.forEach((function(e){t.has(e)||n.push(new Q_(e))})),n}},{key:"tc",value:function(e){this.Uu=e.Hi,this.Ku=Qg();var t=this.Wu(e.documents);return this.applyChanges(t,!0)}},{key:"ec",value:function(){return D_.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}]),e}(),X_=Tt((function e(t,n,r){It(this,e),this.query=t,this.targetId=n,this.view=r})),J_=Tt((function e(t){It(this,e),this.key=t,this.nc=!1})),Z_=function(){function e(t,n,r,i,a,o){It(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new Fg((function(e){return Qy(e)}),Hy),this.rc=new Map,this.oc=new Set,this.uc=new Im($v.comparator),this.cc=new Map,this.ac=new Dw,this.hc={},this.lc=new Map,this.fc=cw.vn(),this.onlineState="Unknown",this.dc=void 0}return Tt(e,[{key:"isPrimaryClient",get:function(){return!0===this.dc}}]),e}();function eS(e,t){return tS.apply(this,arguments)}function tS(){return tS=bn(mn().mark((function e(t,n){var r,i,a,o,u,s;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=HS(t),!(o=r.ic.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.ec(),e.next=15;break;case 6:return e.next=8,ox(r.localStore,Ky(n));case 8:return u=e.sent,r.isPrimaryClient&&Gx(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,nS(r,n,i,"current"===s,u.resumeToken);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),tS.apply(this,arguments)}function nS(e,t,n,r,i){return rS.apply(this,arguments)}function rS(){return rS=bn(mn().mark((function e(t,n,r,i,a){var o,u,s,c,l,f;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._c=function(e,n,r){return function(){var e=bn(mn().mark((function e(t,n,r,i){var a,o,u;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Wu(r),e.t0=a.$i,!e.t0){e.next=6;break}return e.next=5,cx(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Wu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(_S(t,n.targetId,u.Xu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,cx(t.localStore,n,!0);case 3:return o=e.sent,u=new Y_(n,o.Hi),s=u.Wu(o.documents),c=Jg.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=u.applyChanges(s,t.isPrimaryClient,c),_S(t,r,l.Xu),f=new X_(n,r,u),e.abrupt("return",(t.ic.set(n,f),t.rc.has(r)?t.rc.get(r).push(n):t.rc.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),rS.apply(this,arguments)}function iS(e,t){return aS.apply(this,arguments)}function aS(){return aS=bn(mn().mark((function e(t,n){var r,i,a;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ev(t),i=r.ic.get(n),!((a=r.rc.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.rc.set(i.targetId,a.filter((function(e){return!Hy(e,n)}))),void r.ic.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,ux(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Hx(r.remoteStore,i.targetId),wS(r,i.targetId)})).catch(um);case 9:e.next=14;break;case 11:return wS(r,i.targetId),e.next=14,ux(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),aS.apply(this,arguments)}function oS(e,t,n){return uS.apply(this,arguments)}function uS(){return uS=bn(mn().mark((function e(t,n,r){var i,a,o;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=QS(t),e.prev=1,e.next=4,function(e,t){var n,r,i=Ev(e),a=qv.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Qg());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=Ug(),s=Qg();return i.Gi.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=Ct(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=_g(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new Eg(c.key,l,dy(l.value.mapValue),yg.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:Bg(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.hc[e.currentUser.toKey()];r||(r=new Im(Vv)),r=r.insert(t,n),e.hc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,ES(i,a.changes);case 9:return e.next=11,c_(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=O_(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),uS.apply(this,arguments)}function sS(e,t){return cS.apply(this,arguments)}function cS(){return cS=bn(mn().mark((function e(t,n){var r,i;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ev(t),e.prev=1,e.next=4,rx(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.cc.get(t);n&&(Iv(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.nc=!0:e.modifiedDocuments.size>0?Iv(n.nc):e.removedDocuments.size>0&&(Iv(n.nc),n.nc=!1))})),e.next=8,ES(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,um(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),cS.apply(this,arguments)}function lS(e,t,n){var r=Ev(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ic.forEach((function(e,n){var r=n.view.bu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Ev(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Ct(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.bu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&B_(n)}(r.eventManager,t),i.length&&r.sc.Wo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function fS(e,t,n){return hS.apply(this,arguments)}function hS(){return hS=bn(mn().mark((function e(t,n,r){var i,a,o,u,s,c;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Ev(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.cc.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new Im($v.comparator)).insert(o,py.newNoDocument(o,Wv.min())),s=Qg().add(o),c=new Xg(Wv.min(),new Map,new Cm(Vv),u,s),e.next=9,sS(i,c);case 9:i.uc=i.uc.remove(o),i.cc.delete(n),IS(i),e.next=16;break;case 14:return e.next=16,ux(i.localStore,n,!1).then((function(){return wS(i,n,r)})).catch(um);case 16:case"end":return e.stop()}}),e)}))),hS.apply(this,arguments)}function dS(e,t){return pS.apply(this,arguments)}function pS(){return pS=bn(mn().mark((function e(t,n){var r,i,a;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ev(t),i=n.batch.batchId,e.prev=1,e.next=4,tx(r.localStore,n);case 4:return a=e.sent,bS(r,i,null),kS(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,ES(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,um(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),pS.apply(this,arguments)}function vS(e,t,n){return mS.apply(this,arguments)}function mS(){return mS=bn(mn().mark((function e(t,n,r){var i,a;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ev(t),e.prev=1,e.next=4,function(e,t){var n=Ev(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return Iv(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,bS(i,n,r),kS(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,ES(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,um(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),mS.apply(this,arguments)}function yS(e,t){return gS.apply(this,arguments)}function gS(){return gS=bn(mn().mark((function e(t,n){var r,i,a,o;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Jx((r=Ev(t)).remoteStore)||bv("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Ev(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.lc.get(i)||[]).push(n),r.lc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=O_(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),gS.apply(this,arguments)}function kS(e,t){(e.lc.get(t)||[]).forEach((function(e){e.resolve()})),e.lc.delete(t)}function bS(e,t,n){var r=Ev(e),i=r.hc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.hc[r.currentUser.toKey()]=i}}function wS(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Ct(e.rc.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ic.delete(a),n&&e.sc.wc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.rc.delete(t),e.isPrimaryClient&&e.ac.ls(t).forEach((function(t){e.ac.containsKey(t)||xS(e,t)}))}function xS(e,t){e.oc.delete(t.path.canonicalString());var n=e.uc.get(t);null!==n&&(Hx(e.remoteStore,n),e.uc=e.uc.remove(t),e.cc.delete(n),IS(e))}function _S(e,t,n){var r,i=Ct(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof Q_?(e.ac.addReference(a.key,t),SS(e,a)):a instanceof $_?(bv("SyncEngine","Document no longer in limbo: "+a.key),e.ac.removeReference(a.key,t),e.ac.containsKey(a.key)||xS(e,a.key)):Sv()}}catch(o){i.e(o)}finally{i.f()}}function SS(e,t){var n=t.key,r=n.path.canonicalString();e.uc.get(n)||e.oc.has(r)||(bv("SyncEngine","New document in limbo: "+n),e.oc.add(r),IS(e))}function IS(e){for(;e.oc.size>0&&e.uc.size<e.maxConcurrentLimboResolutions;){var t=e.oc.values().next().value;e.oc.delete(t);var n=new $v(Gv.fromString(t)),r=e.fc.next();e.cc.set(r,new J_(n)),e.uc=e.uc.insert(n,r),Gx(e.remoteStore,new mb(Ky(Uy(n.path)),r,2,wm.at))}}function ES(e,t,n){return TS.apply(this,arguments)}function TS(){return TS=bn(mn().mark((function e(t,n,r){var i,a,o,u;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Ev(t),a=[],o=[],u=[],e.t0=i.ic.isEmpty(),e.t0){e.next=9;break}return i.ic.forEach((function(e,t){u.push(i._c(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=$w.Ci(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.sc.Wo(a),e.next=9,function(){var e=bn(mn().mark((function e(t,n){var r,i,a,o,u,s,c,l;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ev(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return cm.forEach(n,(function(t){return cm.forEach(t.Si,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return cm.forEach(t.Di,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),pm(e.t0)){e.next=10;break}throw e.t0;case 10:bv("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Ct(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.Ui.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.Ui=r.Ui.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),TS.apply(this,arguments)}function CS(e,t){return AS.apply(this,arguments)}function AS(){return AS=bn(mn().mark((function e(t,n){var r,i;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Ev(t)).currentUser.isEqual(n)){e.next=11;break}return bv("SyncEngine","User change. New user:",n.toKey()),e.next=5,Zw(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.lc.forEach((function(e){e.forEach((function(e){e.reject(new Cv(Tv.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.lc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,ES(r,i.ji);case 11:case"end":return e.stop()}}),e)}))),AS.apply(this,arguments)}function OS(e,t){var n=Ev(e),r=n.cc.get(t);if(r&&r.nc)return Qg().add(r.key);var i=Qg(),a=n.rc.get(t);if(!a)return i;var o,u=Ct(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.ic.get(s);i=i.unionWith(c.view.ju)}}catch(l){u.e(l)}finally{u.f()}return i}function NS(e,t){return PS.apply(this,arguments)}function PS(){return PS=bn(mn().mark((function e(t,n){var r,i,a;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ev(t),e.next=3,cx(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.tc(i),e.abrupt("return",(r.isPrimaryClient&&_S(r,n.targetId,a.Xu),a));case 6:case"end":return e.stop()}}),e)}))),PS.apply(this,arguments)}function DS(e,t){return RS.apply(this,arguments)}function RS(){return RS=bn(mn().mark((function e(t,n){var r;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ev(t),e.abrupt("return",fx(r.localStore,n).then((function(e){return ES(r,e)})));case 2:case"end":return e.stop()}}),e)}))),RS.apply(this,arguments)}function LS(e,t,n,r){return MS.apply(this,arguments)}function MS(){return MS=bn(mn().mark((function e(t,n,r,i){var a,o;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ev(t),e.next=3,function(e,t){var n=Ev(e),r=Ev(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Tn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):cm.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,c_(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(bS(a,n,i||null),kS(a,n),function(e,t){Ev(Ev(e).mutationQueue).An(t)}(a.localStore,n)):Sv();case 11:return e.next=13,ES(a,o);case 13:e.next=16;break;case 15:bv("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),MS.apply(this,arguments)}function FS(e,t){return jS.apply(this,arguments)}function jS(){return jS=bn(mn().mark((function e(t,n){var r,i,a,o,u,s,c,l;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(HS(r=Ev(t)),QS(r),!0!==n||!0===r.dc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,US(r,i.toArray());case 5:return a=e.sent,r.dc=!0,e.next=9,I_(r.remoteStore,!0);case 9:o=Ct(a);try{for(o.s();!(u=o.n()).done;)s=u.value,Gx(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.dc){e.next=25;break}return c=[],l=Promise.resolve(),r.rc.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return wS(r,t),ux(r.localStore,t,!0)})),Hx(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,US(r,c);case 21:return function(e){var t=Ev(e);t.cc.forEach((function(e,n){Hx(t.remoteStore,n)})),t.ac.fs(),t.cc=new Map,t.uc=new Im($v.comparator)}(r),r.dc=!1,e.next=25,I_(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),jS.apply(this,arguments)}function US(e,t,n){return VS.apply(this,arguments)}function VS(){return VS=bn(mn().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Ev(t),a=[],o=[],u=Ct(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.rc.get(c))||0===f.length){e.next=34;break}return e.next=11,ox(i.localStore,Ky(f[0]));case 11:l=e.sent,h=Ct(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.ic.get(p),e.next=20,NS(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,lx(i.localStore,c);case 36:return y=e.sent,e.next=39,ox(i.localStore,y);case 39:return l=e.sent,e.next=42,nS(i,zS(y),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.sc.Wo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),VS.apply(this,arguments)}function zS(e){return jy(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function BS(e){var t=Ev(e);return Ev(Ev(t.localStore).persistence).vi()}function qS(e,t,n,r){return WS.apply(this,arguments)}function WS(){return WS=bn(mn().mark((function e(t,n,r,i){var a,o,u,s;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Ev(t)).dc){e.next=3;break}return e.abrupt("return",void bv("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.rc.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,fx(a.localStore,Xy(o[0]));case 10:return u=e.sent,s=Xg.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,Pm.EMPTY_BYTE_STRING),e.next=14,ES(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,ux(a.localStore,n,!0);case 17:return wS(a,n,i),e.abrupt("break",20);case 19:Sv();case 20:case"end":return e.stop()}}),e)}))),WS.apply(this,arguments)}function KS(e,t,n){return GS.apply(this,arguments)}function GS(){return GS=bn(mn().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=HS(t)).dc){e.next=45;break}a=Ct(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.rc.has(u)){e.next=10;break}return bv("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,lx(i.localStore,u);case 12:return s=e.sent,e.next=15,ox(i.localStore,s);case 15:return c=e.sent,e.next=18,nS(i,zS(s),c.targetId,!1,c.resumeToken);case 18:Gx(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=Ct(r),e.prev=30,h=mn().mark((function e(){var t;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.rc.has(t),!e.t0){e.next=5;break}return e.next=5,ux(i.localStore,t,!1).then((function(){Hx(i.remoteStore,t),wS(i,t)})).catch(um);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),GS.apply(this,arguments)}function HS(e){var t=Ev(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=sS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=OS.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=fS.bind(null,t),t.sc.Wo=V_.bind(null,t.eventManager),t.sc.wc=z_.bind(null,t.eventManager),t}function QS(e){var t=Ev(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=dS.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=vS.bind(null,t),t}function $S(e,t,n){var r=Ev(e);(function(){var e=bn(mn().mark((function e(t,n,r){var i,a,o,u,s;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Ev(e),r=hk(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ns.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(H_(i)),a=new G_(i,t.localStore,n.It),e.next=15,n.mc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Fu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.mc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,ES(t,s.Lu,void 0);case 31:return e.next=33,function(e,t){var n=Ev(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ns.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Bu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(xv("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var YS=function(){function e(){It(this,e),this.synchronizeTabs=!1}return Tt(e,[{key:"initialize",value:function(){var e=bn(mn().mark((function e(t){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.It=Rx(t.databaseInfo.databaseId),this.sharedClientState=this.gc(t),this.persistence=this.yc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.Ic(t),this.gcScheduler=this.Tc(t,this.localStore),this.indexBackfillerScheduler=this.Ec(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Tc",value:function(e,t){return null}},{key:"Ec",value:function(e,t){return null}},{key:"Ic",value:function(e){return Jw(this.persistence,new Yw,e.initialUser,this.It)}},{key:"yc",value:function(e){return new Uw(zw.Bs,this.It)}},{key:"gc",value:function(e){return new Ex}},{key:"terminate",value:function(){var e=bn(mn().mark((function e(){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),XS=function(e){Nt(n,e);var t=Mt(n);function n(e,r,i){var a;return It(this,n),(a=t.call(this)).Ac=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return Tt(n,[{key:"initialize",value:function(){var e=bn(mn().mark((function e(t){var r=this;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qr(Pt(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Ac.initialize(this,t);case 4:return e.next=6,QS(this.Ac.syncEngine);case 6:return e.next=8,c_(this.Ac.remoteStore);case 8:return e.next=10,this.persistence.li((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ic",value:function(e){return Jw(this.persistence,new Yw,e.initialUser,this.It)}},{key:"Tc",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new mw(n,e.asyncQueue,t)}},{key:"Ec",value:function(e,t){var n=new bm(t,this.persistence);return new km(e.asyncQueue,n)}},{key:"yc",value:function(e){var t=Qw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?tw.withCacheSize(this.cacheSizeBytes):tw.DEFAULT;return new Kw(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Px(),Dx(),this.It,this.sharedClientState,!!this.forceOwnership)}},{key:"gc",value:function(e){return new Ex}}]),n}(YS),JS=function(e){Nt(n,e);var t=Mt(n);function n(e,r){var i;return It(this,n),(i=t.call(this,e,r,!1)).Ac=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return Tt(n,[{key:"initialize",value:function(){var e=bn(mn().mark((function e(t){var r,i=this;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qr(Pt(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Ac.syncEngine,e.t0=this.sharedClientState instanceof Ix,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Fr:LS.bind(null,r),$r:qS.bind(null,r),Br:KS.bind(null,r),vi:BS.bind(null,r),Mr:DS.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.li(function(){var e=bn(mn().mark((function e(t){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,FS(i.Ac.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"gc",value:function(e){var t=Px();if(!Ix.C(t))throw new Cv(Tv.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Qw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Ix(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(XS),ZS=function(){function e(){It(this,e)}return Tt(e,[{key:"initialize",value:function(){var e=bn(mn().mark((function e(t,n){var r=this;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return lS(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=CS.bind(null,this.syncEngine),e.next=12,I_(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new L_}},{key:"createDatastore",value:function(e){var t,n=Rx(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Nx(t));return function(e,t,n,r){return new Ux(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return lS(o.syncEngine,e,0)},a=Cx.C()?new Cx:new Tx,new zx(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new Z_(e,t,n,r,i,a);return o&&(u.dc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=bn(mn().mark((function e(t){var n;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ev(t),bv("RemoteStore","RemoteStore shutting down."),n._u.add(5),e.next=5,Wx(n);case 5:n.mu.shutdown(),n.gu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function eI(e,t,n){if(!n)throw new Cv(Tv.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function tI(e,t,n,r){if(!0===t&&!0===r)throw new Cv(Tv.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function nI(e){if(!$v.isDocumentKey(e))throw new Cv(Tv.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function rI(e){if($v.isDocumentKey(e))throw new Cv(Tv.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function iI(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Sv()}function aI(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Cv(Tv.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=iI(e);throw new Cv(Tv.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function oI(e,t){if(t<=0)throw new Cv(Tv.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var uI=new Map,sI=function(){function e(t){var n;if(It(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Cv(Tv.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Cv(Tv.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,tI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Tt(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),cI=function(){function e(t,n,r,i){It(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sI({}),this._settingsFrozen=!1}return Tt(e,[{key:"app",get:function(){if(!this._app)throw new Cv(Tv.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Cv(Tv.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sI(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Nv;switch(e.type){case"gapi":var t=e.client;return new Lv(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Cv(Tv.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=uI.get(e);t&&(bv("ComponentProvider","Removing Datastore"),uI.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function lI(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=aI(e,cI))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&xv("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=mv.MOCK_USER;else{o=en(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Cv(Tv.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new mv(s)}e._authCredentials=new Pv(new Ov(o,u))}}var fI=function(){function e(t,n,r){It(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Tt(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new dI(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),hI=function(){function e(t,n,r){It(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Tt(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),dI=function(e){Nt(n,e);var t=Mt(n);function n(e,r,i){var a;return It(this,n),(a=t.call(this,e,r,Uy(i)))._path=i,a.type="collection",a}return Tt(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new fI(this.firestore,null,new $v(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(hI);function pI(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=vn(e),eI("collection","path",t),e instanceof cI){var a=Gv.fromString.apply(Gv,[t].concat(r));return rI(a),new dI(e,null,a)}if(!(e instanceof fI||e instanceof dI))throw new Cv(Tv.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Gv.fromString.apply(Gv,[t].concat(r)));return rI(o),new dI(e.firestore,null,o)}function vI(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=vn(e),1===arguments.length&&(t=Uv.R()),eI("doc","path",t),e instanceof cI){var a=Gv.fromString.apply(Gv,[t].concat(r));return nI(a),new fI(e,null,new $v(a))}if(!(e instanceof fI||e instanceof dI))throw new Cv(Tv.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Gv.fromString.apply(Gv,[t].concat(r)));return nI(o),new fI(e.firestore,e instanceof dI?e.converter:null,new $v(o))}function mI(e,t){return e=vn(e),t=vn(t),(e instanceof fI||e instanceof dI)&&(t instanceof fI||t instanceof dI)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function yI(e,t){return e=vn(e),t=vn(t),e instanceof hI&&t instanceof hI&&e.firestore===t.firestore&&Hy(e._query,t._query)&&e.converter===t.converter}function gI(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return bn(mn().mark((function r(){var i;return mn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return bn(mn().mark((function e(){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var kI=function(){function e(t){It(this,e),this.observer=t,this.muted=!1}return Tt(e,[{key:"next",value:function(e){this.observer.next&&this.Rc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Rc(this.observer.error,e):wv("Uncaught Error in snapshot listener:",e.toString())}},{key:"bc",value:function(){this.muted=!0}},{key:"Rc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),bI=function(){function e(t,n){var r=this;It(this,e),this.Pc=t,this.It=n,this.metadata=new Av,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then((function(e){e&&e.Ou()?r.metadata.resolve(e.ku.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.ku))))}),(function(e){return r.metadata.reject(e)}))}return Tt(e,[{key:"close",value:function(){return this.Pc.cancel()}},{key:"getMetadata",value:function(){var e=bn(mn().mark((function e(){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"mc",value:function(){var e=bn(mn().mark((function e(){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Vc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vc",value:function(){var e=bn(mn().mark((function e(){var t,n,r,i;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Sc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.vc.decode(t),r=Number(n),isNaN(r)&&this.Dc("length string (".concat(n,") is not valid number")),e.next=9,this.Cc(r);case 9:return i=e.sent,e.abrupt("return",new W_(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"xc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Sc",value:function(){var e=bn(mn().mark((function e(){var t,n;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.xc()<0)){e.next=7;break}return e.next=3,this.Nc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.xc())<0&&this.Dc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Cc",value:function(){var e=bn(mn().mark((function e(t){var n;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Nc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Dc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.vc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dc",value:function(e){throw this.Pc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Nc",value:function(){var e=bn(mn().mark((function e(){var t,n;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Pc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),wI=function(){function e(t){It(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return Tt(e,[{key:"lookup",value:function(){var e=bn(mn().mark((function e(t){var n,r=this;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Cv(Tv.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=bn(mn().mark((function e(t,n){var r,i,a,o,u,s;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ev(t),i=kk(r.It)+"/documents",a={documents:n.map((function(e){return vk(r.It,e)}))},e.next=5,r._o("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=_k(r.It,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());Iv(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Pg(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=bn(mn().mark((function e(){var t,n=this;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=$v.fromPath(t);n.mutations.push(new Dg(r,n.precondition(r)))})),e.next=7,function(){var e=bn(mn().mark((function e(t,n){var r,i,a;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ev(t),i=kk(r.It)+"/documents",a={writes:n.map((function(e){return Sk(r.It,e)}))},e.next=3,r.ao("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Sv();t=Wv.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Cv(Tv.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Wv.min())?yg.exists(!1):yg.updateTime(t):yg.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Wv.min()))throw new Cv(Tv.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return yg.updateTime(t)}return yg.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),xI=function(){function e(t,n,r,i,a){It(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.kc=r.maxAttempts,this.xo=new Lx(this.asyncQueue,"transaction_retry")}return Tt(e,[{key:"run",value:function(){this.kc-=1,this.Oc()}},{key:"Oc",value:function(){var e=this;this.xo.Ro(bn(mn().mark((function t(){var n,r;return mn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new wI(e.datastore),(r=e.Mc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Fc(t)}))}))})).catch((function(t){e.Fc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Mc",value:function(e){try{var t=this.updateFunction(e);return!Bm(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Fc",value:function(e){var t=this;this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Oc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"$c",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Lg(t)}return!1}}]),e}(),_I=function(){function e(t,n,r,i){var a=this;It(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=mv.UNAUTHENTICATED,this.clientId=Uv.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=bn(mn().mark((function e(t){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return bv("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return bv("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return Tt(e,[{key:"getConfiguration",value:function(){var e=bn(mn().mark((function e(){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Cv(Tv.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Av;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(bn(mn().mark((function n(){var r;return mn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=O_(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function SI(e,t){return II.apply(this,arguments)}function II(){return II=bn(mn().mark((function e(t,n){var r,i;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),bv("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=bn(mn().mark((function e(t){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Zw(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),II.apply(this,arguments)}function EI(e,t){return TI.apply(this,arguments)}function TI(){return TI=bn(mn().mark((function e(t,n){var r,i;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,CI(t);case 3:return r=e.sent,bv("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return __(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return __(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),TI.apply(this,arguments)}function CI(e){return AI.apply(this,arguments)}function AI(){return AI=bn(mn().mark((function e(t){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return bv("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,SI(t,new YS);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),AI.apply(this,arguments)}function OI(e){return NI.apply(this,arguments)}function NI(){return NI=bn(mn().mark((function e(t){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return bv("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,EI(t,new ZS);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),NI.apply(this,arguments)}function PI(e){return CI(e).then((function(e){return e.persistence}))}function DI(e){return CI(e).then((function(e){return e.localStore}))}function RI(e){return OI(e).then((function(e){return e.remoteStore}))}function LI(e){return OI(e).then((function(e){return e.syncEngine}))}function MI(e){return OI(e).then((function(e){return e.datastore}))}function FI(e){return jI.apply(this,arguments)}function jI(){return jI=bn(mn().mark((function e(t){var n,r;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,OI(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=eS.bind(null,n.syncEngine),r.onUnlisten=iS.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),jI.apply(this,arguments)}function UI(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Av;return e.asyncQueue.enqueueAndForget(bn(mn().mark((function i(){return mn().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new kI({next:function(a){t.enqueueAndForget((function(){return j_(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new Cv(Tv.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Cv(Tv.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new q_(Uy(n.path),a,{includeMetadataChanges:!0,Nu:!0});return M_(e,o)},i.next=3,FI(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function VI(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Av;return e.asyncQueue.enqueueAndForget(bn(mn().mark((function i(){return mn().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new kI({next:function(n){t.enqueueAndForget((function(){return j_(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Cv(Tv.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new q_(n,a,{includeMetadataChanges:!0,Nu:!0});return M_(e,o)},i.next=3,FI(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var zI=function(){function e(){var t=this;It(this,e),this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new Lx(this,"async_queue_retry"),this.Wc=function(){var e=Dx();e&&bv("AsyncQueue","Visibility state changed to "+e.visibilityState),t.xo.Po()};var n=Dx();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Wc)}return Tt(e,[{key:"isShuttingDown",get:function(){return this.Uc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.zc(),this.Hc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;var t=Dx();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}},{key:"enqueue",value:function(e){var t=this;if(this.zc(),this.Uc)return new Promise((function(){}));var n=new Av;return this.Hc((function(){return t.Uc&&t.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Lc.push(e),t.Jc()}))}},{key:"Jc",value:function(){var e=bn(mn().mark((function e(){var t=this;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Lc.length){e.next=14;break}return e.prev=1,e.next=4,this.Lc[0]();case 4:this.Lc.shift(),this.xo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),pm(e.t0)){e.next=12;break}throw e.t0;case 12:bv("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Lc.length>0&&this.xo.Ro((function(){return t.Jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t=this,n=this.Bc.then((function(){return t.Gc=!0,e().catch((function(e){t.Kc=e,t.Gc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw wv("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Gc=!1,e}))}));return this.Bc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.zc(),this.jc.indexOf(e)>-1&&(t=0);var i=A_.createAndSchedule(this,e,t,n,(function(e){return r.Yc(e)}));return this.qc.push(i),i}},{key:"zc",value:function(){this.Kc&&Sv()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Xc",value:function(){var e=bn(mn().mark((function e(){var t;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Bc,e.next=3,t;case 3:if(t!==this.Bc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Zc",value:function(e){var t,n=Ct(this.qc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ta",value:function(e){var t=this;return this.Xc().then((function(){t.qc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Ct(t.qc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Xc()}))}},{key:"ea",value:function(e){this.jc.push(e)}},{key:"Yc",value:function(e){var t=this.qc.indexOf(e);this.qc.splice(t,1)}}]),e}();function BI(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Ct(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var qI=function(){function e(){It(this,e),this._progressObserver={},this._taskCompletionResolver=new Av,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return Tt(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),WI=function(e){Nt(n,e);var t=Mt(n);function n(e,r,i,a){var o;return It(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new zI,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return Tt(n,[{key:"_terminate",value:function(){return this._firestoreClient||GI(this),this._firestoreClient.terminate()}}]),n}(cI);function KI(e){return e._firestoreClient||GI(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function GI(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Vm(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new _I(e._authCredentials,e._appCheckCredentials,e._queue,r)}function HI(e,t,n){var r=new Av;return e.asyncQueue.enqueue(bn(mn().mark((function i(){var a;return mn().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,SI(e,n);case 3:return i.next=5,EI(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Tv.FAILED_PRECONDITION||e.code===Tv.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(a=i.t0)){i.next=13;break}throw a;case 13:xv("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function QI(e){return function(e){return e.asyncQueue.enqueue(bn(mn().mark((function t(){var n,r;return mn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,PI(e);case 2:return n=t.sent,t.next=5,RI(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Ev(e);return t._u.delete(0),Bx(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(KI(e=aI(e,WI)))}function $I(e){return function(e){return e.asyncQueue.enqueue(bn(mn().mark((function t(){var n,r;return mn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,PI(e);case 2:return n=t.sent,t.next=5,RI(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=bn(mn().mark((function e(t){var n;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Ev(t))._u.add(0),e.next=4,Wx(n);case 4:n.gu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(KI(e=aI(e,WI)))}function YI(e,t){var n=KI(e=aI(e,WI)),r=new qI;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new bI(e,t)}(function(e,t){if(e instanceof Uint8Array)return gI(e,t);if(e instanceof ArrayBuffer)return gI(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,Rx(t));e.asyncQueue.enqueueAndForget(bn(mn().mark((function t(){return mn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=$S,t.next=3,LI(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function XI(e,t){return function(e,t){return e.asyncQueue.enqueue(bn(mn().mark((function n(){return mn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Ev(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ns.getNamedQuery(e,t)}))},n.next=3,DI(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(KI(e=aI(e,WI)),t).then((function(t){return t?new hI(e,null,t.query):null}))}function JI(e){if(e._initialized||e._terminated)throw new Cv(Tv.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var ZI=function(){function e(t){It(this,e),this._byteString=t}return Tt(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Pm.fromBase64String(t))}catch(t){throw new Cv(Tv.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Pm.fromUint8Array(t))}}]),e}(),eE=function(){function e(){It(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Cv(Tv.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qv(n)}return Tt(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var tE=Tt((function e(t){It(this,e),this._methodName=t})),nE=function(){function e(t,n){if(It(this,e),!isFinite(t)||t<-90||t>90)throw new Cv(Tv.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Cv(Tv.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Tt(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Vv(this._lat,e._lat)||Vv(this._long,e._long)}}]),e}(),rE=/^__.*__$/,iE=function(){function e(t,n,r){It(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Tt(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Eg(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ig(e,this.data,t,this.fieldTransforms)}}]),e}(),aE=function(){function e(t,n,r){It(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Tt(e,[{key:"toMutation",value:function(e,t){return new Eg(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function oE(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Sv()}}var uE=function(){function e(t,n,r,i,a,o){It(this,e),this.settings=t,this.databaseId=n,this.It=r,this.ignoreUndefinedProperties=i,void 0===a&&this.na(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Tt(e,[{key:"path",get:function(){return this.settings.path}},{key:"sa",get:function(){return this.settings.sa}},{key:"ia",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ra",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.ua(e),r}},{key:"ca",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.na(),r}},{key:"aa",value:function(e){return this.ia({path:void 0,oa:!0})}},{key:"ha",value:function(e){return TE(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"na",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ua(this.path.get(e))}},{key:"ua",value:function(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(oE(this.sa)&&rE.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}]),e}(),sE=function(){function e(t,n,r){It(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.It=r||Rx(t)}return Tt(e,[{key:"da",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new uE({sa:e,methodName:t,fa:n,path:Qv.emptyPath(),oa:!1,la:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}]),e}();function cE(e){var t=e._freezeSettings(),n=Rx(e._databaseId);return new sE(e._databaseId,!!t.ignoreUndefinedProperties,n)}function lE(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.da(a.merge||a.mergeFields?2:0,t,n,i);_E("Data must be an object, but it was:",o,r);var u,s,c=wE(r,o);if(a.merge)u=new Nm(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=Ct(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=SE(t,d,n);if(!o.contains(p))throw new Cv(Tv.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));CE(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new Nm(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new iE(new hy(c),u,s)}var fE=function(e){Nt(n,e);var t=Mt(n);function n(){return It(this,n),t.apply(this,arguments)}return Tt(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.sa)throw 1===e.sa?e.ha("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ha("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(tE);function hE(e,t,n){return new uE({sa:3,fa:t.settings.fa,methodName:e._methodName,oa:n},t.databaseId,t.It,t.ignoreUndefinedProperties)}var dE=function(e){Nt(n,e);var t=Mt(n);function n(){return It(this,n),t.apply(this,arguments)}return Tt(n,[{key:"_toFieldTransform",value:function(e){return new vg(e.path,new ug)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(tE),pE=function(e){Nt(n,e);var t=Mt(n);function n(e,r){var i;return It(this,n),(i=t.call(this,e))._a=r,i}return Tt(n,[{key:"_toFieldTransform",value:function(e){var t=hE(this,e,!0),n=this._a.map((function(e){return bE(e,t)})),r=new sg(n);return new vg(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(tE),vE=function(e){Nt(n,e);var t=Mt(n);function n(e,r){var i;return It(this,n),(i=t.call(this,e))._a=r,i}return Tt(n,[{key:"_toFieldTransform",value:function(e){var t=hE(this,e,!0),n=this._a.map((function(e){return bE(e,t)})),r=new lg(n);return new vg(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(tE),mE=function(e){Nt(n,e);var t=Mt(n);function n(e,r){var i;return It(this,n),(i=t.call(this,e)).wa=r,i}return Tt(n,[{key:"_toFieldTransform",value:function(e){var t=new hg(e.It,ng(e.It,this.wa));return new vg(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(tE);function yE(e,t,n,r){var i=e.da(1,t,n);_E("Data must be an object, but it was:",i,r);var a=[],o=hy.empty();_m(r,(function(e,r){var u=EE(t,e,n);r=vn(r);var s=i.ca(u);if(r instanceof fE)a.push(u);else{var c=bE(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new Nm(a);return new aE(o,u,i.fieldTransforms)}function gE(e,t,n,r,i,a){var o=e.da(1,t,n),u=[SE(t,r,n)],s=[i];if(a.length%2!=0)throw new Cv(Tv.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(SE(t,a[c])),s.push(a[c+1]);for(var l=[],f=hy.empty(),h=u.length-1;h>=0;--h)if(!CE(l,u[h])){var d=u[h],p=s[h];p=vn(p);var v=o.ca(d);if(p instanceof fE)l.push(d);else{var m=bE(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new Nm(l);return new aE(f,y,o.fieldTransforms)}function kE(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return bE(n,e.da(r?4:3,t))}function bE(e,t){if(xE(e=vn(e)))return _E("Unsupported field value:",t,e),wE(e,t);if(e instanceof tE)return function(e,t){if(!oE(t.sa))throw t.ha("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ha("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Ct(e);try{for(a.s();!(n=a.n()).done;){var o=bE(n.value,t.aa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=vn(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return ng(t.It,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=qv.fromDate(e);return{timestampValue:ck(t.It,n)}}if(e instanceof qv){var r=new qv(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:ck(t.It,r)}}if(e instanceof nE)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof ZI)return{bytesValue:lk(t.It,e._byteString)};if(e instanceof fI){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ha("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:dk(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ha("Unsupported field value: ".concat(iI(e)))}(e,t)}function wE(e,t){var n={};return Sm(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):_m(e,(function(e,r){var i=bE(r,t.ra(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function xE(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof qv||e instanceof nE||e instanceof ZI||e instanceof fI||e instanceof tE)}function _E(e,t,n){if(!xE(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=iI(n);throw"an object"===r?t.ha(e+" a custom object"):t.ha(e+" "+r)}}function SE(e,t,n){if((t=vn(t))instanceof eE)return t._internalPath;if("string"==typeof t)return EE(e,t);throw TE("Field path arguments must be of type string or ",e,!1,void 0,n)}var IE=new RegExp("[~\\*/\\[\\]]");function EE(e,t,n){if(t.search(IE)>=0)throw TE("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Ft(eE,gn(t.split(".")))._internalPath}catch(r){throw TE("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function TE(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Cv(Tv.INVALID_ARGUMENT,u+e+s)}function CE(e,t){return e.some((function(e){return e.isEqual(t)}))}var AE=function(){function e(t,n,r,i,a){It(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Tt(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new fI(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new OE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(NE("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),OE=function(e){Nt(n,e);var t=Mt(n);function n(){return It(this,n),t.apply(this,arguments)}return Tt(n,[{key:"data",value:function(){return Qr(Pt(n.prototype),"data",this).call(this)}}]),n}(AE);function NE(e,t){return"string"==typeof t?EE(e,t):t instanceof eE?t._internalPath:t._delegate._internalPath}function PE(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Cv(Tv.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var DE=Tt((function e(){It(this,e)}));function RE(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var LE=function(e){Nt(n,e);var t=Mt(n);function n(e,r,i){var a;return It(this,n),(a=t.call(this)).ma=e,a.ga=r,a.ya=i,a.type="where",a}return Tt(n,[{key:"_apply",value:function(e){var t=cE(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Cv(Tv.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){GE(o,a);var s,c=[],l=Ct(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(KE(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=KE(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||GE(o,a),u=kE(n,"where",o,"in"===a||"not-in"===a);var h=_y.create(i,a,u);return function(e,t){if(t.dt()){var n=By(e);if(null!==n&&!n.isEqual(t.field))throw new Cv(Tv.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=zy(e);null!==r&&HE(e,t.field,r)}var i=function(e,t){var n,r=Ct(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Cv(Tv.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Cv(Tv.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new hI(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Fy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(DE);var ME=function(e){Nt(n,e);var t=Mt(n);function n(e,r){var i;return It(this,n),(i=t.call(this)).ma=e,i.pa=r,i.type="orderBy",i}return Tt(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Cv(Tv.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Cv(Tv.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Dy(t,n);return function(e,t){if(null===zy(e)){var n=By(e);null!==n&&HE(e,n,t.field)}}(e,r),r}(e._query,this.ma,this.pa);return new hI(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Fy(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(DE);var FE=function(e){Nt(n,e);var t=Mt(n);function n(e,r,i){var a;return It(this,n),(a=t.call(this)).type=e,a.Ia=r,a.Ta=i,a}return Tt(n,[{key:"_apply",value:function(e){return new hI(e.firestore,e.converter,Gy(e._query,this.Ia,this.Ta))}}]),n}(DE);var jE=function(e){Nt(n,e);var t=Mt(n);function n(e,r,i){var a;return It(this,n),(a=t.call(this)).type=e,a.Ea=r,a.Aa=i,a}return Tt(n,[{key:"_apply",value:function(e){var t=WE(e,this.type,this.Ea,this.Aa);return new hI(e.firestore,e.converter,function(e,t){return new Fy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(DE);function UE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new jE("startAt",t,!0)}function VE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new jE("startAfter",t,!1)}var zE=function(e){Nt(n,e);var t=Mt(n);function n(e,r,i){var a;return It(this,n),(a=t.call(this)).type=e,a.Ea=r,a.Aa=i,a}return Tt(n,[{key:"_apply",value:function(e){var t=WE(e,this.type,this.Ea,this.Aa);return new hI(e.firestore,e.converter,function(e,t){return new Fy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(DE);function BE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new zE("endBefore",t,!1)}function qE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new zE("endAt",t,!0)}function WE(e,t,n,r){if(n[0]=vn(n[0]),n[0]instanceof AE)return function(e,t,n,r,i){if(!r)throw new Cv(Tv.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=Ct(Wy(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(ey(t,r.key));else{var c=r.data.field(s.field);if(Fm(c))throw new Cv(Tv.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new Cv(Tv.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new Py(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=cE(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Cv(Tv.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new Cv(Tv.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!qy(e)&&-1!==c.indexOf("/"))throw new Cv(Tv.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Gv.fromString(c));if(!$v.isDocumentKey(l))throw new Cv(Tv.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new $v(l);u.push(ey(t,f))}else{var h=kE(n,r,c);u.push(h)}}return new Py(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function KE(e,t,n){if("string"==typeof(n=vn(n))){if(""===n)throw new Cv(Tv.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!qy(t)&&-1!==n.indexOf("/"))throw new Cv(Tv.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Gv.fromString(n));if(!$v.isDocumentKey(r))throw new Cv(Tv.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return ey(e,new $v(r))}if(n instanceof fI)return ey(e,n._key);throw new Cv(Tv.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(iI(n),"."))}function GE(e,t){if(!Array.isArray(e)||0===e.length)throw new Cv(Tv.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Cv(Tv.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function HE(e,t,n){if(!n.isEqual(t))throw new Cv(Tv.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var QE=function(){function e(){It(this,e)}return Tt(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Hm(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Lm(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Mm(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Sv()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return _m(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new nE(Lm(e.latitude),Lm(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=jm(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Um(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Rm(e);return new qv(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Gv.fromString(e);Iv(Fk(n));var r=new zm(n.get(1),n.get(3)),i=new $v(n.popFirst(5));return r.isEqual(t)||wv("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function $E(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var YE=function(e){Nt(n,e);var t=Mt(n);function n(e){var r;return It(this,n),(r=t.call(this)).firestore=e,r}return Tt(n,[{key:"convertBytes",value:function(e){return new ZI(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new fI(this.firestore,null,t)}}]),n}(QE),XE=function(){function e(t,n){It(this,e),this.hasPendingWrites=t,this.fromCache=n}return Tt(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),JE=function(e){Nt(n,e);var t=Mt(n);function n(e,r,i,a,o,u){var s;return It(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return Tt(n,[{key:"exists",value:function(){return Qr(Pt(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new ZE(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(NE("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(AE),ZE=function(e){Nt(n,e);var t=Mt(n);function n(){return It(this,n),t.apply(this,arguments)}return Tt(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Qr(Pt(n.prototype),"data",this).call(this,e)}}]),n}(JE),eT=function(){function e(t,n,r,i){It(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new XE(i.hasPendingWrites,i.fromCache),this.query=r}return Tt(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new ZE(n._firestore,n._userDataWriter,r.key,r,new XE(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Cv(Tv.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new ZE(e._firestore,e._userDataWriter,t.doc.key,t.doc,new XE(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new ZE(e._firestore,e._userDataWriter,t.doc.key,t.doc,new XE(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:tT(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function tT(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Sv()}}function nT(e,t){return e instanceof JE&&t instanceof JE?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof eT&&t instanceof eT&&e._firestore===t._firestore&&yI(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var rT=function(e){Nt(n,e);var t=Mt(n);function n(e){var r;return It(this,n),(r=t.call(this)).firestore=e,r}return Tt(n,[{key:"convertBytes",value:function(e){return new ZI(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new fI(this.firestore,null,t)}}]),n}(QE);function iT(e){e=aI(e,fI);var t=aI(e.firestore,WI),n=KI(t),r=new rT(t);return function(e,t){var n=new Av;return e.asyncQueue.enqueueAndForget(bn(mn().mark((function r(){return mn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=bn(mn().mark((function e(t,n,r){var i,a;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Ev(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Cv(Tv.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=O_(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,DI(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new JE(t,r,e._key,n,new XE(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function aT(e){e=aI(e,hI);var t=aI(e.firestore,WI),n=KI(t),r=new rT(t);return function(e,t){var n=new Av;return e.asyncQueue.enqueueAndForget(bn(mn().mark((function r(){return mn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=bn(mn().mark((function e(t,n,r){var i,a,o,u,s;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,cx(t,n,!0);case 3:i=e.sent,a=new Y_(n,i.Hi),o=a.Wu(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=O_(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,DI(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new eT(t,r,e,n)}))}function oT(e,t,n){e=aI(e,fI);var r=aI(e.firestore,WI),i=$E(e.converter,t,n);return lT(r,[lE(cE(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,yg.none())])}function uT(e,t,n){e=aI(e,fI);for(var r=aI(e.firestore,WI),i=cE(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return lT(r,[("string"==typeof(t=vn(t))||t instanceof eE?gE(i,"updateDoc",e._key,t,n,o):yE(i,"updateDoc",e._key,t)).toMutation(e._key,yg.exists(!0))])}function sT(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=vn(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||BI(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(BI(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof fI)l=aI(e.firestore,WI),f=Uy(e._key.path),c={next:function(t){n[s]&&n[s](fT(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=aI(e,hI);l=aI(p.firestore,WI),f=p._query;var v=new rT(l);c={next:function(e){n[s]&&n[s](new eT(l,v,p,e))},error:n[s+1],complete:n[s+2]},PE(e._query)}return function(e,t,n,r){var i=new kI(r),a=new q_(t,i,n);return e.asyncQueue.enqueueAndForget(bn(mn().mark((function t(){return mn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=M_,t.next=3,FI(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.bc(),e.asyncQueue.enqueueAndForget(bn(mn().mark((function t(){return mn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=j_,t.next=3,FI(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(KI(l),f,h,c)}function cT(e,t){return function(e,t){var n=new kI(t);return e.asyncQueue.enqueueAndForget(bn(mn().mark((function t(){return mn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Ev(e).Ru.add(t),t.next()},t.next=3,FI(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.bc(),e.asyncQueue.enqueueAndForget(bn(mn().mark((function t(){return mn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Ev(e).Ru.delete(t)},t.next=3,FI(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(KI(e=aI(e,WI)),BI(t)?t:{next:t})}function lT(e,t){return function(e,t){var n=new Av;return e.asyncQueue.enqueueAndForget(bn(mn().mark((function r(){return mn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=oS,r.next=3,LI(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(KI(e),t)}function fT(e,t,n){var r=n.docs.get(t._key),i=new rT(e);return new JE(e,i,t._key,r,new XE(n.hasPendingWrites,n.fromCache),t.converter)}var hT={maxAttempts:5},dT=function(){function e(t,n){It(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=cE(t)}return Tt(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=pT(e,this._firestore),i=$E(r.converter,t,n),a=lE(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,yg.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=pT(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=vn(t))||t instanceof eE?gE(this._dataReader,"WriteBatch.update",i._key,t,n,o):yE(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,yg.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=pT(e,this._firestore);return this._mutations=this._mutations.concat(new Pg(t._key,yg.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Cv(Tv.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function pT(e,t){if((e=vn(e)).firestore!==t)throw new Cv(Tv.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var vT=function(e){Nt(n,e);var t=Mt(n);function n(e,r){var i;return It(this,n),(i=t.call(this,e,r))._firestore=e,i}return Tt(n,[{key:"get",value:function(e){var t=this,r=pT(e,this._firestore),i=new rT(this._firestore);return Qr(Pt(n.prototype),"get",this).call(this,e).then((function(e){return new JE(t._firestore,i,r._key,e._document,new XE(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){It(this,e),this._firestore=t,this._transaction=n,this._dataReader=cE(t)}return Tt(e,[{key:"get",value:function(e){var t=this,n=pT(e,this._firestore),r=new YE(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Sv();var i=e[0];if(i.isFoundDocument())return new AE(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new AE(t._firestore,r,n._key,null,n.converter);throw Sv()}))}},{key:"set",value:function(e,t,n){var r=pT(e,this._firestore),i=$E(r.converter,t,n),a=lE(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=pT(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=vn(t))||t instanceof eE?gE(this._dataReader,"Transaction.update",i._key,t,n,o):yE(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=pT(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function mT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new pE("arrayUnion",t)}function yT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new vE("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){yv=e}(mr),cr(new wn("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new WI(new Dv(e.getProvider("auth-internal")),new Fv(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Cv(Tv.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zm(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),xr(vv,"3.7.3",e),xr(vv,"3.7.3","esm2017")}();function gT(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Cv("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function kT(){if("undefined"===typeof Uint8Array)throw new Cv("unimplemented","Uint8Arrays are not available in this environment.")}function bT(){if("undefined"==typeof atob)throw new Cv("unimplemented","Blobs are unavailable in Firestore in this environment.")}var wT=function(){function e(t){It(this,e),this._delegate=t}return Tt(e,[{key:"toBase64",value:function(){return bT(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return kT(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return bT(),new e(ZI.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return kT(),new e(ZI.fromUint8Array(t))}}]),e}();function xT(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=Ct(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var _T=function(){function e(){It(this,e)}return Tt(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){JI(e=aI(e,WI));var n=KI(e),r=e._freezeSettings(),i=new ZS;return HI(n,i,new XS(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){JI(e=aI(e,WI));var t=KI(e),n=e._freezeSettings(),r=new ZS;return HI(t,r,new JS(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Cv(Tv.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Av;return e._queue.enqueueAndForgetEvenWhileRestricted(bn(mn().mark((function n(){return mn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=bn(mn().mark((function e(t){var n;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(fm.C()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,fm.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(Qw(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),ST=function(){function e(t,n,r){var i=this;It(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof zm||(this._appCompat=t)}return Tt(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||xv("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};lI(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return QI(this._delegate)}},{key:"disableNetwork",value:function(){return $I(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&tI("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Av;return e.asyncQueue.enqueueAndForget(bn(mn().mark((function n(){return mn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=yS,n.next=3,LI(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(KI(e=aI(e,WI)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return cT(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Cv("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new jT(this,pI(this._delegate,e))}catch(t){throw OT(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new AT(this,vI(this._delegate,e))}catch(t){throw OT(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new LT(this,function(e,t){if(e=aI(e,cI),eI("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Cv(Tv.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new hI(e,null,function(e){return new Fy(Gv.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw OT(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=aI(e,WI);var r=Object.assign(Object.assign({},hT),n);return function(e){if(e.maxAttempts<1)throw new Cv(Tv.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new Av;return e.asyncQueue.enqueueAndForget(bn(mn().mark((function i(){var a;return mn().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,MI(e);case 2:a=i.sent,new xI(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(KI(e),(function(n){return t(new vT(e,n))}),r)}(this._delegate,(function(n){return e(new ET(t,n))}))}},{key:"batch",value:function(){var e=this;return KI(this._delegate),new TT(new dT(this._delegate,(function(t){return lT(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return YI(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return XI(this._delegate,e).then((function(e){return e?new LT(t,e):null}))}}]),e}(),IT=function(e){Nt(n,e);var t=Mt(n);function n(e){var r;return It(this,n),(r=t.call(this)).firestore=e,r}return Tt(n,[{key:"convertBytes",value:function(e){return new wT(new ZI(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return AT.forKey(t,this.firestore,null)}}]),n}(QE);var ET=function(){function e(t,n){It(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new IT(t)}return Tt(e,[{key:"get",value:function(e){var t=this,n=UT(e);return this._delegate.get(n).then((function(e){return new DT(t._firestore,new JE(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=UT(e);return n?(gT("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=UT(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=UT(e);return this._delegate.delete(t),this}}]),e}(),TT=function(){function e(t){It(this,e),this._delegate=t}return Tt(e,[{key:"set",value:function(e,t,n){var r=UT(e);return n?(gT("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=UT(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=UT(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),CT=function(){function e(t,n,r){It(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return Tt(e,[{key:"fromFirestore",value:function(e,t){var n=new ZE(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new RT(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new IT(t),n),i.set(n,a)),a}}]),e}();CT.INSTANCES=new WeakMap;var AT=function(){function e(t,n){It(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new IT(t)}return Tt(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new jT(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new jT(this.firestore,pI(this._delegate,e))}catch(t){throw OT(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=vn(e))instanceof fI&&mI(this._delegate,e)}},{key:"set",value:function(e,t){t=gT("DocumentReference.set",t);try{return t?oT(this._delegate,e,t):oT(this._delegate,e)}catch(n){throw OT(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?uT(this._delegate,e):uT.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw OT(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return lT(aI(e.firestore,WI),[new Pg(e._key,yg.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=NT(n),a=PT(n,(function(t){return new DT(e.firestore,new JE(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return sT(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?iT(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=aI(e,fI);var t=aI(e.firestore,WI);return UI(KI(t),e._key,{source:"server"}).then((function(n){return fT(t,e,n)}))}(this._delegate):function(e){e=aI(e,fI);var t=aI(e.firestore,WI);return UI(KI(t),e._key).then((function(n){return fT(t,e,n)}))}(this._delegate),t.then((function(e){return new DT(n.firestore,new JE(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(CT.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Cv("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new fI(n._delegate,r,new $v(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new fI(n._delegate,r,t))}}]),e}();function OT(e,t,n){return e.message=e.message.replace(t,n),e}function NT(e){var t,n=Ct(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!xT(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function PT(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=xT(e[0])?e[0]:xT(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var DT=function(){function e(t,n){It(this,e),this._firestore=t,this._delegate=n}return Tt(e,[{key:"ref",get:function(){return new AT(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return nT(this._delegate,e._delegate)}}]),e}(),RT=function(e){Nt(n,e);var t=Mt(n);function n(){return It(this,n),t.apply(this,arguments)}return Tt(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Sv()}(void 0!==t),t}}]),n}(DT),LT=function(){function e(t,n){It(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new IT(t)}return Tt(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,RE(this._delegate,function(e,t,n){var r=t,i=NE("where",e);return new LE(i,r,n)}(t,n,r)))}catch(i){throw OT(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,RE(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=NE("orderBy",e);return new ME(n,t)}(t,n)))}catch(r){throw OT(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,RE(this._delegate,function(e){return oI("limit",e),new FE("limit",e,"F")}(t)))}catch(n){throw OT(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,RE(this._delegate,function(e){return oI("limitToLast",e),new FE("limitToLast",e,"L")}(t)))}catch(n){throw OT(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,RE(this._delegate,UE.apply(void 0,arguments)))}catch(t){throw OT(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,RE(this._delegate,VE.apply(void 0,arguments)))}catch(t){throw OT(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,RE(this._delegate,BE.apply(void 0,arguments)))}catch(t){throw OT(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,RE(this._delegate,qE.apply(void 0,arguments)))}catch(t){throw OT(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return yI(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?aT(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=aI(e,hI);var t=aI(e.firestore,WI),n=KI(t),r=new rT(t);return VI(n,e._query,{source:"server"}).then((function(n){return new eT(t,r,e,n)}))}(this._delegate):function(e){e=aI(e,hI);var t=aI(e.firestore,WI),n=KI(t),r=new rT(t);return PE(e._query),VI(n,e._query).then((function(n){return new eT(t,r,e,n)}))}(this._delegate),t.then((function(e){return new FT(n.firestore,new eT(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=NT(n),a=PT(n,(function(t){return new FT(e.firestore,new eT(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return sT(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(CT.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),MT=function(){function e(t,n){It(this,e),this._firestore=t,this._delegate=n}return Tt(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new RT(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),FT=function(){function e(t,n){It(this,e),this._firestore=t,this._delegate=n}return Tt(e,[{key:"query",get:function(){return new LT(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new RT(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new MT(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new RT(n._firestore,r))}))}},{key:"isEqual",value:function(e){return nT(this._delegate,e._delegate)}}]),e}(),jT=function(e){Nt(n,e);var t=Mt(n);function n(e,r){var i;return It(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return Tt(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new AT(this.firestore,e):null}},{key:"doc",value:function(e){try{return new AT(this.firestore,void 0===e?vI(this._delegate):vI(this._delegate,e))}catch(t){throw OT(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=aI(e.firestore,WI),r=vI(e),i=$E(e.converter,t);return lT(n,[lE(cE(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,yg.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new AT(t.firestore,e)}))}},{key:"isEqual",value:function(e){return mI(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(CT.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(LT);function UT(e){return aI(e,fI)}var VT=function(){function e(){It(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=Ft(eE,n)}return Tt(e,[{key:"isEqual",value:function(e){return(e=vn(e))instanceof eE&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Qv.keyField().canonicalString())}}]),e}(),zT=function(){function e(t){It(this,e),this._delegate=t}return Tt(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new dE("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new fE("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=mT.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=yT.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new mE("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),BT={Firestore:ST,GeoPoint:nE,Timestamp:qv,Blob:wT,Transaction:ET,WriteBatch:TT,DocumentReference:AT,DocumentSnapshot:DT,Query:LT,QueryDocumentSnapshot:RT,QuerySnapshot:FT,CollectionReference:jT,FieldPath:VT,FieldValue:zT,setLogLevel:function(e){!function(e){gv.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new wn("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},BT)))}(e,(function(e,t){return new ST(e,t,new _T)})),e.registerVersion("@firebase/firestore-compat","0.2.3")}(Gr);var qT,WT=Gr.initializeApp({apiKey:"AIzaSyDJlrVBBVOMVDzq1xV5Lp_7_oTCg3clQn4",authDomain:"bro-s-chat-5d46d.firebaseapp.com",projectId:"bro-s-chat-5d46d",storageBucket:"bro-s-chat-5d46d.appspot.com",messagingSenderId:"623361636710",appId:"1:623361636710:web:457a6afb50aa8644f570a7"}),KT=WT.firestore(),GT=WT.auth(),HT=new Gr.auth.GoogleAuthProvider,QT=He.div(qT||(qT=c(["\n  flex: 1;\n  background: linear-gradient(0deg, gray, whitesmoke);\n  overflow-y: auto;\n  &::-webkit-scrollbar {\n    width: 6px;\n    border-radius: 10px;\n  }\n  &::-webkit-scrollbar-thumb {\n    border-radius: 10px;\n    background-color: rgba(0, 0, 0, 0.2);\n  }\n"])));var $T,YT,XT,JT,ZT,eC=function(){return eC=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},eC.apply(this,arguments)},tC=function(e){return{loading:void 0===e||null===e,value:e}},nC=function(e){var t=e?e():void 0,n=(0,s.useReducer)((function(e,t){switch(t.type){case"error":return eC(eC({},e),{error:t.error,loading:!1,value:void 0});case"reset":return tC(t.defaultValue);case"value":return eC(eC({},e),{error:void 0,loading:!1,value:t.value});default:return e}}),tC(t)),r=n[0],i=n[1],a=(0,s.useCallback)((function(){var t=e?e():void 0;i({type:"reset",defaultValue:t})}),[e]),o=(0,s.useCallback)((function(e){i({type:"error",error:e})}),[]),u=(0,s.useCallback)((function(e){i({type:"value",value:e})}),[]);return(0,s.useMemo)((function(){return{error:r.error,loading:r.loading,reset:a,setError:o,setValue:u,value:r.value}}),[r.error,r.loading,a,o,u,r.value])},rC=function(e,t,n){var r=(0,s.useRef)(e);return(0,s.useEffect)((function(){t(e,r.current)||(r.current=e,n&&n())})),r},iC=function(e,t){var n=!e&&!t,r=!!e&&!!t&&yI(e,t);return n||r},aC=function(e,t){return rC(e,iC,t)},oC=function(e,t){var n=nC(),r=n.error,i=n.loading,a=n.reset,o=n.setError,u=n.setValue,c=n.value,l=aC(e,a);return(0,s.useEffect)((function(){if(l.current){var e=(null===t||void 0===t?void 0:t.snapshotListenOptions)?sT(l.current,t.snapshotListenOptions,u,o):sT(l.current,u,o);return function(){e()}}u(void 0)}),[l.current]),[c,i,r]},uC=He.div($T||($T=c([""]))),sC=He.div(YT||(YT=c(["\n  margin: 10px;\n  display: flex;\n  &.me {\n    > div {\n      background-color: #dcf8c6;\n    }\n    justify-content: right;\n  }\n"]))),cC=He.div(XT||(XT=c(["\n  background-color: #fff;\n  border-radius: 10px;\n  box-shadow: 0 1px 1px #ccc;\n  display: flex;\n  flex-direction: column;\n  padding: 3px;\n  max-width: 80%;\n"]))),lC=He.span(JT||(JT=c(["\n  font-size: 14px;\n  margin: 5px 40px 5px 5px;\n"]))),fC=He.span(ZT||(ZT=c(["\n  font-size: 11px;\n  color: #999;\n  text-align: right;\n  height: 15px;\n  margin: -5px 5px 0;\n"])));function hC(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(t){a(t)}}function u(e){try{s(r.throw(e))}catch(t){a(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))}function dC(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(u){a=[6,u],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}var pC,vC,mC,yC,gC,kC,bC,wC,xC,_C,SC,IC,EC,TC,CC,AC,OC,NC,PC,DC=function(){return DC=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},DC.apply(this,arguments)},RC=function(e){return{loading:void 0===e||null===e,value:e}},LC=function(e){var t=e?e():void 0,n=(0,s.useReducer)((function(e,t){switch(t.type){case"error":return DC(DC({},e),{error:t.error,loading:!1,value:void 0});case"reset":return RC(t.defaultValue);case"value":return DC(DC({},e),{error:void 0,loading:!1,value:t.value});default:return e}}),RC(t)),r=n[0],i=n[1],a=(0,s.useCallback)((function(){var t=e?e():void 0;i({type:"reset",defaultValue:t})}),[e]),o=(0,s.useCallback)((function(e){i({type:"error",error:e})}),[]),u=(0,s.useCallback)((function(e){i({type:"value",value:e})}),[]);return(0,s.useMemo)((function(){return{error:r.error,loading:r.loading,reset:a,setError:o,setValue:u,value:r.value}}),[r.error,r.loading,a,o,u,r.value])},MC=function(e,t){var n=LC((function(){return e.currentUser})),r=n.error,i=n.loading,a=n.setError,o=n.setValue,u=n.value;return(0,s.useEffect)((function(){var n=function(e,t,n,r){return vn(e).onAuthStateChanged(t,n,r)}(e,(function(e){return hC(void 0,void 0,void 0,(function(){var n;return dC(this,(function(r){switch(r.label){case 0:if(!(null===t||void 0===t?void 0:t.onUserChanged))return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,t.onUserChanged(e)];case 2:return r.sent(),[3,4];case 3:return n=r.sent(),a(n),[3,4];case 4:return o(e),[2]}}))}))}),a);return function(){n()}}),[e]),[u,i,r]},FC=function(e){var t=e.user,n=e.message,r=u(MC(GT),1)[0];return(0,yt.jsx)(uC,{children:(0,yt.jsx)(sC,{className:(null===r||void 0===r?void 0:r.email)===t?"me":"",children:(0,yt.jsxs)(cC,{children:[(0,yt.jsx)(lC,{children:n.message}),(0,yt.jsx)(fC,{children:new Date(null===n||void 0===n?void 0:n.timestamp).toLocaleString()})]})})})},jC=function(e){var t=e.chatId,n=u(oC(KT.collection("chats").doc(t).collection("messages").orderBy("timestamp","asc")),1)[0],r=(0,s.useRef)("");return(0,s.useEffect)((function(){r.current.scrollHeight>r.current.offsetHeight&&(r.current.scrollTop=r.current.scrollHeight-r.current.offsetHeight)}),[n]),(0,yt.jsx)(QT,{ref:r,children:null===n||void 0===n?void 0:n.docs.map((function(e){var t;return(0,yt.jsx)(FC,{user:e.data().user,message:{message:e.data().message,timestamp:null===(t=e.data().timestamp)||void 0===t?void 0:t.toDate().getTime()}},e.id)}))})},UC=He.div(pC||(pC=c(["\n  height: 62px;\n  bottom: 0;\n  width: 100%;\n  padding: 10px 20px;\n  background: linear-gradient(0deg, #7DBA84, #8FD694);\n  display: flex;\n  box-shadow: 2px 1px 3px 1px #0003;\n  svg {\n    width: 25px;\n    height: 25px;\n    color: black;\n  }\n"]))),VC=He.form(vC||(vC=c(["\n  display: flex;\n  align-items: center;\n  gap: 5px;\n  width: 100%;\n"]))),zC=He.input(mC||(mC=c(["\n  padding: 10px;\n  outline: none;\n  border: none;\n  border-radius: 5px;\n  width: 100%;\n  box-shadow: inset 0 0 1px 1px #0003;\n"]))),BC=function(e){var t=e.chatId,n=u(MC(GT),1)[0],r=u((0,s.useState)(""),2),i=r[0],a=r[1],o=function(e){e.preventDefault(),KT.collection("chats").doc(t).collection("messages").add({message:i,user:n.email,photoURL:n.photoURL,timestamp:Gr.firestore.FieldValue.serverTimestamp()}),a("")};return(0,yt.jsx)(UC,{children:(0,yt.jsxs)(VC,{onSubmit:o,children:[(0,yt.jsx)(zC,{placeholder:"Mensagem",onChange:function(e){return a(e.target.value)},value:i}),(0,yt.jsx)(lt,{onClick:o})]})})},qC=function(e){var t=e.userChat;return t?(0,yt.jsxs)(kt,{children:[(0,yt.jsx)(gt,{photoURL:null===t||void 0===t?void 0:t.photoURL,name:null===t||void 0===t?void 0:t.name}),(0,yt.jsx)(jC,{chatId:null===t||void 0===t?void 0:t.chatId}),(0,yt.jsx)(BC,{chatId:null===t||void 0===t?void 0:t.chatId})]}):(0,yt.jsx)(_t,{})},WC=He.div(yC||(yC=c(["\n  width: 35%;\n  max-width: 415px;\n  border-right: 1px solid #ddd;\n  height: 100vh;\n  background: linear-gradient(0deg, gray, whitesmoke)\n"]))),KC=He.div(gC||(gC=c(["\n  height: 59px;\n  background: linear-gradient(180deg, #7DBA84, #8FD694);\n  padding: 10px 16px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 5px;\n  box-shadow: 0 1px 2px #0003;\n"]))),GC=He.img(kC||(kC=c(["\n  width: 35px;\n  height: 35px;\n  cursor: pointer;\n  border-radius: 50%;\n"]))),HC=He.div(bC||(bC=c(["\n  display: flex;\n  gap: 10px;\n  svg {\n    width: 24px;\n    height: 24px;\n    color: black;\n    cursor: pointer;\n  }\n"]))),QC=n(9635),$C=function(e){var t=e.setUserChat,n=u(MC(GT),1)[0],r=KT.collection("chats").where("users","array-contains",n.email),i=u(oC(r),1)[0],a=function(e){return!!i.docs.find((function(t){var n;return(null===(n=t.data().users.find((function(t){return t===e})))||void 0===n?void 0:n.length)>0}))};return(0,yt.jsxs)(KC,{children:[(0,yt.jsx)(GC,{src:n.photoURL,onClick:function(){return[GT.signOut(),t(null)]}}),(0,yt.jsxs)(HC,{children:[(0,yt.jsx)(ut,{}),(0,yt.jsx)(ct,{onClick:function(){var e=prompt("Escreva o e-mail desejado");if(e)return QC.G(e)?e===n.email?alert("Insira um e-mail diferente do seu!"):a(e)?alert("Chat j\xe1 existe!"):void KT.collection("chats").add({users:[n.email,e]}):alert("E-mail inv\xe1lido!")}}),(0,yt.jsx)(ft,{})]})]})},YC=He.div(wC||(wC=c(["\n  height: calc(100vh - 70px);\n  overflow-y: auto;\n  &::-webkit-scrollbar {\n    width: 6px;\n    border-radius: 10px;\n  }\n  &::-webkit-scrollbar-thumb {\n    border-radius: 10px;\n    background-color: rgba(0, 0, 0, 0.2);\n  }\n"]))),XC=He.div(xC||(xC=c([""]))),JC=He.div(_C||(_C=c(["\n  margin: 0 10px;\n  border-top: solid 1px #ddd;\n"]))),ZC=He.div(SC||(SC=c(["\n  display: flex;\n  align-items: center;\n  justify-content: start;\n  padding: 15px 20px;\n  cursor: pointer;\n  &:hover {\n    background-color: #f0f2f5;\n  }\n  svg {\n    width: 30px;\n    height: 30px;\n    background-color: #ccc;\n    border-radius: 50%;\n    margin-right: 10px;\n    min-width: fit-content;\n  }\n  &.active {\n    background-color: #f0f2f5;\n  }\n"]))),eA=He.span(IC||(IC=c(["\n  font-size: 18px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"]))),tA=He.img(EC||(EC=c(["\n  width: 30px;\n  height: 30px;\n  border-radius: 50%;\n  margin-right: 10px;\n  min-width: fit-content;\n"]))),nA=function(e,t){return null===e||void 0===e?void 0:e.filter((function(e){return e!==(null===t||void 0===t?void 0:t.email)}))[0]},rA=function(e){var t,n,r=e.id,i=e.users,a=e.user,o=e.setUserChat,s=e.active,c=u(oC(KT.collection("users").where("email","==",nA(i,a))),1)[0],l=null===c||void 0===c||null===(t=c.docs)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.data(),f=nA(i,a);return(0,yt.jsxs)(ZC,{onClick:function(){var e={chatId:r,name:f.split("@")[0],photoURL:null===l||void 0===l?void 0:l.photoURL};o(e)},className:s,children:[l?(0,yt.jsx)(tA,{src:null===l||void 0===l?void 0:l.photoURL}):(0,yt.jsx)(ht,{}),(0,yt.jsx)(eA,{children:f.split("@")[0]})]})},iA=function(e){var t=e.setUserChat,n=e.userChat,r=u(MC(GT),1)[0],i=KT.collection("chats").where("users","array-contains",r.email),a=u(oC(i),1)[0];return(0,yt.jsx)(YC,{children:null===a||void 0===a?void 0:a.docs.map((function(e,i){return(0,yt.jsxs)(XC,{children:[(0,yt.jsx)(rA,{id:e.id,users:e.data().users,user:r,setUserChat:t,active:(null===n||void 0===n?void 0:n.chatId)===e.id?"active":""}),(0,yt.jsx)(JC,{})]},i)}))})},aA=function(e){var t=e.setUserChat,n=e.userChat;return(0,yt.jsxs)(WC,{children:[(0,yt.jsx)($C,{setUserChat:t}),(0,yt.jsx)(iA,{setUserChat:t,userChat:n})]})},oA=He.div(TC||(TC=c(["\n  display: flex;\n  width: 100%;\n  height: 100vh;\n"]))),uA=He.div(CC||(CC=c(["\n  display: flex;\n  height: 100vh;\n  align-items: center;\n  justify-content: center;\n  background: linear-gradient(0deg, #7DBA84, #8FD694);\n  flex-direction: column;\n"]))),sA=He.button(AC||(AC=c(["\n  outline: none;\n  font-size: 18px;\n  padding: 14px 18px;\n  cursor: pointer;\n  background-color: rgba(205, 205, 205, 0.25);\n  color: black;\n  border-radius: 8px;\n  border: none;\n  box-shadow: 1.5px 2px 0 0 rgba(86, 86, 86, 1);\n  margin-top: 25px;\n"]))),cA=He.h2(OC||(OC=c(["\n  margin-top: 15px;\n  color: black;\n"]))),lA=function(){return(0,yt.jsxs)(uA,{children:[(0,yt.jsx)("img",{src:"https://cdn0.iconfinder.com/data/icons/squared-communication/64/messaging-app-512.png",alt:"Icon",width:"150px",height:"150px"}),(0,yt.jsx)(cA,{children:"Bem vindo(a) ao Bro's Chat!"}),(0,yt.jsx)(sA,{onClick:function(){GT.signInWithPopup(HT).catch(alert)},children:"Login com Google"})]})},fA=n(8646),hA=He.div(NC||(NC=c(["\n  display: flex;\n  height: 100vh;\n  align-items: center;\n  justify-content: center;\n"]))),dA=function(){return(0,yt.jsx)(hA,{children:(0,yt.jsx)(fA.Cd,{})})},pA=function(){var e=u(MC(GT),2),t=e[0],n=e[1],r=u((0,s.useState)(null),2),i=r[0],a=r[1];return(0,s.useEffect)((function(){t&&KT.collection("users").doc(t.uid).set({email:t.email,photoURL:t.photoURL})}),[t]),n?(0,yt.jsx)(dA,{}):t?(0,yt.jsxs)(oA,{children:[(0,yt.jsx)(aA,{setUserChat:a,userChat:i}),(0,yt.jsx)(qC,{userChat:i})]}):(0,yt.jsx)(lA,{})},vA=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=Ie.apply(void 0,[e].concat(n)),a="sc-global-"+Oe(JSON.stringify(i)),o=new Ve(i,a);function u(e){var t=de(),n=pe(),r=(0,s.useContext)(Me),i=(0,s.useRef)(t.allocateGSInstance(a)).current;return t.server&&c(i,e,t,r,n),(0,s.useLayoutEffect)((function(){if(!t.server)return c(i,e,t,r,n),function(){return o.removeStyles(i,t)}}),[i,e,t,r,n]),null}function c(e,t,n,r,i){if(o.isStatic)o.renderStyles(e,N,n,i);else{var a=b({},t,{theme:Ee(t,r,u.defaultProps)});o.renderStyles(e,a,n,i)}}return s.memo(u)}(PC||(PC=c(["\n  * {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n  }\n  body {\n    width: 100vw;\n    height: 100vh;\n    font-family:  'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n  }\n"]))),mA=vA;(0,t.s)(document.querySelector("#root")).render((0,yt.jsxs)(yt.Fragment,{children:[(0,yt.jsx)(pA,{}),(0,yt.jsx)(mA,{})]}))}()}();
//# sourceMappingURL=main.ec815862.js.map